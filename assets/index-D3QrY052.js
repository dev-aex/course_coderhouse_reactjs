function wy(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const l of s.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function Ey(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var sm={exports:{}},Dl={},om={exports:{}},Y={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var js=Symbol.for("react.element"),Cy=Symbol.for("react.portal"),xy=Symbol.for("react.fragment"),Ty=Symbol.for("react.strict_mode"),Sy=Symbol.for("react.profiler"),Iy=Symbol.for("react.provider"),Py=Symbol.for("react.context"),Ay=Symbol.for("react.forward_ref"),Ry=Symbol.for("react.suspense"),ky=Symbol.for("react.memo"),Ny=Symbol.for("react.lazy"),Kd=Symbol.iterator;function Vy(t){return t===null||typeof t!="object"?null:(t=Kd&&t[Kd]||t["@@iterator"],typeof t=="function"?t:null)}var lm={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},am=Object.assign,um={};function hi(t,e,n){this.props=t,this.context=e,this.refs=um,this.updater=n||lm}hi.prototype.isReactComponent={};hi.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};hi.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function cm(){}cm.prototype=hi.prototype;function kc(t,e,n){this.props=t,this.context=e,this.refs=um,this.updater=n||lm}var Nc=kc.prototype=new cm;Nc.constructor=kc;am(Nc,hi.prototype);Nc.isPureReactComponent=!0;var Gd=Array.isArray,hm=Object.prototype.hasOwnProperty,Vc={current:null},dm={key:!0,ref:!0,__self:!0,__source:!0};function fm(t,e,n){var r,i={},s=null,l=null;if(e!=null)for(r in e.ref!==void 0&&(l=e.ref),e.key!==void 0&&(s=""+e.key),e)hm.call(e,r)&&!dm.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var u=Array(a),h=0;h<a;h++)u[h]=arguments[h+2];i.children=u}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:js,type:t,key:s,ref:l,props:i,_owner:Vc.current}}function Dy(t,e){return{$$typeof:js,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Dc(t){return typeof t=="object"&&t!==null&&t.$$typeof===js}function Ly(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Xd=/\/+/g;function Va(t,e){return typeof t=="object"&&t!==null&&t.key!=null?Ly(""+t.key):e.toString(36)}function jo(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var l=!1;if(t===null)l=!0;else switch(s){case"string":case"number":l=!0;break;case"object":switch(t.$$typeof){case js:case Cy:l=!0}}if(l)return l=t,i=i(l),t=r===""?"."+Va(l,0):r,Gd(i)?(n="",t!=null&&(n=t.replace(Xd,"$&/")+"/"),jo(i,e,n,"",function(h){return h})):i!=null&&(Dc(i)&&(i=Dy(i,n+(!i.key||l&&l.key===i.key?"":(""+i.key).replace(Xd,"$&/")+"/")+t)),e.push(i)),1;if(l=0,r=r===""?".":r+":",Gd(t))for(var a=0;a<t.length;a++){s=t[a];var u=r+Va(s,a);l+=jo(s,e,n,u,i)}else if(u=Vy(t),typeof u=="function")for(t=u.call(t),a=0;!(s=t.next()).done;)s=s.value,u=r+Va(s,a++),l+=jo(s,e,n,u,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return l}function fo(t,e,n){if(t==null)return t;var r=[],i=0;return jo(t,r,"","",function(s){return e.call(n,s,i++)}),r}function jy(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var rt={current:null},Mo={transition:null},My={ReactCurrentDispatcher:rt,ReactCurrentBatchConfig:Mo,ReactCurrentOwner:Vc};function pm(){throw Error("act(...) is not supported in production builds of React.")}Y.Children={map:fo,forEach:function(t,e,n){fo(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return fo(t,function(){e++}),e},toArray:function(t){return fo(t,function(e){return e})||[]},only:function(t){if(!Dc(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Y.Component=hi;Y.Fragment=xy;Y.Profiler=Sy;Y.PureComponent=kc;Y.StrictMode=Ty;Y.Suspense=Ry;Y.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=My;Y.act=pm;Y.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=am({},t.props),i=t.key,s=t.ref,l=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,l=Vc.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(u in e)hm.call(e,u)&&!dm.hasOwnProperty(u)&&(r[u]=e[u]===void 0&&a!==void 0?a[u]:e[u])}var u=arguments.length-2;if(u===1)r.children=n;else if(1<u){a=Array(u);for(var h=0;h<u;h++)a[h]=arguments[h+2];r.children=a}return{$$typeof:js,type:t.type,key:i,ref:s,props:r,_owner:l}};Y.createContext=function(t){return t={$$typeof:Py,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:Iy,_context:t},t.Consumer=t};Y.createElement=fm;Y.createFactory=function(t){var e=fm.bind(null,t);return e.type=t,e};Y.createRef=function(){return{current:null}};Y.forwardRef=function(t){return{$$typeof:Ay,render:t}};Y.isValidElement=Dc;Y.lazy=function(t){return{$$typeof:Ny,_payload:{_status:-1,_result:t},_init:jy}};Y.memo=function(t,e){return{$$typeof:ky,type:t,compare:e===void 0?null:e}};Y.startTransition=function(t){var e=Mo.transition;Mo.transition={};try{t()}finally{Mo.transition=e}};Y.unstable_act=pm;Y.useCallback=function(t,e){return rt.current.useCallback(t,e)};Y.useContext=function(t){return rt.current.useContext(t)};Y.useDebugValue=function(){};Y.useDeferredValue=function(t){return rt.current.useDeferredValue(t)};Y.useEffect=function(t,e){return rt.current.useEffect(t,e)};Y.useId=function(){return rt.current.useId()};Y.useImperativeHandle=function(t,e,n){return rt.current.useImperativeHandle(t,e,n)};Y.useInsertionEffect=function(t,e){return rt.current.useInsertionEffect(t,e)};Y.useLayoutEffect=function(t,e){return rt.current.useLayoutEffect(t,e)};Y.useMemo=function(t,e){return rt.current.useMemo(t,e)};Y.useReducer=function(t,e,n){return rt.current.useReducer(t,e,n)};Y.useRef=function(t){return rt.current.useRef(t)};Y.useState=function(t){return rt.current.useState(t)};Y.useSyncExternalStore=function(t,e,n){return rt.current.useSyncExternalStore(t,e,n)};Y.useTransition=function(){return rt.current.useTransition()};Y.version="18.3.1";om.exports=Y;var j=om.exports;const Oy=Ey(j),Fy=wy({__proto__:null,default:Oy},[j]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Uy=j,By=Symbol.for("react.element"),by=Symbol.for("react.fragment"),zy=Object.prototype.hasOwnProperty,$y=Uy.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Hy={key:!0,ref:!0,__self:!0,__source:!0};function mm(t,e,n){var r,i={},s=null,l=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(l=e.ref);for(r in e)zy.call(e,r)&&!Hy.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:By,type:t,key:s,ref:l,props:i,_owner:$y.current}}Dl.Fragment=by;Dl.jsx=mm;Dl.jsxs=mm;sm.exports=Dl;var p=sm.exports,gm={exports:{}},gt={},ym={exports:{}},vm={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(z,Q){var G=z.length;z.push(Q);e:for(;0<G;){var fe=G-1>>>1,oe=z[fe];if(0<i(oe,Q))z[fe]=Q,z[G]=oe,G=fe;else break e}}function n(z){return z.length===0?null:z[0]}function r(z){if(z.length===0)return null;var Q=z[0],G=z.pop();if(G!==Q){z[0]=G;e:for(var fe=0,oe=z.length,Ee=oe>>>1;fe<Ee;){var qt=2*(fe+1)-1,Wt=z[qt],Qt=qt+1,Kt=z[Qt];if(0>i(Wt,G))Qt<oe&&0>i(Kt,Wt)?(z[fe]=Kt,z[Qt]=G,fe=Qt):(z[fe]=Wt,z[qt]=G,fe=qt);else if(Qt<oe&&0>i(Kt,G))z[fe]=Kt,z[Qt]=G,fe=Qt;else break e}}return Q}function i(z,Q){var G=z.sortIndex-Q.sortIndex;return G!==0?G:z.id-Q.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var l=Date,a=l.now();t.unstable_now=function(){return l.now()-a}}var u=[],h=[],f=1,g=null,v=3,P=!1,k=!1,N=!1,L=typeof setTimeout=="function"?setTimeout:null,T=typeof clearTimeout=="function"?clearTimeout:null,_=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function S(z){for(var Q=n(h);Q!==null;){if(Q.callback===null)r(h);else if(Q.startTime<=z)r(h),Q.sortIndex=Q.expirationTime,e(u,Q);else break;Q=n(h)}}function D(z){if(N=!1,S(z),!k)if(n(u)!==null)k=!0,wi(F);else{var Q=n(h);Q!==null&&Ht(D,Q.startTime-z)}}function F(z,Q){k=!1,N&&(N=!1,T(y),y=-1),P=!0;var G=v;try{for(S(Q),g=n(u);g!==null&&(!(g.expirationTime>Q)||z&&!I());){var fe=g.callback;if(typeof fe=="function"){g.callback=null,v=g.priorityLevel;var oe=fe(g.expirationTime<=Q);Q=t.unstable_now(),typeof oe=="function"?g.callback=oe:g===n(u)&&r(u),S(Q)}else r(u);g=n(u)}if(g!==null)var Ee=!0;else{var qt=n(h);qt!==null&&Ht(D,qt.startTime-Q),Ee=!1}return Ee}finally{g=null,v=G,P=!1}}var B=!1,E=null,y=-1,w=5,C=-1;function I(){return!(t.unstable_now()-C<w)}function R(){if(E!==null){var z=t.unstable_now();C=z;var Q=!0;try{Q=E(!0,z)}finally{Q?x():(B=!1,E=null)}}else B=!1}var x;if(typeof _=="function")x=function(){_(R)};else if(typeof MessageChannel<"u"){var vt=new MessageChannel,Wn=vt.port2;vt.port1.onmessage=R,x=function(){Wn.postMessage(null)}}else x=function(){L(R,0)};function wi(z){E=z,B||(B=!0,x())}function Ht(z,Q){y=L(function(){z(t.unstable_now())},Q)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(z){z.callback=null},t.unstable_continueExecution=function(){k||P||(k=!0,wi(F))},t.unstable_forceFrameRate=function(z){0>z||125<z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):w=0<z?Math.floor(1e3/z):5},t.unstable_getCurrentPriorityLevel=function(){return v},t.unstable_getFirstCallbackNode=function(){return n(u)},t.unstable_next=function(z){switch(v){case 1:case 2:case 3:var Q=3;break;default:Q=v}var G=v;v=Q;try{return z()}finally{v=G}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(z,Q){switch(z){case 1:case 2:case 3:case 4:case 5:break;default:z=3}var G=v;v=z;try{return Q()}finally{v=G}},t.unstable_scheduleCallback=function(z,Q,G){var fe=t.unstable_now();switch(typeof G=="object"&&G!==null?(G=G.delay,G=typeof G=="number"&&0<G?fe+G:fe):G=fe,z){case 1:var oe=-1;break;case 2:oe=250;break;case 5:oe=1073741823;break;case 4:oe=1e4;break;default:oe=5e3}return oe=G+oe,z={id:f++,callback:Q,priorityLevel:z,startTime:G,expirationTime:oe,sortIndex:-1},G>fe?(z.sortIndex=G,e(h,z),n(u)===null&&z===n(h)&&(N?(T(y),y=-1):N=!0,Ht(D,G-fe))):(z.sortIndex=oe,e(u,z),k||P||(k=!0,wi(F))),z},t.unstable_shouldYield=I,t.unstable_wrapCallback=function(z){var Q=v;return function(){var G=v;v=Q;try{return z.apply(this,arguments)}finally{v=G}}}})(vm);ym.exports=vm;var qy=ym.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wy=j,mt=qy;function O(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var _m=new Set,cs={};function yr(t,e){Yr(t,e),Yr(t+"Capture",e)}function Yr(t,e){for(cs[t]=e,t=0;t<e.length;t++)_m.add(e[t])}var rn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),pu=Object.prototype.hasOwnProperty,Qy=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Yd={},Zd={};function Ky(t){return pu.call(Zd,t)?!0:pu.call(Yd,t)?!1:Qy.test(t)?Zd[t]=!0:(Yd[t]=!0,!1)}function Gy(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function Xy(t,e,n,r){if(e===null||typeof e>"u"||Gy(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function it(t,e,n,r,i,s,l){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=l}var Ue={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Ue[t]=new it(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Ue[e]=new it(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Ue[t]=new it(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Ue[t]=new it(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Ue[t]=new it(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Ue[t]=new it(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Ue[t]=new it(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Ue[t]=new it(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Ue[t]=new it(t,5,!1,t.toLowerCase(),null,!1,!1)});var Lc=/[\-:]([a-z])/g;function jc(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Lc,jc);Ue[e]=new it(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Lc,jc);Ue[e]=new it(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Lc,jc);Ue[e]=new it(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Ue[t]=new it(t,1,!1,t.toLowerCase(),null,!1,!1)});Ue.xlinkHref=new it("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Ue[t]=new it(t,1,!1,t.toLowerCase(),null,!0,!0)});function Mc(t,e,n,r){var i=Ue.hasOwnProperty(e)?Ue[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(Xy(e,n,i,r)&&(n=null),r||i===null?Ky(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var cn=Wy.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,po=Symbol.for("react.element"),Rr=Symbol.for("react.portal"),kr=Symbol.for("react.fragment"),Oc=Symbol.for("react.strict_mode"),mu=Symbol.for("react.profiler"),wm=Symbol.for("react.provider"),Em=Symbol.for("react.context"),Fc=Symbol.for("react.forward_ref"),gu=Symbol.for("react.suspense"),yu=Symbol.for("react.suspense_list"),Uc=Symbol.for("react.memo"),mn=Symbol.for("react.lazy"),Cm=Symbol.for("react.offscreen"),Jd=Symbol.iterator;function ji(t){return t===null||typeof t!="object"?null:(t=Jd&&t[Jd]||t["@@iterator"],typeof t=="function"?t:null)}var ge=Object.assign,Da;function Hi(t){if(Da===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Da=e&&e[1]||""}return`
`+Da+t}var La=!1;function ja(t,e){if(!t||La)return"";La=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(h){var r=h}Reflect.construct(t,[],e)}else{try{e.call()}catch(h){r=h}t.call(e.prototype)}else{try{throw Error()}catch(h){r=h}t()}}catch(h){if(h&&r&&typeof h.stack=="string"){for(var i=h.stack.split(`
`),s=r.stack.split(`
`),l=i.length-1,a=s.length-1;1<=l&&0<=a&&i[l]!==s[a];)a--;for(;1<=l&&0<=a;l--,a--)if(i[l]!==s[a]){if(l!==1||a!==1)do if(l--,a--,0>a||i[l]!==s[a]){var u=`
`+i[l].replace(" at new "," at ");return t.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",t.displayName)),u}while(1<=l&&0<=a);break}}}finally{La=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Hi(t):""}function Yy(t){switch(t.tag){case 5:return Hi(t.type);case 16:return Hi("Lazy");case 13:return Hi("Suspense");case 19:return Hi("SuspenseList");case 0:case 2:case 15:return t=ja(t.type,!1),t;case 11:return t=ja(t.type.render,!1),t;case 1:return t=ja(t.type,!0),t;default:return""}}function vu(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case kr:return"Fragment";case Rr:return"Portal";case mu:return"Profiler";case Oc:return"StrictMode";case gu:return"Suspense";case yu:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Em:return(t.displayName||"Context")+".Consumer";case wm:return(t._context.displayName||"Context")+".Provider";case Fc:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Uc:return e=t.displayName||null,e!==null?e:vu(t.type)||"Memo";case mn:e=t._payload,t=t._init;try{return vu(t(e))}catch{}}return null}function Zy(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return vu(e);case 8:return e===Oc?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function jn(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function xm(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function Jy(t){var e=xm(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(l){r=""+l,s.call(this,l)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(l){r=""+l},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function mo(t){t._valueTracker||(t._valueTracker=Jy(t))}function Tm(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=xm(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Yo(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function _u(t,e){var n=e.checked;return ge({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function ef(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=jn(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function Sm(t,e){e=e.checked,e!=null&&Mc(t,"checked",e,!1)}function wu(t,e){Sm(t,e);var n=jn(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Eu(t,e.type,n):e.hasOwnProperty("defaultValue")&&Eu(t,e.type,jn(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function tf(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Eu(t,e,n){(e!=="number"||Yo(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var qi=Array.isArray;function br(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+jn(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function Cu(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(O(91));return ge({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function nf(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(O(92));if(qi(n)){if(1<n.length)throw Error(O(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:jn(n)}}function Im(t,e){var n=jn(e.value),r=jn(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function rf(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function Pm(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function xu(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?Pm(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var go,Am=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(go=go||document.createElement("div"),go.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=go.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function hs(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Yi={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ev=["Webkit","ms","Moz","O"];Object.keys(Yi).forEach(function(t){ev.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Yi[e]=Yi[t]})});function Rm(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Yi.hasOwnProperty(t)&&Yi[t]?(""+e).trim():e+"px"}function km(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=Rm(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var tv=ge({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Tu(t,e){if(e){if(tv[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(O(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(O(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(O(61))}if(e.style!=null&&typeof e.style!="object")throw Error(O(62))}}function Su(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Iu=null;function Bc(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Pu=null,zr=null,$r=null;function sf(t){if(t=Fs(t)){if(typeof Pu!="function")throw Error(O(280));var e=t.stateNode;e&&(e=Fl(e),Pu(t.stateNode,t.type,e))}}function Nm(t){zr?$r?$r.push(t):$r=[t]:zr=t}function Vm(){if(zr){var t=zr,e=$r;if($r=zr=null,sf(t),e)for(t=0;t<e.length;t++)sf(e[t])}}function Dm(t,e){return t(e)}function Lm(){}var Ma=!1;function jm(t,e,n){if(Ma)return t(e,n);Ma=!0;try{return Dm(t,e,n)}finally{Ma=!1,(zr!==null||$r!==null)&&(Lm(),Vm())}}function ds(t,e){var n=t.stateNode;if(n===null)return null;var r=Fl(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(O(231,e,typeof n));return n}var Au=!1;if(rn)try{var Mi={};Object.defineProperty(Mi,"passive",{get:function(){Au=!0}}),window.addEventListener("test",Mi,Mi),window.removeEventListener("test",Mi,Mi)}catch{Au=!1}function nv(t,e,n,r,i,s,l,a,u){var h=Array.prototype.slice.call(arguments,3);try{e.apply(n,h)}catch(f){this.onError(f)}}var Zi=!1,Zo=null,Jo=!1,Ru=null,rv={onError:function(t){Zi=!0,Zo=t}};function iv(t,e,n,r,i,s,l,a,u){Zi=!1,Zo=null,nv.apply(rv,arguments)}function sv(t,e,n,r,i,s,l,a,u){if(iv.apply(this,arguments),Zi){if(Zi){var h=Zo;Zi=!1,Zo=null}else throw Error(O(198));Jo||(Jo=!0,Ru=h)}}function vr(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function Mm(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function of(t){if(vr(t)!==t)throw Error(O(188))}function ov(t){var e=t.alternate;if(!e){if(e=vr(t),e===null)throw Error(O(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return of(i),t;if(s===r)return of(i),e;s=s.sibling}throw Error(O(188))}if(n.return!==r.return)n=i,r=s;else{for(var l=!1,a=i.child;a;){if(a===n){l=!0,n=i,r=s;break}if(a===r){l=!0,r=i,n=s;break}a=a.sibling}if(!l){for(a=s.child;a;){if(a===n){l=!0,n=s,r=i;break}if(a===r){l=!0,r=s,n=i;break}a=a.sibling}if(!l)throw Error(O(189))}}if(n.alternate!==r)throw Error(O(190))}if(n.tag!==3)throw Error(O(188));return n.stateNode.current===n?t:e}function Om(t){return t=ov(t),t!==null?Fm(t):null}function Fm(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=Fm(t);if(e!==null)return e;t=t.sibling}return null}var Um=mt.unstable_scheduleCallback,lf=mt.unstable_cancelCallback,lv=mt.unstable_shouldYield,av=mt.unstable_requestPaint,xe=mt.unstable_now,uv=mt.unstable_getCurrentPriorityLevel,bc=mt.unstable_ImmediatePriority,Bm=mt.unstable_UserBlockingPriority,el=mt.unstable_NormalPriority,cv=mt.unstable_LowPriority,bm=mt.unstable_IdlePriority,Ll=null,Ot=null;function hv(t){if(Ot&&typeof Ot.onCommitFiberRoot=="function")try{Ot.onCommitFiberRoot(Ll,t,void 0,(t.current.flags&128)===128)}catch{}}var kt=Math.clz32?Math.clz32:pv,dv=Math.log,fv=Math.LN2;function pv(t){return t>>>=0,t===0?32:31-(dv(t)/fv|0)|0}var yo=64,vo=4194304;function Wi(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function tl(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,l=n&268435455;if(l!==0){var a=l&~i;a!==0?r=Wi(a):(s&=l,s!==0&&(r=Wi(s)))}else l=n&~i,l!==0?r=Wi(l):s!==0&&(r=Wi(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-kt(e),i=1<<n,r|=t[n],e&=~i;return r}function mv(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function gv(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var l=31-kt(s),a=1<<l,u=i[l];u===-1?(!(a&n)||a&r)&&(i[l]=mv(a,e)):u<=e&&(t.expiredLanes|=a),s&=~a}}function ku(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function zm(){var t=yo;return yo<<=1,!(yo&4194240)&&(yo=64),t}function Oa(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Ms(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-kt(e),t[e]=n}function yv(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-kt(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function zc(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-kt(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var se=0;function $m(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var Hm,$c,qm,Wm,Qm,Nu=!1,_o=[],Tn=null,Sn=null,In=null,fs=new Map,ps=new Map,yn=[],vv="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function af(t,e){switch(t){case"focusin":case"focusout":Tn=null;break;case"dragenter":case"dragleave":Sn=null;break;case"mouseover":case"mouseout":In=null;break;case"pointerover":case"pointerout":fs.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":ps.delete(e.pointerId)}}function Oi(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=Fs(e),e!==null&&$c(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function _v(t,e,n,r,i){switch(e){case"focusin":return Tn=Oi(Tn,t,e,n,r,i),!0;case"dragenter":return Sn=Oi(Sn,t,e,n,r,i),!0;case"mouseover":return In=Oi(In,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return fs.set(s,Oi(fs.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,ps.set(s,Oi(ps.get(s)||null,t,e,n,r,i)),!0}return!1}function Km(t){var e=er(t.target);if(e!==null){var n=vr(e);if(n!==null){if(e=n.tag,e===13){if(e=Mm(n),e!==null){t.blockedOn=e,Qm(t.priority,function(){qm(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Oo(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Vu(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Iu=r,n.target.dispatchEvent(r),Iu=null}else return e=Fs(n),e!==null&&$c(e),t.blockedOn=n,!1;e.shift()}return!0}function uf(t,e,n){Oo(t)&&n.delete(e)}function wv(){Nu=!1,Tn!==null&&Oo(Tn)&&(Tn=null),Sn!==null&&Oo(Sn)&&(Sn=null),In!==null&&Oo(In)&&(In=null),fs.forEach(uf),ps.forEach(uf)}function Fi(t,e){t.blockedOn===e&&(t.blockedOn=null,Nu||(Nu=!0,mt.unstable_scheduleCallback(mt.unstable_NormalPriority,wv)))}function ms(t){function e(i){return Fi(i,t)}if(0<_o.length){Fi(_o[0],t);for(var n=1;n<_o.length;n++){var r=_o[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Tn!==null&&Fi(Tn,t),Sn!==null&&Fi(Sn,t),In!==null&&Fi(In,t),fs.forEach(e),ps.forEach(e),n=0;n<yn.length;n++)r=yn[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<yn.length&&(n=yn[0],n.blockedOn===null);)Km(n),n.blockedOn===null&&yn.shift()}var Hr=cn.ReactCurrentBatchConfig,nl=!0;function Ev(t,e,n,r){var i=se,s=Hr.transition;Hr.transition=null;try{se=1,Hc(t,e,n,r)}finally{se=i,Hr.transition=s}}function Cv(t,e,n,r){var i=se,s=Hr.transition;Hr.transition=null;try{se=4,Hc(t,e,n,r)}finally{se=i,Hr.transition=s}}function Hc(t,e,n,r){if(nl){var i=Vu(t,e,n,r);if(i===null)Qa(t,e,r,rl,n),af(t,r);else if(_v(i,t,e,n,r))r.stopPropagation();else if(af(t,r),e&4&&-1<vv.indexOf(t)){for(;i!==null;){var s=Fs(i);if(s!==null&&Hm(s),s=Vu(t,e,n,r),s===null&&Qa(t,e,r,rl,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else Qa(t,e,r,null,n)}}var rl=null;function Vu(t,e,n,r){if(rl=null,t=Bc(r),t=er(t),t!==null)if(e=vr(t),e===null)t=null;else if(n=e.tag,n===13){if(t=Mm(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return rl=t,null}function Gm(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(uv()){case bc:return 1;case Bm:return 4;case el:case cv:return 16;case bm:return 536870912;default:return 16}default:return 16}}var _n=null,qc=null,Fo=null;function Xm(){if(Fo)return Fo;var t,e=qc,n=e.length,r,i="value"in _n?_n.value:_n.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var l=n-t;for(r=1;r<=l&&e[n-r]===i[s-r];r++);return Fo=i.slice(t,1<r?1-r:void 0)}function Uo(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function wo(){return!0}function cf(){return!1}function yt(t){function e(n,r,i,s,l){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=l,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?wo:cf,this.isPropagationStopped=cf,this}return ge(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=wo)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=wo)},persist:function(){},isPersistent:wo}),e}var di={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Wc=yt(di),Os=ge({},di,{view:0,detail:0}),xv=yt(Os),Fa,Ua,Ui,jl=ge({},Os,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Qc,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Ui&&(Ui&&t.type==="mousemove"?(Fa=t.screenX-Ui.screenX,Ua=t.screenY-Ui.screenY):Ua=Fa=0,Ui=t),Fa)},movementY:function(t){return"movementY"in t?t.movementY:Ua}}),hf=yt(jl),Tv=ge({},jl,{dataTransfer:0}),Sv=yt(Tv),Iv=ge({},Os,{relatedTarget:0}),Ba=yt(Iv),Pv=ge({},di,{animationName:0,elapsedTime:0,pseudoElement:0}),Av=yt(Pv),Rv=ge({},di,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),kv=yt(Rv),Nv=ge({},di,{data:0}),df=yt(Nv),Vv={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Dv={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Lv={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function jv(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=Lv[t])?!!e[t]:!1}function Qc(){return jv}var Mv=ge({},Os,{key:function(t){if(t.key){var e=Vv[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Uo(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Dv[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Qc,charCode:function(t){return t.type==="keypress"?Uo(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Uo(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Ov=yt(Mv),Fv=ge({},jl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ff=yt(Fv),Uv=ge({},Os,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Qc}),Bv=yt(Uv),bv=ge({},di,{propertyName:0,elapsedTime:0,pseudoElement:0}),zv=yt(bv),$v=ge({},jl,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Hv=yt($v),qv=[9,13,27,32],Kc=rn&&"CompositionEvent"in window,Ji=null;rn&&"documentMode"in document&&(Ji=document.documentMode);var Wv=rn&&"TextEvent"in window&&!Ji,Ym=rn&&(!Kc||Ji&&8<Ji&&11>=Ji),pf=" ",mf=!1;function Zm(t,e){switch(t){case"keyup":return qv.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Jm(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Nr=!1;function Qv(t,e){switch(t){case"compositionend":return Jm(e);case"keypress":return e.which!==32?null:(mf=!0,pf);case"textInput":return t=e.data,t===pf&&mf?null:t;default:return null}}function Kv(t,e){if(Nr)return t==="compositionend"||!Kc&&Zm(t,e)?(t=Xm(),Fo=qc=_n=null,Nr=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Ym&&e.locale!=="ko"?null:e.data;default:return null}}var Gv={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function gf(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!Gv[t.type]:e==="textarea"}function eg(t,e,n,r){Nm(r),e=il(e,"onChange"),0<e.length&&(n=new Wc("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var es=null,gs=null;function Xv(t){hg(t,0)}function Ml(t){var e=Lr(t);if(Tm(e))return t}function Yv(t,e){if(t==="change")return e}var tg=!1;if(rn){var ba;if(rn){var za="oninput"in document;if(!za){var yf=document.createElement("div");yf.setAttribute("oninput","return;"),za=typeof yf.oninput=="function"}ba=za}else ba=!1;tg=ba&&(!document.documentMode||9<document.documentMode)}function vf(){es&&(es.detachEvent("onpropertychange",ng),gs=es=null)}function ng(t){if(t.propertyName==="value"&&Ml(gs)){var e=[];eg(e,gs,t,Bc(t)),jm(Xv,e)}}function Zv(t,e,n){t==="focusin"?(vf(),es=e,gs=n,es.attachEvent("onpropertychange",ng)):t==="focusout"&&vf()}function Jv(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Ml(gs)}function e2(t,e){if(t==="click")return Ml(e)}function t2(t,e){if(t==="input"||t==="change")return Ml(e)}function n2(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Vt=typeof Object.is=="function"?Object.is:n2;function ys(t,e){if(Vt(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!pu.call(e,i)||!Vt(t[i],e[i]))return!1}return!0}function _f(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function wf(t,e){var n=_f(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=_f(n)}}function rg(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?rg(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function ig(){for(var t=window,e=Yo();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Yo(t.document)}return e}function Gc(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function r2(t){var e=ig(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&rg(n.ownerDocument.documentElement,n)){if(r!==null&&Gc(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=wf(n,s);var l=wf(n,r);i&&l&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==l.node||t.focusOffset!==l.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(l.node,l.offset)):(e.setEnd(l.node,l.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var i2=rn&&"documentMode"in document&&11>=document.documentMode,Vr=null,Du=null,ts=null,Lu=!1;function Ef(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Lu||Vr==null||Vr!==Yo(r)||(r=Vr,"selectionStart"in r&&Gc(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),ts&&ys(ts,r)||(ts=r,r=il(Du,"onSelect"),0<r.length&&(e=new Wc("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Vr)))}function Eo(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Dr={animationend:Eo("Animation","AnimationEnd"),animationiteration:Eo("Animation","AnimationIteration"),animationstart:Eo("Animation","AnimationStart"),transitionend:Eo("Transition","TransitionEnd")},$a={},sg={};rn&&(sg=document.createElement("div").style,"AnimationEvent"in window||(delete Dr.animationend.animation,delete Dr.animationiteration.animation,delete Dr.animationstart.animation),"TransitionEvent"in window||delete Dr.transitionend.transition);function Ol(t){if($a[t])return $a[t];if(!Dr[t])return t;var e=Dr[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in sg)return $a[t]=e[n];return t}var og=Ol("animationend"),lg=Ol("animationiteration"),ag=Ol("animationstart"),ug=Ol("transitionend"),cg=new Map,Cf="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Bn(t,e){cg.set(t,e),yr(e,[t])}for(var Ha=0;Ha<Cf.length;Ha++){var qa=Cf[Ha],s2=qa.toLowerCase(),o2=qa[0].toUpperCase()+qa.slice(1);Bn(s2,"on"+o2)}Bn(og,"onAnimationEnd");Bn(lg,"onAnimationIteration");Bn(ag,"onAnimationStart");Bn("dblclick","onDoubleClick");Bn("focusin","onFocus");Bn("focusout","onBlur");Bn(ug,"onTransitionEnd");Yr("onMouseEnter",["mouseout","mouseover"]);Yr("onMouseLeave",["mouseout","mouseover"]);Yr("onPointerEnter",["pointerout","pointerover"]);Yr("onPointerLeave",["pointerout","pointerover"]);yr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));yr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));yr("onBeforeInput",["compositionend","keypress","textInput","paste"]);yr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));yr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));yr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Qi="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),l2=new Set("cancel close invalid load scroll toggle".split(" ").concat(Qi));function xf(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,sv(r,e,void 0,t),t.currentTarget=null}function hg(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var l=r.length-1;0<=l;l--){var a=r[l],u=a.instance,h=a.currentTarget;if(a=a.listener,u!==s&&i.isPropagationStopped())break e;xf(i,a,h),s=u}else for(l=0;l<r.length;l++){if(a=r[l],u=a.instance,h=a.currentTarget,a=a.listener,u!==s&&i.isPropagationStopped())break e;xf(i,a,h),s=u}}}if(Jo)throw t=Ru,Jo=!1,Ru=null,t}function ce(t,e){var n=e[Uu];n===void 0&&(n=e[Uu]=new Set);var r=t+"__bubble";n.has(r)||(dg(e,t,2,!1),n.add(r))}function Wa(t,e,n){var r=0;e&&(r|=4),dg(n,t,r,e)}var Co="_reactListening"+Math.random().toString(36).slice(2);function vs(t){if(!t[Co]){t[Co]=!0,_m.forEach(function(n){n!=="selectionchange"&&(l2.has(n)||Wa(n,!1,t),Wa(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Co]||(e[Co]=!0,Wa("selectionchange",!1,e))}}function dg(t,e,n,r){switch(Gm(e)){case 1:var i=Ev;break;case 4:i=Cv;break;default:i=Hc}n=i.bind(null,e,n,t),i=void 0,!Au||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function Qa(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var l=r.tag;if(l===3||l===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(l===4)for(l=r.return;l!==null;){var u=l.tag;if((u===3||u===4)&&(u=l.stateNode.containerInfo,u===i||u.nodeType===8&&u.parentNode===i))return;l=l.return}for(;a!==null;){if(l=er(a),l===null)return;if(u=l.tag,u===5||u===6){r=s=l;continue e}a=a.parentNode}}r=r.return}jm(function(){var h=s,f=Bc(n),g=[];e:{var v=cg.get(t);if(v!==void 0){var P=Wc,k=t;switch(t){case"keypress":if(Uo(n)===0)break e;case"keydown":case"keyup":P=Ov;break;case"focusin":k="focus",P=Ba;break;case"focusout":k="blur",P=Ba;break;case"beforeblur":case"afterblur":P=Ba;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":P=hf;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":P=Sv;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":P=Bv;break;case og:case lg:case ag:P=Av;break;case ug:P=zv;break;case"scroll":P=xv;break;case"wheel":P=Hv;break;case"copy":case"cut":case"paste":P=kv;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":P=ff}var N=(e&4)!==0,L=!N&&t==="scroll",T=N?v!==null?v+"Capture":null:v;N=[];for(var _=h,S;_!==null;){S=_;var D=S.stateNode;if(S.tag===5&&D!==null&&(S=D,T!==null&&(D=ds(_,T),D!=null&&N.push(_s(_,D,S)))),L)break;_=_.return}0<N.length&&(v=new P(v,k,null,n,f),g.push({event:v,listeners:N}))}}if(!(e&7)){e:{if(v=t==="mouseover"||t==="pointerover",P=t==="mouseout"||t==="pointerout",v&&n!==Iu&&(k=n.relatedTarget||n.fromElement)&&(er(k)||k[sn]))break e;if((P||v)&&(v=f.window===f?f:(v=f.ownerDocument)?v.defaultView||v.parentWindow:window,P?(k=n.relatedTarget||n.toElement,P=h,k=k?er(k):null,k!==null&&(L=vr(k),k!==L||k.tag!==5&&k.tag!==6)&&(k=null)):(P=null,k=h),P!==k)){if(N=hf,D="onMouseLeave",T="onMouseEnter",_="mouse",(t==="pointerout"||t==="pointerover")&&(N=ff,D="onPointerLeave",T="onPointerEnter",_="pointer"),L=P==null?v:Lr(P),S=k==null?v:Lr(k),v=new N(D,_+"leave",P,n,f),v.target=L,v.relatedTarget=S,D=null,er(f)===h&&(N=new N(T,_+"enter",k,n,f),N.target=S,N.relatedTarget=L,D=N),L=D,P&&k)t:{for(N=P,T=k,_=0,S=N;S;S=Tr(S))_++;for(S=0,D=T;D;D=Tr(D))S++;for(;0<_-S;)N=Tr(N),_--;for(;0<S-_;)T=Tr(T),S--;for(;_--;){if(N===T||T!==null&&N===T.alternate)break t;N=Tr(N),T=Tr(T)}N=null}else N=null;P!==null&&Tf(g,v,P,N,!1),k!==null&&L!==null&&Tf(g,L,k,N,!0)}}e:{if(v=h?Lr(h):window,P=v.nodeName&&v.nodeName.toLowerCase(),P==="select"||P==="input"&&v.type==="file")var F=Yv;else if(gf(v))if(tg)F=t2;else{F=Jv;var B=Zv}else(P=v.nodeName)&&P.toLowerCase()==="input"&&(v.type==="checkbox"||v.type==="radio")&&(F=e2);if(F&&(F=F(t,h))){eg(g,F,n,f);break e}B&&B(t,v,h),t==="focusout"&&(B=v._wrapperState)&&B.controlled&&v.type==="number"&&Eu(v,"number",v.value)}switch(B=h?Lr(h):window,t){case"focusin":(gf(B)||B.contentEditable==="true")&&(Vr=B,Du=h,ts=null);break;case"focusout":ts=Du=Vr=null;break;case"mousedown":Lu=!0;break;case"contextmenu":case"mouseup":case"dragend":Lu=!1,Ef(g,n,f);break;case"selectionchange":if(i2)break;case"keydown":case"keyup":Ef(g,n,f)}var E;if(Kc)e:{switch(t){case"compositionstart":var y="onCompositionStart";break e;case"compositionend":y="onCompositionEnd";break e;case"compositionupdate":y="onCompositionUpdate";break e}y=void 0}else Nr?Zm(t,n)&&(y="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(y="onCompositionStart");y&&(Ym&&n.locale!=="ko"&&(Nr||y!=="onCompositionStart"?y==="onCompositionEnd"&&Nr&&(E=Xm()):(_n=f,qc="value"in _n?_n.value:_n.textContent,Nr=!0)),B=il(h,y),0<B.length&&(y=new df(y,t,null,n,f),g.push({event:y,listeners:B}),E?y.data=E:(E=Jm(n),E!==null&&(y.data=E)))),(E=Wv?Qv(t,n):Kv(t,n))&&(h=il(h,"onBeforeInput"),0<h.length&&(f=new df("onBeforeInput","beforeinput",null,n,f),g.push({event:f,listeners:h}),f.data=E))}hg(g,e)})}function _s(t,e,n){return{instance:t,listener:e,currentTarget:n}}function il(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=ds(t,n),s!=null&&r.unshift(_s(t,s,i)),s=ds(t,e),s!=null&&r.push(_s(t,s,i))),t=t.return}return r}function Tr(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Tf(t,e,n,r,i){for(var s=e._reactName,l=[];n!==null&&n!==r;){var a=n,u=a.alternate,h=a.stateNode;if(u!==null&&u===r)break;a.tag===5&&h!==null&&(a=h,i?(u=ds(n,s),u!=null&&l.unshift(_s(n,u,a))):i||(u=ds(n,s),u!=null&&l.push(_s(n,u,a)))),n=n.return}l.length!==0&&t.push({event:e,listeners:l})}var a2=/\r\n?/g,u2=/\u0000|\uFFFD/g;function Sf(t){return(typeof t=="string"?t:""+t).replace(a2,`
`).replace(u2,"")}function xo(t,e,n){if(e=Sf(e),Sf(t)!==e&&n)throw Error(O(425))}function sl(){}var ju=null,Mu=null;function Ou(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Fu=typeof setTimeout=="function"?setTimeout:void 0,c2=typeof clearTimeout=="function"?clearTimeout:void 0,If=typeof Promise=="function"?Promise:void 0,h2=typeof queueMicrotask=="function"?queueMicrotask:typeof If<"u"?function(t){return If.resolve(null).then(t).catch(d2)}:Fu;function d2(t){setTimeout(function(){throw t})}function Ka(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),ms(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);ms(e)}function Pn(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Pf(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var fi=Math.random().toString(36).slice(2),jt="__reactFiber$"+fi,ws="__reactProps$"+fi,sn="__reactContainer$"+fi,Uu="__reactEvents$"+fi,f2="__reactListeners$"+fi,p2="__reactHandles$"+fi;function er(t){var e=t[jt];if(e)return e;for(var n=t.parentNode;n;){if(e=n[sn]||n[jt]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Pf(t);t!==null;){if(n=t[jt])return n;t=Pf(t)}return e}t=n,n=t.parentNode}return null}function Fs(t){return t=t[jt]||t[sn],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Lr(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(O(33))}function Fl(t){return t[ws]||null}var Bu=[],jr=-1;function bn(t){return{current:t}}function he(t){0>jr||(t.current=Bu[jr],Bu[jr]=null,jr--)}function ae(t,e){jr++,Bu[jr]=t.current,t.current=e}var Mn={},Ye=bn(Mn),lt=bn(!1),ur=Mn;function Zr(t,e){var n=t.type.contextTypes;if(!n)return Mn;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function at(t){return t=t.childContextTypes,t!=null}function ol(){he(lt),he(Ye)}function Af(t,e,n){if(Ye.current!==Mn)throw Error(O(168));ae(Ye,e),ae(lt,n)}function fg(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(O(108,Zy(t)||"Unknown",i));return ge({},n,r)}function ll(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Mn,ur=Ye.current,ae(Ye,t),ae(lt,lt.current),!0}function Rf(t,e,n){var r=t.stateNode;if(!r)throw Error(O(169));n?(t=fg(t,e,ur),r.__reactInternalMemoizedMergedChildContext=t,he(lt),he(Ye),ae(Ye,t)):he(lt),ae(lt,n)}var Jt=null,Ul=!1,Ga=!1;function pg(t){Jt===null?Jt=[t]:Jt.push(t)}function m2(t){Ul=!0,pg(t)}function zn(){if(!Ga&&Jt!==null){Ga=!0;var t=0,e=se;try{var n=Jt;for(se=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Jt=null,Ul=!1}catch(i){throw Jt!==null&&(Jt=Jt.slice(t+1)),Um(bc,zn),i}finally{se=e,Ga=!1}}return null}var Mr=[],Or=0,al=null,ul=0,_t=[],wt=0,cr=null,en=1,tn="";function Yn(t,e){Mr[Or++]=ul,Mr[Or++]=al,al=t,ul=e}function mg(t,e,n){_t[wt++]=en,_t[wt++]=tn,_t[wt++]=cr,cr=t;var r=en;t=tn;var i=32-kt(r)-1;r&=~(1<<i),n+=1;var s=32-kt(e)+i;if(30<s){var l=i-i%5;s=(r&(1<<l)-1).toString(32),r>>=l,i-=l,en=1<<32-kt(e)+i|n<<i|r,tn=s+t}else en=1<<s|n<<i|r,tn=t}function Xc(t){t.return!==null&&(Yn(t,1),mg(t,1,0))}function Yc(t){for(;t===al;)al=Mr[--Or],Mr[Or]=null,ul=Mr[--Or],Mr[Or]=null;for(;t===cr;)cr=_t[--wt],_t[wt]=null,tn=_t[--wt],_t[wt]=null,en=_t[--wt],_t[wt]=null}var pt=null,ft=null,de=!1,Rt=null;function gg(t,e){var n=Et(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function kf(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,pt=t,ft=Pn(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,pt=t,ft=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=cr!==null?{id:en,overflow:tn}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Et(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,pt=t,ft=null,!0):!1;default:return!1}}function bu(t){return(t.mode&1)!==0&&(t.flags&128)===0}function zu(t){if(de){var e=ft;if(e){var n=e;if(!kf(t,e)){if(bu(t))throw Error(O(418));e=Pn(n.nextSibling);var r=pt;e&&kf(t,e)?gg(r,n):(t.flags=t.flags&-4097|2,de=!1,pt=t)}}else{if(bu(t))throw Error(O(418));t.flags=t.flags&-4097|2,de=!1,pt=t}}}function Nf(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;pt=t}function To(t){if(t!==pt)return!1;if(!de)return Nf(t),de=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Ou(t.type,t.memoizedProps)),e&&(e=ft)){if(bu(t))throw yg(),Error(O(418));for(;e;)gg(t,e),e=Pn(e.nextSibling)}if(Nf(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(O(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){ft=Pn(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}ft=null}}else ft=pt?Pn(t.stateNode.nextSibling):null;return!0}function yg(){for(var t=ft;t;)t=Pn(t.nextSibling)}function Jr(){ft=pt=null,de=!1}function Zc(t){Rt===null?Rt=[t]:Rt.push(t)}var g2=cn.ReactCurrentBatchConfig;function Bi(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(O(309));var r=n.stateNode}if(!r)throw Error(O(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(l){var a=i.refs;l===null?delete a[s]:a[s]=l},e._stringRef=s,e)}if(typeof t!="string")throw Error(O(284));if(!n._owner)throw Error(O(290,t))}return t}function So(t,e){throw t=Object.prototype.toString.call(e),Error(O(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Vf(t){var e=t._init;return e(t._payload)}function vg(t){function e(T,_){if(t){var S=T.deletions;S===null?(T.deletions=[_],T.flags|=16):S.push(_)}}function n(T,_){if(!t)return null;for(;_!==null;)e(T,_),_=_.sibling;return null}function r(T,_){for(T=new Map;_!==null;)_.key!==null?T.set(_.key,_):T.set(_.index,_),_=_.sibling;return T}function i(T,_){return T=Nn(T,_),T.index=0,T.sibling=null,T}function s(T,_,S){return T.index=S,t?(S=T.alternate,S!==null?(S=S.index,S<_?(T.flags|=2,_):S):(T.flags|=2,_)):(T.flags|=1048576,_)}function l(T){return t&&T.alternate===null&&(T.flags|=2),T}function a(T,_,S,D){return _===null||_.tag!==6?(_=nu(S,T.mode,D),_.return=T,_):(_=i(_,S),_.return=T,_)}function u(T,_,S,D){var F=S.type;return F===kr?f(T,_,S.props.children,D,S.key):_!==null&&(_.elementType===F||typeof F=="object"&&F!==null&&F.$$typeof===mn&&Vf(F)===_.type)?(D=i(_,S.props),D.ref=Bi(T,_,S),D.return=T,D):(D=Wo(S.type,S.key,S.props,null,T.mode,D),D.ref=Bi(T,_,S),D.return=T,D)}function h(T,_,S,D){return _===null||_.tag!==4||_.stateNode.containerInfo!==S.containerInfo||_.stateNode.implementation!==S.implementation?(_=ru(S,T.mode,D),_.return=T,_):(_=i(_,S.children||[]),_.return=T,_)}function f(T,_,S,D,F){return _===null||_.tag!==7?(_=sr(S,T.mode,D,F),_.return=T,_):(_=i(_,S),_.return=T,_)}function g(T,_,S){if(typeof _=="string"&&_!==""||typeof _=="number")return _=nu(""+_,T.mode,S),_.return=T,_;if(typeof _=="object"&&_!==null){switch(_.$$typeof){case po:return S=Wo(_.type,_.key,_.props,null,T.mode,S),S.ref=Bi(T,null,_),S.return=T,S;case Rr:return _=ru(_,T.mode,S),_.return=T,_;case mn:var D=_._init;return g(T,D(_._payload),S)}if(qi(_)||ji(_))return _=sr(_,T.mode,S,null),_.return=T,_;So(T,_)}return null}function v(T,_,S,D){var F=_!==null?_.key:null;if(typeof S=="string"&&S!==""||typeof S=="number")return F!==null?null:a(T,_,""+S,D);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case po:return S.key===F?u(T,_,S,D):null;case Rr:return S.key===F?h(T,_,S,D):null;case mn:return F=S._init,v(T,_,F(S._payload),D)}if(qi(S)||ji(S))return F!==null?null:f(T,_,S,D,null);So(T,S)}return null}function P(T,_,S,D,F){if(typeof D=="string"&&D!==""||typeof D=="number")return T=T.get(S)||null,a(_,T,""+D,F);if(typeof D=="object"&&D!==null){switch(D.$$typeof){case po:return T=T.get(D.key===null?S:D.key)||null,u(_,T,D,F);case Rr:return T=T.get(D.key===null?S:D.key)||null,h(_,T,D,F);case mn:var B=D._init;return P(T,_,S,B(D._payload),F)}if(qi(D)||ji(D))return T=T.get(S)||null,f(_,T,D,F,null);So(_,D)}return null}function k(T,_,S,D){for(var F=null,B=null,E=_,y=_=0,w=null;E!==null&&y<S.length;y++){E.index>y?(w=E,E=null):w=E.sibling;var C=v(T,E,S[y],D);if(C===null){E===null&&(E=w);break}t&&E&&C.alternate===null&&e(T,E),_=s(C,_,y),B===null?F=C:B.sibling=C,B=C,E=w}if(y===S.length)return n(T,E),de&&Yn(T,y),F;if(E===null){for(;y<S.length;y++)E=g(T,S[y],D),E!==null&&(_=s(E,_,y),B===null?F=E:B.sibling=E,B=E);return de&&Yn(T,y),F}for(E=r(T,E);y<S.length;y++)w=P(E,T,y,S[y],D),w!==null&&(t&&w.alternate!==null&&E.delete(w.key===null?y:w.key),_=s(w,_,y),B===null?F=w:B.sibling=w,B=w);return t&&E.forEach(function(I){return e(T,I)}),de&&Yn(T,y),F}function N(T,_,S,D){var F=ji(S);if(typeof F!="function")throw Error(O(150));if(S=F.call(S),S==null)throw Error(O(151));for(var B=F=null,E=_,y=_=0,w=null,C=S.next();E!==null&&!C.done;y++,C=S.next()){E.index>y?(w=E,E=null):w=E.sibling;var I=v(T,E,C.value,D);if(I===null){E===null&&(E=w);break}t&&E&&I.alternate===null&&e(T,E),_=s(I,_,y),B===null?F=I:B.sibling=I,B=I,E=w}if(C.done)return n(T,E),de&&Yn(T,y),F;if(E===null){for(;!C.done;y++,C=S.next())C=g(T,C.value,D),C!==null&&(_=s(C,_,y),B===null?F=C:B.sibling=C,B=C);return de&&Yn(T,y),F}for(E=r(T,E);!C.done;y++,C=S.next())C=P(E,T,y,C.value,D),C!==null&&(t&&C.alternate!==null&&E.delete(C.key===null?y:C.key),_=s(C,_,y),B===null?F=C:B.sibling=C,B=C);return t&&E.forEach(function(R){return e(T,R)}),de&&Yn(T,y),F}function L(T,_,S,D){if(typeof S=="object"&&S!==null&&S.type===kr&&S.key===null&&(S=S.props.children),typeof S=="object"&&S!==null){switch(S.$$typeof){case po:e:{for(var F=S.key,B=_;B!==null;){if(B.key===F){if(F=S.type,F===kr){if(B.tag===7){n(T,B.sibling),_=i(B,S.props.children),_.return=T,T=_;break e}}else if(B.elementType===F||typeof F=="object"&&F!==null&&F.$$typeof===mn&&Vf(F)===B.type){n(T,B.sibling),_=i(B,S.props),_.ref=Bi(T,B,S),_.return=T,T=_;break e}n(T,B);break}else e(T,B);B=B.sibling}S.type===kr?(_=sr(S.props.children,T.mode,D,S.key),_.return=T,T=_):(D=Wo(S.type,S.key,S.props,null,T.mode,D),D.ref=Bi(T,_,S),D.return=T,T=D)}return l(T);case Rr:e:{for(B=S.key;_!==null;){if(_.key===B)if(_.tag===4&&_.stateNode.containerInfo===S.containerInfo&&_.stateNode.implementation===S.implementation){n(T,_.sibling),_=i(_,S.children||[]),_.return=T,T=_;break e}else{n(T,_);break}else e(T,_);_=_.sibling}_=ru(S,T.mode,D),_.return=T,T=_}return l(T);case mn:return B=S._init,L(T,_,B(S._payload),D)}if(qi(S))return k(T,_,S,D);if(ji(S))return N(T,_,S,D);So(T,S)}return typeof S=="string"&&S!==""||typeof S=="number"?(S=""+S,_!==null&&_.tag===6?(n(T,_.sibling),_=i(_,S),_.return=T,T=_):(n(T,_),_=nu(S,T.mode,D),_.return=T,T=_),l(T)):n(T,_)}return L}var ei=vg(!0),_g=vg(!1),cl=bn(null),hl=null,Fr=null,Jc=null;function eh(){Jc=Fr=hl=null}function th(t){var e=cl.current;he(cl),t._currentValue=e}function $u(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function qr(t,e){hl=t,Jc=Fr=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(ot=!0),t.firstContext=null)}function xt(t){var e=t._currentValue;if(Jc!==t)if(t={context:t,memoizedValue:e,next:null},Fr===null){if(hl===null)throw Error(O(308));Fr=t,hl.dependencies={lanes:0,firstContext:t}}else Fr=Fr.next=t;return e}var tr=null;function nh(t){tr===null?tr=[t]:tr.push(t)}function wg(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,nh(e)):(n.next=i.next,i.next=n),e.interleaved=n,on(t,r)}function on(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var gn=!1;function rh(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Eg(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function nn(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function An(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,ne&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,on(t,n)}return i=r.interleaved,i===null?(e.next=e,nh(r)):(e.next=i.next,i.next=e),r.interleaved=e,on(t,n)}function Bo(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,zc(t,n)}}function Df(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var l={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=l:s=s.next=l,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function dl(t,e,n,r){var i=t.updateQueue;gn=!1;var s=i.firstBaseUpdate,l=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var u=a,h=u.next;u.next=null,l===null?s=h:l.next=h,l=u;var f=t.alternate;f!==null&&(f=f.updateQueue,a=f.lastBaseUpdate,a!==l&&(a===null?f.firstBaseUpdate=h:a.next=h,f.lastBaseUpdate=u))}if(s!==null){var g=i.baseState;l=0,f=h=u=null,a=s;do{var v=a.lane,P=a.eventTime;if((r&v)===v){f!==null&&(f=f.next={eventTime:P,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var k=t,N=a;switch(v=e,P=n,N.tag){case 1:if(k=N.payload,typeof k=="function"){g=k.call(P,g,v);break e}g=k;break e;case 3:k.flags=k.flags&-65537|128;case 0:if(k=N.payload,v=typeof k=="function"?k.call(P,g,v):k,v==null)break e;g=ge({},g,v);break e;case 2:gn=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,v=i.effects,v===null?i.effects=[a]:v.push(a))}else P={eventTime:P,lane:v,tag:a.tag,payload:a.payload,callback:a.callback,next:null},f===null?(h=f=P,u=g):f=f.next=P,l|=v;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;v=a,a=v.next,v.next=null,i.lastBaseUpdate=v,i.shared.pending=null}}while(!0);if(f===null&&(u=g),i.baseState=u,i.firstBaseUpdate=h,i.lastBaseUpdate=f,e=i.shared.interleaved,e!==null){i=e;do l|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);dr|=l,t.lanes=l,t.memoizedState=g}}function Lf(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(O(191,i));i.call(r)}}}var Us={},Ft=bn(Us),Es=bn(Us),Cs=bn(Us);function nr(t){if(t===Us)throw Error(O(174));return t}function ih(t,e){switch(ae(Cs,e),ae(Es,t),ae(Ft,Us),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:xu(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=xu(e,t)}he(Ft),ae(Ft,e)}function ti(){he(Ft),he(Es),he(Cs)}function Cg(t){nr(Cs.current);var e=nr(Ft.current),n=xu(e,t.type);e!==n&&(ae(Es,t),ae(Ft,n))}function sh(t){Es.current===t&&(he(Ft),he(Es))}var pe=bn(0);function fl(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Xa=[];function oh(){for(var t=0;t<Xa.length;t++)Xa[t]._workInProgressVersionPrimary=null;Xa.length=0}var bo=cn.ReactCurrentDispatcher,Ya=cn.ReactCurrentBatchConfig,hr=0,me=null,Ae=null,Ve=null,pl=!1,ns=!1,xs=0,y2=0;function He(){throw Error(O(321))}function lh(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Vt(t[n],e[n]))return!1;return!0}function ah(t,e,n,r,i,s){if(hr=s,me=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,bo.current=t===null||t.memoizedState===null?E2:C2,t=n(r,i),ns){s=0;do{if(ns=!1,xs=0,25<=s)throw Error(O(301));s+=1,Ve=Ae=null,e.updateQueue=null,bo.current=x2,t=n(r,i)}while(ns)}if(bo.current=ml,e=Ae!==null&&Ae.next!==null,hr=0,Ve=Ae=me=null,pl=!1,e)throw Error(O(300));return t}function uh(){var t=xs!==0;return xs=0,t}function Lt(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ve===null?me.memoizedState=Ve=t:Ve=Ve.next=t,Ve}function Tt(){if(Ae===null){var t=me.alternate;t=t!==null?t.memoizedState:null}else t=Ae.next;var e=Ve===null?me.memoizedState:Ve.next;if(e!==null)Ve=e,Ae=t;else{if(t===null)throw Error(O(310));Ae=t,t={memoizedState:Ae.memoizedState,baseState:Ae.baseState,baseQueue:Ae.baseQueue,queue:Ae.queue,next:null},Ve===null?me.memoizedState=Ve=t:Ve=Ve.next=t}return Ve}function Ts(t,e){return typeof e=="function"?e(t):e}function Za(t){var e=Tt(),n=e.queue;if(n===null)throw Error(O(311));n.lastRenderedReducer=t;var r=Ae,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var l=i.next;i.next=s.next,s.next=l}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=l=null,u=null,h=s;do{var f=h.lane;if((hr&f)===f)u!==null&&(u=u.next={lane:0,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null}),r=h.hasEagerState?h.eagerState:t(r,h.action);else{var g={lane:f,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null};u===null?(a=u=g,l=r):u=u.next=g,me.lanes|=f,dr|=f}h=h.next}while(h!==null&&h!==s);u===null?l=r:u.next=a,Vt(r,e.memoizedState)||(ot=!0),e.memoizedState=r,e.baseState=l,e.baseQueue=u,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,me.lanes|=s,dr|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Ja(t){var e=Tt(),n=e.queue;if(n===null)throw Error(O(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var l=i=i.next;do s=t(s,l.action),l=l.next;while(l!==i);Vt(s,e.memoizedState)||(ot=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function xg(){}function Tg(t,e){var n=me,r=Tt(),i=e(),s=!Vt(r.memoizedState,i);if(s&&(r.memoizedState=i,ot=!0),r=r.queue,ch(Pg.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||Ve!==null&&Ve.memoizedState.tag&1){if(n.flags|=2048,Ss(9,Ig.bind(null,n,r,i,e),void 0,null),De===null)throw Error(O(349));hr&30||Sg(n,e,i)}return i}function Sg(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=me.updateQueue,e===null?(e={lastEffect:null,stores:null},me.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function Ig(t,e,n,r){e.value=n,e.getSnapshot=r,Ag(e)&&Rg(t)}function Pg(t,e,n){return n(function(){Ag(e)&&Rg(t)})}function Ag(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Vt(t,n)}catch{return!0}}function Rg(t){var e=on(t,1);e!==null&&Nt(e,t,1,-1)}function jf(t){var e=Lt();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ts,lastRenderedState:t},e.queue=t,t=t.dispatch=w2.bind(null,me,t),[e.memoizedState,t]}function Ss(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=me.updateQueue,e===null?(e={lastEffect:null,stores:null},me.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function kg(){return Tt().memoizedState}function zo(t,e,n,r){var i=Lt();me.flags|=t,i.memoizedState=Ss(1|e,n,void 0,r===void 0?null:r)}function Bl(t,e,n,r){var i=Tt();r=r===void 0?null:r;var s=void 0;if(Ae!==null){var l=Ae.memoizedState;if(s=l.destroy,r!==null&&lh(r,l.deps)){i.memoizedState=Ss(e,n,s,r);return}}me.flags|=t,i.memoizedState=Ss(1|e,n,s,r)}function Mf(t,e){return zo(8390656,8,t,e)}function ch(t,e){return Bl(2048,8,t,e)}function Ng(t,e){return Bl(4,2,t,e)}function Vg(t,e){return Bl(4,4,t,e)}function Dg(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function Lg(t,e,n){return n=n!=null?n.concat([t]):null,Bl(4,4,Dg.bind(null,e,t),n)}function hh(){}function jg(t,e){var n=Tt();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&lh(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function Mg(t,e){var n=Tt();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&lh(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function Og(t,e,n){return hr&21?(Vt(n,e)||(n=zm(),me.lanes|=n,dr|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,ot=!0),t.memoizedState=n)}function v2(t,e){var n=se;se=n!==0&&4>n?n:4,t(!0);var r=Ya.transition;Ya.transition={};try{t(!1),e()}finally{se=n,Ya.transition=r}}function Fg(){return Tt().memoizedState}function _2(t,e,n){var r=kn(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Ug(t))Bg(e,n);else if(n=wg(t,e,n,r),n!==null){var i=nt();Nt(n,t,r,i),bg(n,e,r)}}function w2(t,e,n){var r=kn(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Ug(t))Bg(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var l=e.lastRenderedState,a=s(l,n);if(i.hasEagerState=!0,i.eagerState=a,Vt(a,l)){var u=e.interleaved;u===null?(i.next=i,nh(e)):(i.next=u.next,u.next=i),e.interleaved=i;return}}catch{}finally{}n=wg(t,e,i,r),n!==null&&(i=nt(),Nt(n,t,r,i),bg(n,e,r))}}function Ug(t){var e=t.alternate;return t===me||e!==null&&e===me}function Bg(t,e){ns=pl=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function bg(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,zc(t,n)}}var ml={readContext:xt,useCallback:He,useContext:He,useEffect:He,useImperativeHandle:He,useInsertionEffect:He,useLayoutEffect:He,useMemo:He,useReducer:He,useRef:He,useState:He,useDebugValue:He,useDeferredValue:He,useTransition:He,useMutableSource:He,useSyncExternalStore:He,useId:He,unstable_isNewReconciler:!1},E2={readContext:xt,useCallback:function(t,e){return Lt().memoizedState=[t,e===void 0?null:e],t},useContext:xt,useEffect:Mf,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,zo(4194308,4,Dg.bind(null,e,t),n)},useLayoutEffect:function(t,e){return zo(4194308,4,t,e)},useInsertionEffect:function(t,e){return zo(4,2,t,e)},useMemo:function(t,e){var n=Lt();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Lt();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=_2.bind(null,me,t),[r.memoizedState,t]},useRef:function(t){var e=Lt();return t={current:t},e.memoizedState=t},useState:jf,useDebugValue:hh,useDeferredValue:function(t){return Lt().memoizedState=t},useTransition:function(){var t=jf(!1),e=t[0];return t=v2.bind(null,t[1]),Lt().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=me,i=Lt();if(de){if(n===void 0)throw Error(O(407));n=n()}else{if(n=e(),De===null)throw Error(O(349));hr&30||Sg(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,Mf(Pg.bind(null,r,s,t),[t]),r.flags|=2048,Ss(9,Ig.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=Lt(),e=De.identifierPrefix;if(de){var n=tn,r=en;n=(r&~(1<<32-kt(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=xs++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=y2++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},C2={readContext:xt,useCallback:jg,useContext:xt,useEffect:ch,useImperativeHandle:Lg,useInsertionEffect:Ng,useLayoutEffect:Vg,useMemo:Mg,useReducer:Za,useRef:kg,useState:function(){return Za(Ts)},useDebugValue:hh,useDeferredValue:function(t){var e=Tt();return Og(e,Ae.memoizedState,t)},useTransition:function(){var t=Za(Ts)[0],e=Tt().memoizedState;return[t,e]},useMutableSource:xg,useSyncExternalStore:Tg,useId:Fg,unstable_isNewReconciler:!1},x2={readContext:xt,useCallback:jg,useContext:xt,useEffect:ch,useImperativeHandle:Lg,useInsertionEffect:Ng,useLayoutEffect:Vg,useMemo:Mg,useReducer:Ja,useRef:kg,useState:function(){return Ja(Ts)},useDebugValue:hh,useDeferredValue:function(t){var e=Tt();return Ae===null?e.memoizedState=t:Og(e,Ae.memoizedState,t)},useTransition:function(){var t=Ja(Ts)[0],e=Tt().memoizedState;return[t,e]},useMutableSource:xg,useSyncExternalStore:Tg,useId:Fg,unstable_isNewReconciler:!1};function Pt(t,e){if(t&&t.defaultProps){e=ge({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Hu(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:ge({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var bl={isMounted:function(t){return(t=t._reactInternals)?vr(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=nt(),i=kn(t),s=nn(r,i);s.payload=e,n!=null&&(s.callback=n),e=An(t,s,i),e!==null&&(Nt(e,t,i,r),Bo(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=nt(),i=kn(t),s=nn(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=An(t,s,i),e!==null&&(Nt(e,t,i,r),Bo(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=nt(),r=kn(t),i=nn(n,r);i.tag=2,e!=null&&(i.callback=e),e=An(t,i,r),e!==null&&(Nt(e,t,r,n),Bo(e,t,r))}};function Of(t,e,n,r,i,s,l){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,l):e.prototype&&e.prototype.isPureReactComponent?!ys(n,r)||!ys(i,s):!0}function zg(t,e,n){var r=!1,i=Mn,s=e.contextType;return typeof s=="object"&&s!==null?s=xt(s):(i=at(e)?ur:Ye.current,r=e.contextTypes,s=(r=r!=null)?Zr(t,i):Mn),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=bl,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function Ff(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&bl.enqueueReplaceState(e,e.state,null)}function qu(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},rh(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=xt(s):(s=at(e)?ur:Ye.current,i.context=Zr(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(Hu(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&bl.enqueueReplaceState(i,i.state,null),dl(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function ni(t,e){try{var n="",r=e;do n+=Yy(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function eu(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Wu(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var T2=typeof WeakMap=="function"?WeakMap:Map;function $g(t,e,n){n=nn(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){yl||(yl=!0,nc=r),Wu(t,e)},n}function Hg(t,e,n){n=nn(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){Wu(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){Wu(t,e),typeof r!="function"&&(Rn===null?Rn=new Set([this]):Rn.add(this));var l=e.stack;this.componentDidCatch(e.value,{componentStack:l!==null?l:""})}),n}function Uf(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new T2;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=F2.bind(null,t,e,n),e.then(t,t))}function Bf(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function bf(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=nn(-1,1),e.tag=2,An(n,e,1))),n.lanes|=1),t)}var S2=cn.ReactCurrentOwner,ot=!1;function et(t,e,n,r){e.child=t===null?_g(e,null,n,r):ei(e,t.child,n,r)}function zf(t,e,n,r,i){n=n.render;var s=e.ref;return qr(e,i),r=ah(t,e,n,r,s,i),n=uh(),t!==null&&!ot?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,ln(t,e,i)):(de&&n&&Xc(e),e.flags|=1,et(t,e,r,i),e.child)}function $f(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!_h(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,qg(t,e,s,r,i)):(t=Wo(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var l=s.memoizedProps;if(n=n.compare,n=n!==null?n:ys,n(l,r)&&t.ref===e.ref)return ln(t,e,i)}return e.flags|=1,t=Nn(s,r),t.ref=e.ref,t.return=e,e.child=t}function qg(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(ys(s,r)&&t.ref===e.ref)if(ot=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(ot=!0);else return e.lanes=t.lanes,ln(t,e,i)}return Qu(t,e,n,r,i)}function Wg(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},ae(Br,dt),dt|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,ae(Br,dt),dt|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,ae(Br,dt),dt|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,ae(Br,dt),dt|=r;return et(t,e,i,n),e.child}function Qg(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Qu(t,e,n,r,i){var s=at(n)?ur:Ye.current;return s=Zr(e,s),qr(e,i),n=ah(t,e,n,r,s,i),r=uh(),t!==null&&!ot?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,ln(t,e,i)):(de&&r&&Xc(e),e.flags|=1,et(t,e,n,i),e.child)}function Hf(t,e,n,r,i){if(at(n)){var s=!0;ll(e)}else s=!1;if(qr(e,i),e.stateNode===null)$o(t,e),zg(e,n,r),qu(e,n,r,i),r=!0;else if(t===null){var l=e.stateNode,a=e.memoizedProps;l.props=a;var u=l.context,h=n.contextType;typeof h=="object"&&h!==null?h=xt(h):(h=at(n)?ur:Ye.current,h=Zr(e,h));var f=n.getDerivedStateFromProps,g=typeof f=="function"||typeof l.getSnapshotBeforeUpdate=="function";g||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(a!==r||u!==h)&&Ff(e,l,r,h),gn=!1;var v=e.memoizedState;l.state=v,dl(e,r,l,i),u=e.memoizedState,a!==r||v!==u||lt.current||gn?(typeof f=="function"&&(Hu(e,n,f,r),u=e.memoizedState),(a=gn||Of(e,n,a,r,v,u,h))?(g||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount()),typeof l.componentDidMount=="function"&&(e.flags|=4194308)):(typeof l.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=u),l.props=r,l.state=u,l.context=h,r=a):(typeof l.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{l=e.stateNode,Eg(t,e),a=e.memoizedProps,h=e.type===e.elementType?a:Pt(e.type,a),l.props=h,g=e.pendingProps,v=l.context,u=n.contextType,typeof u=="object"&&u!==null?u=xt(u):(u=at(n)?ur:Ye.current,u=Zr(e,u));var P=n.getDerivedStateFromProps;(f=typeof P=="function"||typeof l.getSnapshotBeforeUpdate=="function")||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(a!==g||v!==u)&&Ff(e,l,r,u),gn=!1,v=e.memoizedState,l.state=v,dl(e,r,l,i);var k=e.memoizedState;a!==g||v!==k||lt.current||gn?(typeof P=="function"&&(Hu(e,n,P,r),k=e.memoizedState),(h=gn||Of(e,n,h,r,v,k,u)||!1)?(f||typeof l.UNSAFE_componentWillUpdate!="function"&&typeof l.componentWillUpdate!="function"||(typeof l.componentWillUpdate=="function"&&l.componentWillUpdate(r,k,u),typeof l.UNSAFE_componentWillUpdate=="function"&&l.UNSAFE_componentWillUpdate(r,k,u)),typeof l.componentDidUpdate=="function"&&(e.flags|=4),typeof l.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof l.componentDidUpdate!="function"||a===t.memoizedProps&&v===t.memoizedState||(e.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&v===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=k),l.props=r,l.state=k,l.context=u,r=h):(typeof l.componentDidUpdate!="function"||a===t.memoizedProps&&v===t.memoizedState||(e.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&v===t.memoizedState||(e.flags|=1024),r=!1)}return Ku(t,e,n,r,s,i)}function Ku(t,e,n,r,i,s){Qg(t,e);var l=(e.flags&128)!==0;if(!r&&!l)return i&&Rf(e,n,!1),ln(t,e,s);r=e.stateNode,S2.current=e;var a=l&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&l?(e.child=ei(e,t.child,null,s),e.child=ei(e,null,a,s)):et(t,e,a,s),e.memoizedState=r.state,i&&Rf(e,n,!0),e.child}function Kg(t){var e=t.stateNode;e.pendingContext?Af(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Af(t,e.context,!1),ih(t,e.containerInfo)}function qf(t,e,n,r,i){return Jr(),Zc(i),e.flags|=256,et(t,e,n,r),e.child}var Gu={dehydrated:null,treeContext:null,retryLane:0};function Xu(t){return{baseLanes:t,cachePool:null,transitions:null}}function Gg(t,e,n){var r=e.pendingProps,i=pe.current,s=!1,l=(e.flags&128)!==0,a;if((a=l)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),ae(pe,i&1),t===null)return zu(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(l=r.children,t=r.fallback,s?(r=e.mode,s=e.child,l={mode:"hidden",children:l},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=l):s=Hl(l,r,0,null),t=sr(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=Xu(n),e.memoizedState=Gu,t):dh(e,l));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return I2(t,e,l,r,a,i,n);if(s){s=r.fallback,l=e.mode,i=t.child,a=i.sibling;var u={mode:"hidden",children:r.children};return!(l&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=u,e.deletions=null):(r=Nn(i,u),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=Nn(a,s):(s=sr(s,l,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,l=t.child.memoizedState,l=l===null?Xu(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},s.memoizedState=l,s.childLanes=t.childLanes&~n,e.memoizedState=Gu,r}return s=t.child,t=s.sibling,r=Nn(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function dh(t,e){return e=Hl({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Io(t,e,n,r){return r!==null&&Zc(r),ei(e,t.child,null,n),t=dh(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function I2(t,e,n,r,i,s,l){if(n)return e.flags&256?(e.flags&=-257,r=eu(Error(O(422))),Io(t,e,l,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=Hl({mode:"visible",children:r.children},i,0,null),s=sr(s,i,l,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&ei(e,t.child,null,l),e.child.memoizedState=Xu(l),e.memoizedState=Gu,s);if(!(e.mode&1))return Io(t,e,l,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(O(419)),r=eu(s,r,void 0),Io(t,e,l,r)}if(a=(l&t.childLanes)!==0,ot||a){if(r=De,r!==null){switch(l&-l){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|l)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,on(t,i),Nt(r,t,i,-1))}return vh(),r=eu(Error(O(421))),Io(t,e,l,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=U2.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,ft=Pn(i.nextSibling),pt=e,de=!0,Rt=null,t!==null&&(_t[wt++]=en,_t[wt++]=tn,_t[wt++]=cr,en=t.id,tn=t.overflow,cr=e),e=dh(e,r.children),e.flags|=4096,e)}function Wf(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),$u(t.return,e,n)}function tu(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function Xg(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(et(t,e,r.children,n),r=pe.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Wf(t,n,e);else if(t.tag===19)Wf(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(ae(pe,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&fl(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),tu(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&fl(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}tu(e,!0,n,null,s);break;case"together":tu(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function $o(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function ln(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),dr|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(O(153));if(e.child!==null){for(t=e.child,n=Nn(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Nn(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function P2(t,e,n){switch(e.tag){case 3:Kg(e),Jr();break;case 5:Cg(e);break;case 1:at(e.type)&&ll(e);break;case 4:ih(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;ae(cl,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(ae(pe,pe.current&1),e.flags|=128,null):n&e.child.childLanes?Gg(t,e,n):(ae(pe,pe.current&1),t=ln(t,e,n),t!==null?t.sibling:null);ae(pe,pe.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return Xg(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),ae(pe,pe.current),r)break;return null;case 22:case 23:return e.lanes=0,Wg(t,e,n)}return ln(t,e,n)}var Yg,Yu,Zg,Jg;Yg=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Yu=function(){};Zg=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,nr(Ft.current);var s=null;switch(n){case"input":i=_u(t,i),r=_u(t,r),s=[];break;case"select":i=ge({},i,{value:void 0}),r=ge({},r,{value:void 0}),s=[];break;case"textarea":i=Cu(t,i),r=Cu(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=sl)}Tu(n,r);var l;n=null;for(h in i)if(!r.hasOwnProperty(h)&&i.hasOwnProperty(h)&&i[h]!=null)if(h==="style"){var a=i[h];for(l in a)a.hasOwnProperty(l)&&(n||(n={}),n[l]="")}else h!=="dangerouslySetInnerHTML"&&h!=="children"&&h!=="suppressContentEditableWarning"&&h!=="suppressHydrationWarning"&&h!=="autoFocus"&&(cs.hasOwnProperty(h)?s||(s=[]):(s=s||[]).push(h,null));for(h in r){var u=r[h];if(a=i!=null?i[h]:void 0,r.hasOwnProperty(h)&&u!==a&&(u!=null||a!=null))if(h==="style")if(a){for(l in a)!a.hasOwnProperty(l)||u&&u.hasOwnProperty(l)||(n||(n={}),n[l]="");for(l in u)u.hasOwnProperty(l)&&a[l]!==u[l]&&(n||(n={}),n[l]=u[l])}else n||(s||(s=[]),s.push(h,n)),n=u;else h==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,a=a?a.__html:void 0,u!=null&&a!==u&&(s=s||[]).push(h,u)):h==="children"?typeof u!="string"&&typeof u!="number"||(s=s||[]).push(h,""+u):h!=="suppressContentEditableWarning"&&h!=="suppressHydrationWarning"&&(cs.hasOwnProperty(h)?(u!=null&&h==="onScroll"&&ce("scroll",t),s||a===u||(s=[])):(s=s||[]).push(h,u))}n&&(s=s||[]).push("style",n);var h=s;(e.updateQueue=h)&&(e.flags|=4)}};Jg=function(t,e,n,r){n!==r&&(e.flags|=4)};function bi(t,e){if(!de)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function qe(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function A2(t,e,n){var r=e.pendingProps;switch(Yc(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return qe(e),null;case 1:return at(e.type)&&ol(),qe(e),null;case 3:return r=e.stateNode,ti(),he(lt),he(Ye),oh(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(To(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Rt!==null&&(sc(Rt),Rt=null))),Yu(t,e),qe(e),null;case 5:sh(e);var i=nr(Cs.current);if(n=e.type,t!==null&&e.stateNode!=null)Zg(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(O(166));return qe(e),null}if(t=nr(Ft.current),To(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[jt]=e,r[ws]=s,t=(e.mode&1)!==0,n){case"dialog":ce("cancel",r),ce("close",r);break;case"iframe":case"object":case"embed":ce("load",r);break;case"video":case"audio":for(i=0;i<Qi.length;i++)ce(Qi[i],r);break;case"source":ce("error",r);break;case"img":case"image":case"link":ce("error",r),ce("load",r);break;case"details":ce("toggle",r);break;case"input":ef(r,s),ce("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},ce("invalid",r);break;case"textarea":nf(r,s),ce("invalid",r)}Tu(n,s),i=null;for(var l in s)if(s.hasOwnProperty(l)){var a=s[l];l==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&xo(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&xo(r.textContent,a,t),i=["children",""+a]):cs.hasOwnProperty(l)&&a!=null&&l==="onScroll"&&ce("scroll",r)}switch(n){case"input":mo(r),tf(r,s,!0);break;case"textarea":mo(r),rf(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=sl)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{l=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=Pm(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=l.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=l.createElement(n,{is:r.is}):(t=l.createElement(n),n==="select"&&(l=t,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):t=l.createElementNS(t,n),t[jt]=e,t[ws]=r,Yg(t,e,!1,!1),e.stateNode=t;e:{switch(l=Su(n,r),n){case"dialog":ce("cancel",t),ce("close",t),i=r;break;case"iframe":case"object":case"embed":ce("load",t),i=r;break;case"video":case"audio":for(i=0;i<Qi.length;i++)ce(Qi[i],t);i=r;break;case"source":ce("error",t),i=r;break;case"img":case"image":case"link":ce("error",t),ce("load",t),i=r;break;case"details":ce("toggle",t),i=r;break;case"input":ef(t,r),i=_u(t,r),ce("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=ge({},r,{value:void 0}),ce("invalid",t);break;case"textarea":nf(t,r),i=Cu(t,r),ce("invalid",t);break;default:i=r}Tu(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var u=a[s];s==="style"?km(t,u):s==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&Am(t,u)):s==="children"?typeof u=="string"?(n!=="textarea"||u!=="")&&hs(t,u):typeof u=="number"&&hs(t,""+u):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(cs.hasOwnProperty(s)?u!=null&&s==="onScroll"&&ce("scroll",t):u!=null&&Mc(t,s,u,l))}switch(n){case"input":mo(t),tf(t,r,!1);break;case"textarea":mo(t),rf(t);break;case"option":r.value!=null&&t.setAttribute("value",""+jn(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?br(t,!!r.multiple,s,!1):r.defaultValue!=null&&br(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=sl)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return qe(e),null;case 6:if(t&&e.stateNode!=null)Jg(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(O(166));if(n=nr(Cs.current),nr(Ft.current),To(e)){if(r=e.stateNode,n=e.memoizedProps,r[jt]=e,(s=r.nodeValue!==n)&&(t=pt,t!==null))switch(t.tag){case 3:xo(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&xo(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[jt]=e,e.stateNode=r}return qe(e),null;case 13:if(he(pe),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(de&&ft!==null&&e.mode&1&&!(e.flags&128))yg(),Jr(),e.flags|=98560,s=!1;else if(s=To(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(O(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(O(317));s[jt]=e}else Jr(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;qe(e),s=!1}else Rt!==null&&(sc(Rt),Rt=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||pe.current&1?ke===0&&(ke=3):vh())),e.updateQueue!==null&&(e.flags|=4),qe(e),null);case 4:return ti(),Yu(t,e),t===null&&vs(e.stateNode.containerInfo),qe(e),null;case 10:return th(e.type._context),qe(e),null;case 17:return at(e.type)&&ol(),qe(e),null;case 19:if(he(pe),s=e.memoizedState,s===null)return qe(e),null;if(r=(e.flags&128)!==0,l=s.rendering,l===null)if(r)bi(s,!1);else{if(ke!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(l=fl(t),l!==null){for(e.flags|=128,bi(s,!1),r=l.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,l=s.alternate,l===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=l.childLanes,s.lanes=l.lanes,s.child=l.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=l.memoizedProps,s.memoizedState=l.memoizedState,s.updateQueue=l.updateQueue,s.type=l.type,t=l.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return ae(pe,pe.current&1|2),e.child}t=t.sibling}s.tail!==null&&xe()>ri&&(e.flags|=128,r=!0,bi(s,!1),e.lanes=4194304)}else{if(!r)if(t=fl(l),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),bi(s,!0),s.tail===null&&s.tailMode==="hidden"&&!l.alternate&&!de)return qe(e),null}else 2*xe()-s.renderingStartTime>ri&&n!==1073741824&&(e.flags|=128,r=!0,bi(s,!1),e.lanes=4194304);s.isBackwards?(l.sibling=e.child,e.child=l):(n=s.last,n!==null?n.sibling=l:e.child=l,s.last=l)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=xe(),e.sibling=null,n=pe.current,ae(pe,r?n&1|2:n&1),e):(qe(e),null);case 22:case 23:return yh(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?dt&1073741824&&(qe(e),e.subtreeFlags&6&&(e.flags|=8192)):qe(e),null;case 24:return null;case 25:return null}throw Error(O(156,e.tag))}function R2(t,e){switch(Yc(e),e.tag){case 1:return at(e.type)&&ol(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return ti(),he(lt),he(Ye),oh(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return sh(e),null;case 13:if(he(pe),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(O(340));Jr()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return he(pe),null;case 4:return ti(),null;case 10:return th(e.type._context),null;case 22:case 23:return yh(),null;case 24:return null;default:return null}}var Po=!1,Ge=!1,k2=typeof WeakSet=="function"?WeakSet:Set,$=null;function Ur(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){ve(t,e,r)}else n.current=null}function Zu(t,e,n){try{n()}catch(r){ve(t,e,r)}}var Qf=!1;function N2(t,e){if(ju=nl,t=ig(),Gc(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var l=0,a=-1,u=-1,h=0,f=0,g=t,v=null;t:for(;;){for(var P;g!==n||i!==0&&g.nodeType!==3||(a=l+i),g!==s||r!==0&&g.nodeType!==3||(u=l+r),g.nodeType===3&&(l+=g.nodeValue.length),(P=g.firstChild)!==null;)v=g,g=P;for(;;){if(g===t)break t;if(v===n&&++h===i&&(a=l),v===s&&++f===r&&(u=l),(P=g.nextSibling)!==null)break;g=v,v=g.parentNode}g=P}n=a===-1||u===-1?null:{start:a,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(Mu={focusedElem:t,selectionRange:n},nl=!1,$=e;$!==null;)if(e=$,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,$=t;else for(;$!==null;){e=$;try{var k=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(k!==null){var N=k.memoizedProps,L=k.memoizedState,T=e.stateNode,_=T.getSnapshotBeforeUpdate(e.elementType===e.type?N:Pt(e.type,N),L);T.__reactInternalSnapshotBeforeUpdate=_}break;case 3:var S=e.stateNode.containerInfo;S.nodeType===1?S.textContent="":S.nodeType===9&&S.documentElement&&S.removeChild(S.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(O(163))}}catch(D){ve(e,e.return,D)}if(t=e.sibling,t!==null){t.return=e.return,$=t;break}$=e.return}return k=Qf,Qf=!1,k}function rs(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&Zu(e,n,s)}i=i.next}while(i!==r)}}function zl(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Ju(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function e1(t){var e=t.alternate;e!==null&&(t.alternate=null,e1(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[jt],delete e[ws],delete e[Uu],delete e[f2],delete e[p2])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function t1(t){return t.tag===5||t.tag===3||t.tag===4}function Kf(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||t1(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function ec(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=sl));else if(r!==4&&(t=t.child,t!==null))for(ec(t,e,n),t=t.sibling;t!==null;)ec(t,e,n),t=t.sibling}function tc(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(tc(t,e,n),t=t.sibling;t!==null;)tc(t,e,n),t=t.sibling}var je=null,At=!1;function pn(t,e,n){for(n=n.child;n!==null;)n1(t,e,n),n=n.sibling}function n1(t,e,n){if(Ot&&typeof Ot.onCommitFiberUnmount=="function")try{Ot.onCommitFiberUnmount(Ll,n)}catch{}switch(n.tag){case 5:Ge||Ur(n,e);case 6:var r=je,i=At;je=null,pn(t,e,n),je=r,At=i,je!==null&&(At?(t=je,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):je.removeChild(n.stateNode));break;case 18:je!==null&&(At?(t=je,n=n.stateNode,t.nodeType===8?Ka(t.parentNode,n):t.nodeType===1&&Ka(t,n),ms(t)):Ka(je,n.stateNode));break;case 4:r=je,i=At,je=n.stateNode.containerInfo,At=!0,pn(t,e,n),je=r,At=i;break;case 0:case 11:case 14:case 15:if(!Ge&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,l=s.destroy;s=s.tag,l!==void 0&&(s&2||s&4)&&Zu(n,e,l),i=i.next}while(i!==r)}pn(t,e,n);break;case 1:if(!Ge&&(Ur(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){ve(n,e,a)}pn(t,e,n);break;case 21:pn(t,e,n);break;case 22:n.mode&1?(Ge=(r=Ge)||n.memoizedState!==null,pn(t,e,n),Ge=r):pn(t,e,n);break;default:pn(t,e,n)}}function Gf(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new k2),e.forEach(function(r){var i=B2.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function It(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,l=e,a=l;e:for(;a!==null;){switch(a.tag){case 5:je=a.stateNode,At=!1;break e;case 3:je=a.stateNode.containerInfo,At=!0;break e;case 4:je=a.stateNode.containerInfo,At=!0;break e}a=a.return}if(je===null)throw Error(O(160));n1(s,l,i),je=null,At=!1;var u=i.alternate;u!==null&&(u.return=null),i.return=null}catch(h){ve(i,e,h)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)r1(e,t),e=e.sibling}function r1(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(It(e,t),Dt(t),r&4){try{rs(3,t,t.return),zl(3,t)}catch(N){ve(t,t.return,N)}try{rs(5,t,t.return)}catch(N){ve(t,t.return,N)}}break;case 1:It(e,t),Dt(t),r&512&&n!==null&&Ur(n,n.return);break;case 5:if(It(e,t),Dt(t),r&512&&n!==null&&Ur(n,n.return),t.flags&32){var i=t.stateNode;try{hs(i,"")}catch(N){ve(t,t.return,N)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,l=n!==null?n.memoizedProps:s,a=t.type,u=t.updateQueue;if(t.updateQueue=null,u!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&Sm(i,s),Su(a,l);var h=Su(a,s);for(l=0;l<u.length;l+=2){var f=u[l],g=u[l+1];f==="style"?km(i,g):f==="dangerouslySetInnerHTML"?Am(i,g):f==="children"?hs(i,g):Mc(i,f,g,h)}switch(a){case"input":wu(i,s);break;case"textarea":Im(i,s);break;case"select":var v=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var P=s.value;P!=null?br(i,!!s.multiple,P,!1):v!==!!s.multiple&&(s.defaultValue!=null?br(i,!!s.multiple,s.defaultValue,!0):br(i,!!s.multiple,s.multiple?[]:"",!1))}i[ws]=s}catch(N){ve(t,t.return,N)}}break;case 6:if(It(e,t),Dt(t),r&4){if(t.stateNode===null)throw Error(O(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(N){ve(t,t.return,N)}}break;case 3:if(It(e,t),Dt(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{ms(e.containerInfo)}catch(N){ve(t,t.return,N)}break;case 4:It(e,t),Dt(t);break;case 13:It(e,t),Dt(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(mh=xe())),r&4&&Gf(t);break;case 22:if(f=n!==null&&n.memoizedState!==null,t.mode&1?(Ge=(h=Ge)||f,It(e,t),Ge=h):It(e,t),Dt(t),r&8192){if(h=t.memoizedState!==null,(t.stateNode.isHidden=h)&&!f&&t.mode&1)for($=t,f=t.child;f!==null;){for(g=$=f;$!==null;){switch(v=$,P=v.child,v.tag){case 0:case 11:case 14:case 15:rs(4,v,v.return);break;case 1:Ur(v,v.return);var k=v.stateNode;if(typeof k.componentWillUnmount=="function"){r=v,n=v.return;try{e=r,k.props=e.memoizedProps,k.state=e.memoizedState,k.componentWillUnmount()}catch(N){ve(r,n,N)}}break;case 5:Ur(v,v.return);break;case 22:if(v.memoizedState!==null){Yf(g);continue}}P!==null?(P.return=v,$=P):Yf(g)}f=f.sibling}e:for(f=null,g=t;;){if(g.tag===5){if(f===null){f=g;try{i=g.stateNode,h?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=g.stateNode,u=g.memoizedProps.style,l=u!=null&&u.hasOwnProperty("display")?u.display:null,a.style.display=Rm("display",l))}catch(N){ve(t,t.return,N)}}}else if(g.tag===6){if(f===null)try{g.stateNode.nodeValue=h?"":g.memoizedProps}catch(N){ve(t,t.return,N)}}else if((g.tag!==22&&g.tag!==23||g.memoizedState===null||g===t)&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===t)break e;for(;g.sibling===null;){if(g.return===null||g.return===t)break e;f===g&&(f=null),g=g.return}f===g&&(f=null),g.sibling.return=g.return,g=g.sibling}}break;case 19:It(e,t),Dt(t),r&4&&Gf(t);break;case 21:break;default:It(e,t),Dt(t)}}function Dt(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(t1(n)){var r=n;break e}n=n.return}throw Error(O(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(hs(i,""),r.flags&=-33);var s=Kf(t);tc(t,s,i);break;case 3:case 4:var l=r.stateNode.containerInfo,a=Kf(t);ec(t,a,l);break;default:throw Error(O(161))}}catch(u){ve(t,t.return,u)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function V2(t,e,n){$=t,i1(t)}function i1(t,e,n){for(var r=(t.mode&1)!==0;$!==null;){var i=$,s=i.child;if(i.tag===22&&r){var l=i.memoizedState!==null||Po;if(!l){var a=i.alternate,u=a!==null&&a.memoizedState!==null||Ge;a=Po;var h=Ge;if(Po=l,(Ge=u)&&!h)for($=i;$!==null;)l=$,u=l.child,l.tag===22&&l.memoizedState!==null?Zf(i):u!==null?(u.return=l,$=u):Zf(i);for(;s!==null;)$=s,i1(s),s=s.sibling;$=i,Po=a,Ge=h}Xf(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,$=s):Xf(t)}}function Xf(t){for(;$!==null;){var e=$;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Ge||zl(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Ge)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:Pt(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&Lf(e,s,r);break;case 3:var l=e.updateQueue;if(l!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}Lf(e,l,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var u=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var h=e.alternate;if(h!==null){var f=h.memoizedState;if(f!==null){var g=f.dehydrated;g!==null&&ms(g)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(O(163))}Ge||e.flags&512&&Ju(e)}catch(v){ve(e,e.return,v)}}if(e===t){$=null;break}if(n=e.sibling,n!==null){n.return=e.return,$=n;break}$=e.return}}function Yf(t){for(;$!==null;){var e=$;if(e===t){$=null;break}var n=e.sibling;if(n!==null){n.return=e.return,$=n;break}$=e.return}}function Zf(t){for(;$!==null;){var e=$;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{zl(4,e)}catch(u){ve(e,n,u)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(u){ve(e,i,u)}}var s=e.return;try{Ju(e)}catch(u){ve(e,s,u)}break;case 5:var l=e.return;try{Ju(e)}catch(u){ve(e,l,u)}}}catch(u){ve(e,e.return,u)}if(e===t){$=null;break}var a=e.sibling;if(a!==null){a.return=e.return,$=a;break}$=e.return}}var D2=Math.ceil,gl=cn.ReactCurrentDispatcher,fh=cn.ReactCurrentOwner,Ct=cn.ReactCurrentBatchConfig,ne=0,De=null,Ie=null,Oe=0,dt=0,Br=bn(0),ke=0,Is=null,dr=0,$l=0,ph=0,is=null,st=null,mh=0,ri=1/0,Zt=null,yl=!1,nc=null,Rn=null,Ao=!1,wn=null,vl=0,ss=0,rc=null,Ho=-1,qo=0;function nt(){return ne&6?xe():Ho!==-1?Ho:Ho=xe()}function kn(t){return t.mode&1?ne&2&&Oe!==0?Oe&-Oe:g2.transition!==null?(qo===0&&(qo=zm()),qo):(t=se,t!==0||(t=window.event,t=t===void 0?16:Gm(t.type)),t):1}function Nt(t,e,n,r){if(50<ss)throw ss=0,rc=null,Error(O(185));Ms(t,n,r),(!(ne&2)||t!==De)&&(t===De&&(!(ne&2)&&($l|=n),ke===4&&vn(t,Oe)),ut(t,r),n===1&&ne===0&&!(e.mode&1)&&(ri=xe()+500,Ul&&zn()))}function ut(t,e){var n=t.callbackNode;gv(t,e);var r=tl(t,t===De?Oe:0);if(r===0)n!==null&&lf(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&lf(n),e===1)t.tag===0?m2(Jf.bind(null,t)):pg(Jf.bind(null,t)),h2(function(){!(ne&6)&&zn()}),n=null;else{switch($m(r)){case 1:n=bc;break;case 4:n=Bm;break;case 16:n=el;break;case 536870912:n=bm;break;default:n=el}n=d1(n,s1.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function s1(t,e){if(Ho=-1,qo=0,ne&6)throw Error(O(327));var n=t.callbackNode;if(Wr()&&t.callbackNode!==n)return null;var r=tl(t,t===De?Oe:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=_l(t,r);else{e=r;var i=ne;ne|=2;var s=l1();(De!==t||Oe!==e)&&(Zt=null,ri=xe()+500,ir(t,e));do try{M2();break}catch(a){o1(t,a)}while(!0);eh(),gl.current=s,ne=i,Ie!==null?e=0:(De=null,Oe=0,e=ke)}if(e!==0){if(e===2&&(i=ku(t),i!==0&&(r=i,e=ic(t,i))),e===1)throw n=Is,ir(t,0),vn(t,r),ut(t,xe()),n;if(e===6)vn(t,r);else{if(i=t.current.alternate,!(r&30)&&!L2(i)&&(e=_l(t,r),e===2&&(s=ku(t),s!==0&&(r=s,e=ic(t,s))),e===1))throw n=Is,ir(t,0),vn(t,r),ut(t,xe()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(O(345));case 2:Zn(t,st,Zt);break;case 3:if(vn(t,r),(r&130023424)===r&&(e=mh+500-xe(),10<e)){if(tl(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){nt(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=Fu(Zn.bind(null,t,st,Zt),e);break}Zn(t,st,Zt);break;case 4:if(vn(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var l=31-kt(r);s=1<<l,l=e[l],l>i&&(i=l),r&=~s}if(r=i,r=xe()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*D2(r/1960))-r,10<r){t.timeoutHandle=Fu(Zn.bind(null,t,st,Zt),r);break}Zn(t,st,Zt);break;case 5:Zn(t,st,Zt);break;default:throw Error(O(329))}}}return ut(t,xe()),t.callbackNode===n?s1.bind(null,t):null}function ic(t,e){var n=is;return t.current.memoizedState.isDehydrated&&(ir(t,e).flags|=256),t=_l(t,e),t!==2&&(e=st,st=n,e!==null&&sc(e)),t}function sc(t){st===null?st=t:st.push.apply(st,t)}function L2(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!Vt(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function vn(t,e){for(e&=~ph,e&=~$l,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-kt(e),r=1<<n;t[n]=-1,e&=~r}}function Jf(t){if(ne&6)throw Error(O(327));Wr();var e=tl(t,0);if(!(e&1))return ut(t,xe()),null;var n=_l(t,e);if(t.tag!==0&&n===2){var r=ku(t);r!==0&&(e=r,n=ic(t,r))}if(n===1)throw n=Is,ir(t,0),vn(t,e),ut(t,xe()),n;if(n===6)throw Error(O(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Zn(t,st,Zt),ut(t,xe()),null}function gh(t,e){var n=ne;ne|=1;try{return t(e)}finally{ne=n,ne===0&&(ri=xe()+500,Ul&&zn())}}function fr(t){wn!==null&&wn.tag===0&&!(ne&6)&&Wr();var e=ne;ne|=1;var n=Ct.transition,r=se;try{if(Ct.transition=null,se=1,t)return t()}finally{se=r,Ct.transition=n,ne=e,!(ne&6)&&zn()}}function yh(){dt=Br.current,he(Br)}function ir(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,c2(n)),Ie!==null)for(n=Ie.return;n!==null;){var r=n;switch(Yc(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&ol();break;case 3:ti(),he(lt),he(Ye),oh();break;case 5:sh(r);break;case 4:ti();break;case 13:he(pe);break;case 19:he(pe);break;case 10:th(r.type._context);break;case 22:case 23:yh()}n=n.return}if(De=t,Ie=t=Nn(t.current,null),Oe=dt=e,ke=0,Is=null,ph=$l=dr=0,st=is=null,tr!==null){for(e=0;e<tr.length;e++)if(n=tr[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var l=s.next;s.next=i,r.next=l}n.pending=r}tr=null}return t}function o1(t,e){do{var n=Ie;try{if(eh(),bo.current=ml,pl){for(var r=me.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}pl=!1}if(hr=0,Ve=Ae=me=null,ns=!1,xs=0,fh.current=null,n===null||n.return===null){ke=1,Is=e,Ie=null;break}e:{var s=t,l=n.return,a=n,u=e;if(e=Oe,a.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){var h=u,f=a,g=f.tag;if(!(f.mode&1)&&(g===0||g===11||g===15)){var v=f.alternate;v?(f.updateQueue=v.updateQueue,f.memoizedState=v.memoizedState,f.lanes=v.lanes):(f.updateQueue=null,f.memoizedState=null)}var P=Bf(l);if(P!==null){P.flags&=-257,bf(P,l,a,s,e),P.mode&1&&Uf(s,h,e),e=P,u=h;var k=e.updateQueue;if(k===null){var N=new Set;N.add(u),e.updateQueue=N}else k.add(u);break e}else{if(!(e&1)){Uf(s,h,e),vh();break e}u=Error(O(426))}}else if(de&&a.mode&1){var L=Bf(l);if(L!==null){!(L.flags&65536)&&(L.flags|=256),bf(L,l,a,s,e),Zc(ni(u,a));break e}}s=u=ni(u,a),ke!==4&&(ke=2),is===null?is=[s]:is.push(s),s=l;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var T=$g(s,u,e);Df(s,T);break e;case 1:a=u;var _=s.type,S=s.stateNode;if(!(s.flags&128)&&(typeof _.getDerivedStateFromError=="function"||S!==null&&typeof S.componentDidCatch=="function"&&(Rn===null||!Rn.has(S)))){s.flags|=65536,e&=-e,s.lanes|=e;var D=Hg(s,a,e);Df(s,D);break e}}s=s.return}while(s!==null)}u1(n)}catch(F){e=F,Ie===n&&n!==null&&(Ie=n=n.return);continue}break}while(!0)}function l1(){var t=gl.current;return gl.current=ml,t===null?ml:t}function vh(){(ke===0||ke===3||ke===2)&&(ke=4),De===null||!(dr&268435455)&&!($l&268435455)||vn(De,Oe)}function _l(t,e){var n=ne;ne|=2;var r=l1();(De!==t||Oe!==e)&&(Zt=null,ir(t,e));do try{j2();break}catch(i){o1(t,i)}while(!0);if(eh(),ne=n,gl.current=r,Ie!==null)throw Error(O(261));return De=null,Oe=0,ke}function j2(){for(;Ie!==null;)a1(Ie)}function M2(){for(;Ie!==null&&!lv();)a1(Ie)}function a1(t){var e=h1(t.alternate,t,dt);t.memoizedProps=t.pendingProps,e===null?u1(t):Ie=e,fh.current=null}function u1(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=R2(n,e),n!==null){n.flags&=32767,Ie=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{ke=6,Ie=null;return}}else if(n=A2(n,e,dt),n!==null){Ie=n;return}if(e=e.sibling,e!==null){Ie=e;return}Ie=e=t}while(e!==null);ke===0&&(ke=5)}function Zn(t,e,n){var r=se,i=Ct.transition;try{Ct.transition=null,se=1,O2(t,e,n,r)}finally{Ct.transition=i,se=r}return null}function O2(t,e,n,r){do Wr();while(wn!==null);if(ne&6)throw Error(O(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(O(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(yv(t,s),t===De&&(Ie=De=null,Oe=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Ao||(Ao=!0,d1(el,function(){return Wr(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=Ct.transition,Ct.transition=null;var l=se;se=1;var a=ne;ne|=4,fh.current=null,N2(t,n),r1(n,t),r2(Mu),nl=!!ju,Mu=ju=null,t.current=n,V2(n),av(),ne=a,se=l,Ct.transition=s}else t.current=n;if(Ao&&(Ao=!1,wn=t,vl=i),s=t.pendingLanes,s===0&&(Rn=null),hv(n.stateNode),ut(t,xe()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(yl)throw yl=!1,t=nc,nc=null,t;return vl&1&&t.tag!==0&&Wr(),s=t.pendingLanes,s&1?t===rc?ss++:(ss=0,rc=t):ss=0,zn(),null}function Wr(){if(wn!==null){var t=$m(vl),e=Ct.transition,n=se;try{if(Ct.transition=null,se=16>t?16:t,wn===null)var r=!1;else{if(t=wn,wn=null,vl=0,ne&6)throw Error(O(331));var i=ne;for(ne|=4,$=t.current;$!==null;){var s=$,l=s.child;if($.flags&16){var a=s.deletions;if(a!==null){for(var u=0;u<a.length;u++){var h=a[u];for($=h;$!==null;){var f=$;switch(f.tag){case 0:case 11:case 15:rs(8,f,s)}var g=f.child;if(g!==null)g.return=f,$=g;else for(;$!==null;){f=$;var v=f.sibling,P=f.return;if(e1(f),f===h){$=null;break}if(v!==null){v.return=P,$=v;break}$=P}}}var k=s.alternate;if(k!==null){var N=k.child;if(N!==null){k.child=null;do{var L=N.sibling;N.sibling=null,N=L}while(N!==null)}}$=s}}if(s.subtreeFlags&2064&&l!==null)l.return=s,$=l;else e:for(;$!==null;){if(s=$,s.flags&2048)switch(s.tag){case 0:case 11:case 15:rs(9,s,s.return)}var T=s.sibling;if(T!==null){T.return=s.return,$=T;break e}$=s.return}}var _=t.current;for($=_;$!==null;){l=$;var S=l.child;if(l.subtreeFlags&2064&&S!==null)S.return=l,$=S;else e:for(l=_;$!==null;){if(a=$,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:zl(9,a)}}catch(F){ve(a,a.return,F)}if(a===l){$=null;break e}var D=a.sibling;if(D!==null){D.return=a.return,$=D;break e}$=a.return}}if(ne=i,zn(),Ot&&typeof Ot.onPostCommitFiberRoot=="function")try{Ot.onPostCommitFiberRoot(Ll,t)}catch{}r=!0}return r}finally{se=n,Ct.transition=e}}return!1}function ep(t,e,n){e=ni(n,e),e=$g(t,e,1),t=An(t,e,1),e=nt(),t!==null&&(Ms(t,1,e),ut(t,e))}function ve(t,e,n){if(t.tag===3)ep(t,t,n);else for(;e!==null;){if(e.tag===3){ep(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Rn===null||!Rn.has(r))){t=ni(n,t),t=Hg(e,t,1),e=An(e,t,1),t=nt(),e!==null&&(Ms(e,1,t),ut(e,t));break}}e=e.return}}function F2(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=nt(),t.pingedLanes|=t.suspendedLanes&n,De===t&&(Oe&n)===n&&(ke===4||ke===3&&(Oe&130023424)===Oe&&500>xe()-mh?ir(t,0):ph|=n),ut(t,e)}function c1(t,e){e===0&&(t.mode&1?(e=vo,vo<<=1,!(vo&130023424)&&(vo=4194304)):e=1);var n=nt();t=on(t,e),t!==null&&(Ms(t,e,n),ut(t,n))}function U2(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),c1(t,n)}function B2(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(O(314))}r!==null&&r.delete(e),c1(t,n)}var h1;h1=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||lt.current)ot=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return ot=!1,P2(t,e,n);ot=!!(t.flags&131072)}else ot=!1,de&&e.flags&1048576&&mg(e,ul,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;$o(t,e),t=e.pendingProps;var i=Zr(e,Ye.current);qr(e,n),i=ah(null,e,r,t,i,n);var s=uh();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,at(r)?(s=!0,ll(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,rh(e),i.updater=bl,e.stateNode=i,i._reactInternals=e,qu(e,r,t,n),e=Ku(null,e,r,!0,s,n)):(e.tag=0,de&&s&&Xc(e),et(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch($o(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=z2(r),t=Pt(r,t),i){case 0:e=Qu(null,e,r,t,n);break e;case 1:e=Hf(null,e,r,t,n);break e;case 11:e=zf(null,e,r,t,n);break e;case 14:e=$f(null,e,r,Pt(r.type,t),n);break e}throw Error(O(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Pt(r,i),Qu(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Pt(r,i),Hf(t,e,r,i,n);case 3:e:{if(Kg(e),t===null)throw Error(O(387));r=e.pendingProps,s=e.memoizedState,i=s.element,Eg(t,e),dl(e,r,null,n);var l=e.memoizedState;if(r=l.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:l.cache,pendingSuspenseBoundaries:l.pendingSuspenseBoundaries,transitions:l.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=ni(Error(O(423)),e),e=qf(t,e,r,n,i);break e}else if(r!==i){i=ni(Error(O(424)),e),e=qf(t,e,r,n,i);break e}else for(ft=Pn(e.stateNode.containerInfo.firstChild),pt=e,de=!0,Rt=null,n=_g(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Jr(),r===i){e=ln(t,e,n);break e}et(t,e,r,n)}e=e.child}return e;case 5:return Cg(e),t===null&&zu(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,l=i.children,Ou(r,i)?l=null:s!==null&&Ou(r,s)&&(e.flags|=32),Qg(t,e),et(t,e,l,n),e.child;case 6:return t===null&&zu(e),null;case 13:return Gg(t,e,n);case 4:return ih(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=ei(e,null,r,n):et(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Pt(r,i),zf(t,e,r,i,n);case 7:return et(t,e,e.pendingProps,n),e.child;case 8:return et(t,e,e.pendingProps.children,n),e.child;case 12:return et(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,l=i.value,ae(cl,r._currentValue),r._currentValue=l,s!==null)if(Vt(s.value,l)){if(s.children===i.children&&!lt.current){e=ln(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){l=s.child;for(var u=a.firstContext;u!==null;){if(u.context===r){if(s.tag===1){u=nn(-1,n&-n),u.tag=2;var h=s.updateQueue;if(h!==null){h=h.shared;var f=h.pending;f===null?u.next=u:(u.next=f.next,f.next=u),h.pending=u}}s.lanes|=n,u=s.alternate,u!==null&&(u.lanes|=n),$u(s.return,n,e),a.lanes|=n;break}u=u.next}}else if(s.tag===10)l=s.type===e.type?null:s.child;else if(s.tag===18){if(l=s.return,l===null)throw Error(O(341));l.lanes|=n,a=l.alternate,a!==null&&(a.lanes|=n),$u(l,n,e),l=s.sibling}else l=s.child;if(l!==null)l.return=s;else for(l=s;l!==null;){if(l===e){l=null;break}if(s=l.sibling,s!==null){s.return=l.return,l=s;break}l=l.return}s=l}et(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,qr(e,n),i=xt(i),r=r(i),e.flags|=1,et(t,e,r,n),e.child;case 14:return r=e.type,i=Pt(r,e.pendingProps),i=Pt(r.type,i),$f(t,e,r,i,n);case 15:return qg(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Pt(r,i),$o(t,e),e.tag=1,at(r)?(t=!0,ll(e)):t=!1,qr(e,n),zg(e,r,i),qu(e,r,i,n),Ku(null,e,r,!0,t,n);case 19:return Xg(t,e,n);case 22:return Wg(t,e,n)}throw Error(O(156,e.tag))};function d1(t,e){return Um(t,e)}function b2(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Et(t,e,n,r){return new b2(t,e,n,r)}function _h(t){return t=t.prototype,!(!t||!t.isReactComponent)}function z2(t){if(typeof t=="function")return _h(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Fc)return 11;if(t===Uc)return 14}return 2}function Nn(t,e){var n=t.alternate;return n===null?(n=Et(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Wo(t,e,n,r,i,s){var l=2;if(r=t,typeof t=="function")_h(t)&&(l=1);else if(typeof t=="string")l=5;else e:switch(t){case kr:return sr(n.children,i,s,e);case Oc:l=8,i|=8;break;case mu:return t=Et(12,n,e,i|2),t.elementType=mu,t.lanes=s,t;case gu:return t=Et(13,n,e,i),t.elementType=gu,t.lanes=s,t;case yu:return t=Et(19,n,e,i),t.elementType=yu,t.lanes=s,t;case Cm:return Hl(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case wm:l=10;break e;case Em:l=9;break e;case Fc:l=11;break e;case Uc:l=14;break e;case mn:l=16,r=null;break e}throw Error(O(130,t==null?t:typeof t,""))}return e=Et(l,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function sr(t,e,n,r){return t=Et(7,t,r,e),t.lanes=n,t}function Hl(t,e,n,r){return t=Et(22,t,r,e),t.elementType=Cm,t.lanes=n,t.stateNode={isHidden:!1},t}function nu(t,e,n){return t=Et(6,t,null,e),t.lanes=n,t}function ru(t,e,n){return e=Et(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function $2(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Oa(0),this.expirationTimes=Oa(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Oa(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function wh(t,e,n,r,i,s,l,a,u){return t=new $2(t,e,n,a,u),e===1?(e=1,s===!0&&(e|=8)):e=0,s=Et(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},rh(s),t}function H2(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Rr,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function f1(t){if(!t)return Mn;t=t._reactInternals;e:{if(vr(t)!==t||t.tag!==1)throw Error(O(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(at(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(O(171))}if(t.tag===1){var n=t.type;if(at(n))return fg(t,n,e)}return e}function p1(t,e,n,r,i,s,l,a,u){return t=wh(n,r,!0,t,i,s,l,a,u),t.context=f1(null),n=t.current,r=nt(),i=kn(n),s=nn(r,i),s.callback=e??null,An(n,s,i),t.current.lanes=i,Ms(t,i,r),ut(t,r),t}function ql(t,e,n,r){var i=e.current,s=nt(),l=kn(i);return n=f1(n),e.context===null?e.context=n:e.pendingContext=n,e=nn(s,l),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=An(i,e,l),t!==null&&(Nt(t,i,l,s),Bo(t,i,l)),l}function wl(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function tp(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Eh(t,e){tp(t,e),(t=t.alternate)&&tp(t,e)}function q2(){return null}var m1=typeof reportError=="function"?reportError:function(t){console.error(t)};function Ch(t){this._internalRoot=t}Wl.prototype.render=Ch.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(O(409));ql(t,e,null,null)};Wl.prototype.unmount=Ch.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;fr(function(){ql(null,t,null,null)}),e[sn]=null}};function Wl(t){this._internalRoot=t}Wl.prototype.unstable_scheduleHydration=function(t){if(t){var e=Wm();t={blockedOn:null,target:t,priority:e};for(var n=0;n<yn.length&&e!==0&&e<yn[n].priority;n++);yn.splice(n,0,t),n===0&&Km(t)}};function xh(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Ql(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function np(){}function W2(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var h=wl(l);s.call(h)}}var l=p1(e,r,t,0,null,!1,!1,"",np);return t._reactRootContainer=l,t[sn]=l.current,vs(t.nodeType===8?t.parentNode:t),fr(),l}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var h=wl(u);a.call(h)}}var u=wh(t,0,!1,null,null,!1,!1,"",np);return t._reactRootContainer=u,t[sn]=u.current,vs(t.nodeType===8?t.parentNode:t),fr(function(){ql(e,u,n,r)}),u}function Kl(t,e,n,r,i){var s=n._reactRootContainer;if(s){var l=s;if(typeof i=="function"){var a=i;i=function(){var u=wl(l);a.call(u)}}ql(e,l,t,i)}else l=W2(n,e,t,i,r);return wl(l)}Hm=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Wi(e.pendingLanes);n!==0&&(zc(e,n|1),ut(e,xe()),!(ne&6)&&(ri=xe()+500,zn()))}break;case 13:fr(function(){var r=on(t,1);if(r!==null){var i=nt();Nt(r,t,1,i)}}),Eh(t,1)}};$c=function(t){if(t.tag===13){var e=on(t,134217728);if(e!==null){var n=nt();Nt(e,t,134217728,n)}Eh(t,134217728)}};qm=function(t){if(t.tag===13){var e=kn(t),n=on(t,e);if(n!==null){var r=nt();Nt(n,t,e,r)}Eh(t,e)}};Wm=function(){return se};Qm=function(t,e){var n=se;try{return se=t,e()}finally{se=n}};Pu=function(t,e,n){switch(e){case"input":if(wu(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=Fl(r);if(!i)throw Error(O(90));Tm(r),wu(r,i)}}}break;case"textarea":Im(t,n);break;case"select":e=n.value,e!=null&&br(t,!!n.multiple,e,!1)}};Dm=gh;Lm=fr;var Q2={usingClientEntryPoint:!1,Events:[Fs,Lr,Fl,Nm,Vm,gh]},zi={findFiberByHostInstance:er,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},K2={bundleType:zi.bundleType,version:zi.version,rendererPackageName:zi.rendererPackageName,rendererConfig:zi.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:cn.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Om(t),t===null?null:t.stateNode},findFiberByHostInstance:zi.findFiberByHostInstance||q2,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ro=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ro.isDisabled&&Ro.supportsFiber)try{Ll=Ro.inject(K2),Ot=Ro}catch{}}gt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Q2;gt.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!xh(e))throw Error(O(200));return H2(t,e,null,n)};gt.createRoot=function(t,e){if(!xh(t))throw Error(O(299));var n=!1,r="",i=m1;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=wh(t,1,!1,null,null,n,!1,r,i),t[sn]=e.current,vs(t.nodeType===8?t.parentNode:t),new Ch(e)};gt.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(O(188)):(t=Object.keys(t).join(","),Error(O(268,t)));return t=Om(e),t=t===null?null:t.stateNode,t};gt.flushSync=function(t){return fr(t)};gt.hydrate=function(t,e,n){if(!Ql(e))throw Error(O(200));return Kl(null,t,e,!0,n)};gt.hydrateRoot=function(t,e,n){if(!xh(t))throw Error(O(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",l=m1;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(l=n.onRecoverableError)),e=p1(e,null,t,1,n??null,i,!1,s,l),t[sn]=e.current,vs(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new Wl(e)};gt.render=function(t,e,n){if(!Ql(e))throw Error(O(200));return Kl(null,t,e,!1,n)};gt.unmountComponentAtNode=function(t){if(!Ql(t))throw Error(O(40));return t._reactRootContainer?(fr(function(){Kl(null,null,t,!1,function(){t._reactRootContainer=null,t[sn]=null})}),!0):!1};gt.unstable_batchedUpdates=gh;gt.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Ql(n))throw Error(O(200));if(t==null||t._reactInternals===void 0)throw Error(O(38));return Kl(t,e,n,!1,r)};gt.version="18.3.1-next-f1338f8080-20240426";function g1(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(g1)}catch(t){console.error(t)}}g1(),gm.exports=gt;var G2=gm.exports,y1,rp=G2;y1=rp.createRoot,rp.hydrateRoot;/**
 * @remix-run/router v1.19.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ps(){return Ps=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ps.apply(this,arguments)}var En;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(En||(En={}));const ip="popstate";function X2(t){t===void 0&&(t={});function e(r,i){let{pathname:s,search:l,hash:a}=r.location;return oc("",{pathname:s,search:l,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:El(i)}return Z2(e,n,null,t)}function we(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function v1(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Y2(){return Math.random().toString(36).substr(2,8)}function sp(t,e){return{usr:t.state,key:t.key,idx:e}}function oc(t,e,n,r){return n===void 0&&(n=null),Ps({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?pi(e):e,{state:n,key:e&&e.key||r||Y2()})}function El(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function pi(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function Z2(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,l=i.history,a=En.Pop,u=null,h=f();h==null&&(h=0,l.replaceState(Ps({},l.state,{idx:h}),""));function f(){return(l.state||{idx:null}).idx}function g(){a=En.Pop;let L=f(),T=L==null?null:L-h;h=L,u&&u({action:a,location:N.location,delta:T})}function v(L,T){a=En.Push;let _=oc(N.location,L,T);h=f()+1;let S=sp(_,h),D=N.createHref(_);try{l.pushState(S,"",D)}catch(F){if(F instanceof DOMException&&F.name==="DataCloneError")throw F;i.location.assign(D)}s&&u&&u({action:a,location:N.location,delta:1})}function P(L,T){a=En.Replace;let _=oc(N.location,L,T);h=f();let S=sp(_,h),D=N.createHref(_);l.replaceState(S,"",D),s&&u&&u({action:a,location:N.location,delta:0})}function k(L){let T=i.location.origin!=="null"?i.location.origin:i.location.href,_=typeof L=="string"?L:El(L);return _=_.replace(/ $/,"%20"),we(T,"No window.location.(origin|href) available to create URL for href: "+_),new URL(_,T)}let N={get action(){return a},get location(){return t(i,l)},listen(L){if(u)throw new Error("A history only accepts one active listener");return i.addEventListener(ip,g),u=L,()=>{i.removeEventListener(ip,g),u=null}},createHref(L){return e(i,L)},createURL:k,encodeLocation(L){let T=k(L);return{pathname:T.pathname,search:T.search,hash:T.hash}},push:v,replace:P,go(L){return l.go(L)}};return N}var op;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(op||(op={}));function J2(t,e,n){return n===void 0&&(n="/"),e_(t,e,n,!1)}function e_(t,e,n,r){let i=typeof e=="string"?pi(e):e,s=ii(i.pathname||"/",n);if(s==null)return null;let l=_1(t);t_(l);let a=null;for(let u=0;a==null&&u<l.length;++u){let h=d_(s);a=c_(l[u],h,r)}return a}function _1(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,l,a)=>{let u={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:l,route:s};u.relativePath.startsWith("/")&&(we(u.relativePath.startsWith(r),'Absolute route path "'+u.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),u.relativePath=u.relativePath.slice(r.length));let h=Vn([r,u.relativePath]),f=n.concat(u);s.children&&s.children.length>0&&(we(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+h+'".')),_1(s.children,e,f,h)),!(s.path==null&&!s.index)&&e.push({path:h,score:a_(h,s.index),routesMeta:f})};return t.forEach((s,l)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))i(s,l);else for(let u of w1(s.path))i(s,l,u)}),e}function w1(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let l=w1(r.join("/")),a=[];return a.push(...l.map(u=>u===""?s:[s,u].join("/"))),i&&a.push(...l),a.map(u=>t.startsWith("/")&&u===""?"/":u)}function t_(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:u_(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const n_=/^:[\w-]+$/,r_=3,i_=2,s_=1,o_=10,l_=-2,lp=t=>t==="*";function a_(t,e){let n=t.split("/"),r=n.length;return n.some(lp)&&(r+=l_),e&&(r+=i_),n.filter(i=>!lp(i)).reduce((i,s)=>i+(n_.test(s)?r_:s===""?s_:o_),r)}function u_(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function c_(t,e,n){let{routesMeta:r}=t,i={},s="/",l=[];for(let a=0;a<r.length;++a){let u=r[a],h=a===r.length-1,f=s==="/"?e:e.slice(s.length)||"/",g=Cl({path:u.relativePath,caseSensitive:u.caseSensitive,end:h},f),v=u.route;if(!g&&h&&n&&!r[r.length-1].route.index&&(g=Cl({path:u.relativePath,caseSensitive:u.caseSensitive,end:!1},f)),!g)return null;Object.assign(i,g.params),l.push({params:i,pathname:Vn([s,g.pathname]),pathnameBase:g_(Vn([s,g.pathnameBase])),route:v}),g.pathnameBase!=="/"&&(s=Vn([s,g.pathnameBase]))}return l}function Cl(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=h_(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],l=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((h,f,g)=>{let{paramName:v,isOptional:P}=f;if(v==="*"){let N=a[g]||"";l=s.slice(0,s.length-N.length).replace(/(.)\/+$/,"$1")}const k=a[g];return P&&!k?h[v]=void 0:h[v]=(k||"").replace(/%2F/g,"/"),h},{}),pathname:s,pathnameBase:l,pattern:t}}function h_(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),v1(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,a,u)=>(r.push({paramName:a,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function d_(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return v1(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function ii(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function f_(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?pi(t):t;return{pathname:n?n.startsWith("/")?n:p_(n,e):e,search:y_(r),hash:v_(i)}}function p_(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function iu(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function m_(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function E1(t,e){let n=m_(t);return e?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function C1(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=pi(t):(i=Ps({},t),we(!i.pathname||!i.pathname.includes("?"),iu("?","pathname","search",i)),we(!i.pathname||!i.pathname.includes("#"),iu("#","pathname","hash",i)),we(!i.search||!i.search.includes("#"),iu("#","search","hash",i)));let s=t===""||i.pathname==="",l=s?"/":i.pathname,a;if(l==null)a=n;else{let g=e.length-1;if(!r&&l.startsWith("..")){let v=l.split("/");for(;v[0]==="..";)v.shift(),g-=1;i.pathname=v.join("/")}a=g>=0?e[g]:"/"}let u=f_(i,a),h=l&&l!=="/"&&l.endsWith("/"),f=(s||l===".")&&n.endsWith("/");return!u.pathname.endsWith("/")&&(h||f)&&(u.pathname+="/"),u}const Vn=t=>t.join("/").replace(/\/\/+/g,"/"),g_=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),y_=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,v_=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function __(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const x1=["post","put","patch","delete"];new Set(x1);const w_=["get",...x1];new Set(w_);/**
 * React Router v6.26.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function As(){return As=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},As.apply(this,arguments)}const Gl=j.createContext(null),T1=j.createContext(null),$n=j.createContext(null),Xl=j.createContext(null),_r=j.createContext({outlet:null,matches:[],isDataRoute:!1}),S1=j.createContext(null);function E_(t,e){let{relative:n}=e===void 0?{}:e;Bs()||we(!1);let{basename:r,navigator:i}=j.useContext($n),{hash:s,pathname:l,search:a}=Yl(t,{relative:n}),u=l;return r!=="/"&&(u=l==="/"?r:Vn([r,l])),i.createHref({pathname:u,search:a,hash:s})}function Bs(){return j.useContext(Xl)!=null}function bs(){return Bs()||we(!1),j.useContext(Xl).location}function I1(t){j.useContext($n).static||j.useLayoutEffect(t)}function C_(){let{isDataRoute:t}=j.useContext(_r);return t?j_():x_()}function x_(){Bs()||we(!1);let t=j.useContext(Gl),{basename:e,future:n,navigator:r}=j.useContext($n),{matches:i}=j.useContext(_r),{pathname:s}=bs(),l=JSON.stringify(E1(i,n.v7_relativeSplatPath)),a=j.useRef(!1);return I1(()=>{a.current=!0}),j.useCallback(function(h,f){if(f===void 0&&(f={}),!a.current)return;if(typeof h=="number"){r.go(h);return}let g=C1(h,JSON.parse(l),s,f.relative==="path");t==null&&e!=="/"&&(g.pathname=g.pathname==="/"?e:Vn([e,g.pathname])),(f.replace?r.replace:r.push)(g,f.state,f)},[e,r,l,s,t])}function Yl(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=j.useContext($n),{matches:i}=j.useContext(_r),{pathname:s}=bs(),l=JSON.stringify(E1(i,r.v7_relativeSplatPath));return j.useMemo(()=>C1(t,JSON.parse(l),s,n==="path"),[t,l,s,n])}function T_(t,e){return S_(t,e)}function S_(t,e,n,r){Bs()||we(!1);let{navigator:i}=j.useContext($n),{matches:s}=j.useContext(_r),l=s[s.length-1],a=l?l.params:{};l&&l.pathname;let u=l?l.pathnameBase:"/";l&&l.route;let h=bs(),f;if(e){var g;let L=typeof e=="string"?pi(e):e;u==="/"||(g=L.pathname)!=null&&g.startsWith(u)||we(!1),f=L}else f=h;let v=f.pathname||"/",P=v;if(u!=="/"){let L=u.replace(/^\//,"").split("/");P="/"+v.replace(/^\//,"").split("/").slice(L.length).join("/")}let k=J2(t,{pathname:P}),N=k_(k&&k.map(L=>Object.assign({},L,{params:Object.assign({},a,L.params),pathname:Vn([u,i.encodeLocation?i.encodeLocation(L.pathname).pathname:L.pathname]),pathnameBase:L.pathnameBase==="/"?u:Vn([u,i.encodeLocation?i.encodeLocation(L.pathnameBase).pathname:L.pathnameBase])})),s,n,r);return e&&N?j.createElement(Xl.Provider,{value:{location:As({pathname:"/",search:"",hash:"",state:null,key:"default"},f),navigationType:En.Pop}},N):N}function I_(){let t=L_(),e=__(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return j.createElement(j.Fragment,null,j.createElement("h2",null,"Unexpected Application Error!"),j.createElement("h3",{style:{fontStyle:"italic"}},e),n?j.createElement("pre",{style:i},n):null,null)}const P_=j.createElement(I_,null);class A_ extends j.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?j.createElement(_r.Provider,{value:this.props.routeContext},j.createElement(S1.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function R_(t){let{routeContext:e,match:n,children:r}=t,i=j.useContext(Gl);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),j.createElement(_r.Provider,{value:e},r)}function k_(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var s;if(!n)return null;if(n.errors)t=n.matches;else if((s=r)!=null&&s.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let l=t,a=(i=n)==null?void 0:i.errors;if(a!=null){let f=l.findIndex(g=>g.route.id&&(a==null?void 0:a[g.route.id])!==void 0);f>=0||we(!1),l=l.slice(0,Math.min(l.length,f+1))}let u=!1,h=-1;if(n&&r&&r.v7_partialHydration)for(let f=0;f<l.length;f++){let g=l[f];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(h=f),g.route.id){let{loaderData:v,errors:P}=n,k=g.route.loader&&v[g.route.id]===void 0&&(!P||P[g.route.id]===void 0);if(g.route.lazy||k){u=!0,h>=0?l=l.slice(0,h+1):l=[l[0]];break}}}return l.reduceRight((f,g,v)=>{let P,k=!1,N=null,L=null;n&&(P=a&&g.route.id?a[g.route.id]:void 0,N=g.route.errorElement||P_,u&&(h<0&&v===0?(k=!0,L=null):h===v&&(k=!0,L=g.route.hydrateFallbackElement||null)));let T=e.concat(l.slice(0,v+1)),_=()=>{let S;return P?S=N:k?S=L:g.route.Component?S=j.createElement(g.route.Component,null):g.route.element?S=g.route.element:S=f,j.createElement(R_,{match:g,routeContext:{outlet:f,matches:T,isDataRoute:n!=null},children:S})};return n&&(g.route.ErrorBoundary||g.route.errorElement||v===0)?j.createElement(A_,{location:n.location,revalidation:n.revalidation,component:N,error:P,children:_(),routeContext:{outlet:null,matches:T,isDataRoute:!0}}):_()},null)}var P1=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(P1||{}),xl=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(xl||{});function N_(t){let e=j.useContext(Gl);return e||we(!1),e}function V_(t){let e=j.useContext(T1);return e||we(!1),e}function D_(t){let e=j.useContext(_r);return e||we(!1),e}function A1(t){let e=D_(),n=e.matches[e.matches.length-1];return n.route.id||we(!1),n.route.id}function L_(){var t;let e=j.useContext(S1),n=V_(xl.UseRouteError),r=A1(xl.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function j_(){let{router:t}=N_(P1.UseNavigateStable),e=A1(xl.UseNavigateStable),n=j.useRef(!1);return I1(()=>{n.current=!0}),j.useCallback(function(i,s){s===void 0&&(s={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,As({fromRouteId:e},s)))},[t,e])}function Yt(t){we(!1)}function M_(t){let{basename:e="/",children:n=null,location:r,navigationType:i=En.Pop,navigator:s,static:l=!1,future:a}=t;Bs()&&we(!1);let u=e.replace(/^\/*/,"/"),h=j.useMemo(()=>({basename:u,navigator:s,static:l,future:As({v7_relativeSplatPath:!1},a)}),[u,a,s,l]);typeof r=="string"&&(r=pi(r));let{pathname:f="/",search:g="",hash:v="",state:P=null,key:k="default"}=r,N=j.useMemo(()=>{let L=ii(f,u);return L==null?null:{location:{pathname:L,search:g,hash:v,state:P,key:k},navigationType:i}},[u,f,g,v,P,k,i]);return N==null?null:j.createElement($n.Provider,{value:h},j.createElement(Xl.Provider,{children:n,value:N}))}function O_(t){let{children:e,location:n}=t;return T_(lc(e),n)}new Promise(()=>{});function lc(t,e){e===void 0&&(e=[]);let n=[];return j.Children.forEach(t,(r,i)=>{if(!j.isValidElement(r))return;let s=[...e,i];if(r.type===j.Fragment){n.push.apply(n,lc(r.props.children,s));return}r.type!==Yt&&we(!1),!r.props.index||!r.props.children||we(!1);let l={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(l.children=lc(r.props.children,s)),n.push(l)}),n}/**
 * React Router DOM v6.26.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Tl(){return Tl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Tl.apply(this,arguments)}function R1(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function F_(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function U_(t,e){return t.button===0&&(!e||e==="_self")&&!F_(t)}const B_=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"],b_=["aria-current","caseSensitive","className","end","style","to","unstable_viewTransition","children"],z_="6";try{window.__reactRouterVersion=z_}catch{}const $_=j.createContext({isTransitioning:!1}),H_="startTransition",ap=Fy[H_];function q_(t){let{basename:e,children:n,future:r,window:i}=t,s=j.useRef();s.current==null&&(s.current=X2({window:i,v5Compat:!0}));let l=s.current,[a,u]=j.useState({action:l.action,location:l.location}),{v7_startTransition:h}=r||{},f=j.useCallback(g=>{h&&ap?ap(()=>u(g)):u(g)},[u,h]);return j.useLayoutEffect(()=>l.listen(f),[l,f]),j.createElement(M_,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:l,future:r})}const W_=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Q_=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,K_=j.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:s,replace:l,state:a,target:u,to:h,preventScrollReset:f,unstable_viewTransition:g}=e,v=R1(e,B_),{basename:P}=j.useContext($n),k,N=!1;if(typeof h=="string"&&Q_.test(h)&&(k=h,W_))try{let S=new URL(window.location.href),D=h.startsWith("//")?new URL(S.protocol+h):new URL(h),F=ii(D.pathname,P);D.origin===S.origin&&F!=null?h=F+D.search+D.hash:N=!0}catch{}let L=E_(h,{relative:i}),T=X_(h,{replace:l,state:a,target:u,preventScrollReset:f,relative:i,unstable_viewTransition:g});function _(S){r&&r(S),S.defaultPrevented||T(S)}return j.createElement("a",Tl({},v,{href:k||L,onClick:N||s?r:_,ref:n,target:u}))}),Ke=j.forwardRef(function(e,n){let{"aria-current":r="page",caseSensitive:i=!1,className:s="",end:l=!1,style:a,to:u,unstable_viewTransition:h,children:f}=e,g=R1(e,b_),v=Yl(u,{relative:g.relative}),P=bs(),k=j.useContext(T1),{navigator:N,basename:L}=j.useContext($n),T=k!=null&&Y_(v)&&h===!0,_=N.encodeLocation?N.encodeLocation(v).pathname:v.pathname,S=P.pathname,D=k&&k.navigation&&k.navigation.location?k.navigation.location.pathname:null;i||(S=S.toLowerCase(),D=D?D.toLowerCase():null,_=_.toLowerCase()),D&&L&&(D=ii(D,L)||D);const F=_!=="/"&&_.endsWith("/")?_.length-1:_.length;let B=S===_||!l&&S.startsWith(_)&&S.charAt(F)==="/",E=D!=null&&(D===_||!l&&D.startsWith(_)&&D.charAt(_.length)==="/"),y={isActive:B,isPending:E,isTransitioning:T},w=B?r:void 0,C;typeof s=="function"?C=s(y):C=[s,B?"active":null,E?"pending":null,T?"transitioning":null].filter(Boolean).join(" ");let I=typeof a=="function"?a(y):a;return j.createElement(K_,Tl({},g,{"aria-current":w,className:C,ref:n,style:I,to:u,unstable_viewTransition:h}),typeof f=="function"?f(y):f)});var ac;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(ac||(ac={}));var up;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(up||(up={}));function G_(t){let e=j.useContext(Gl);return e||we(!1),e}function X_(t,e){let{target:n,replace:r,state:i,preventScrollReset:s,relative:l,unstable_viewTransition:a}=e===void 0?{}:e,u=C_(),h=bs(),f=Yl(t,{relative:l});return j.useCallback(g=>{if(U_(g,n)){g.preventDefault();let v=r!==void 0?r:El(h)===El(f);u(t,{replace:v,state:i,preventScrollReset:s,relative:l,unstable_viewTransition:a})}},[h,u,f,r,i,n,t,s,l,a])}function Y_(t,e){e===void 0&&(e={});let n=j.useContext($_);n==null&&we(!1);let{basename:r}=G_(ac.useViewTransitionState),i=Yl(t,{relative:e.relative});if(!n.isTransitioning)return!1;let s=ii(n.currentLocation.pathname,r)||n.currentLocation.pathname,l=ii(n.nextLocation.pathname,r)||n.nextLocation.pathname;return Cl(i.pathname,l)!=null||Cl(i.pathname,s)!=null}var cp={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k1=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},Z_=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],l=t[n++],a=t[n++],u=((i&7)<<18|(s&63)<<12|(l&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{const s=t[n++],l=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|l&63)}}return e.join("")},N1={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],l=i+1<t.length,a=l?t[i+1]:0,u=i+2<t.length,h=u?t[i+2]:0,f=s>>2,g=(s&3)<<4|a>>4;let v=(a&15)<<2|h>>6,P=h&63;u||(P=64,l||(v=64)),r.push(n[f],n[g],n[v],n[P])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(k1(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):Z_(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const h=i<t.length?n[t.charAt(i)]:64;++i;const g=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||h==null||g==null)throw new J_;const v=s<<2|a>>4;if(r.push(v),h!==64){const P=a<<4&240|h>>2;if(r.push(P),g!==64){const k=h<<6&192|g;r.push(k)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class J_ extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const ew=function(t){const e=k1(t);return N1.encodeByteArray(e,!0)},Sl=function(t){return ew(t).replace(/\./g,"")},tw=function(t){try{return N1.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nw(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rw=()=>nw().__FIREBASE_DEFAULTS__,iw=()=>{if(typeof process>"u"||typeof cp>"u")return;const t=cp.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},sw=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&tw(t[1]);return e&&JSON.parse(e)},Th=()=>{try{return rw()||iw()||sw()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},ow=t=>{var e,n;return(n=(e=Th())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},lw=t=>{const e=ow(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},V1=()=>{var t;return(t=Th())===null||t===void 0?void 0:t.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aw{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uw(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const l=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Sl(JSON.stringify(n)),Sl(JSON.stringify(l)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cw(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function hw(){var t;const e=(t=Th())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function dw(){return!hw()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function fw(){try{return typeof indexedDB=="object"}catch{return!1}}function pw(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mw="FirebaseError";class mi extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=mw,Object.setPrototypeOf(this,mi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,D1.prototype.create)}}class D1{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],l=s?gw(s,r):"Error",a=`${this.serviceName}: ${l} (${i}).`;return new mi(i,a,r)}}function gw(t,e){return t.replace(yw,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const yw=/\{\$([^}]+)}/g;function uc(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],l=e[i];if(hp(s)&&hp(l)){if(!uc(s,l))return!1}else if(s!==l)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function hp(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vw(t){return t&&t._delegate?t._delegate:t}class Rs{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jn="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _w{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new aw;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Ew(e))try{this.getOrInitializeService({instanceIdentifier:Jn})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Jn){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Jn){return this.instances.has(e)}getOptions(e=Jn){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,l]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&l.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const l=this.instances.get(i);return l&&e(l,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:ww(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Jn){return this.component?this.component.multipleInstances?e:Jn:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function ww(t){return t===Jn?void 0:t}function Ew(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cw{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new _w(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ee;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(ee||(ee={}));const xw={debug:ee.DEBUG,verbose:ee.VERBOSE,info:ee.INFO,warn:ee.WARN,error:ee.ERROR,silent:ee.SILENT},Tw=ee.INFO,Sw={[ee.DEBUG]:"log",[ee.VERBOSE]:"log",[ee.INFO]:"info",[ee.WARN]:"warn",[ee.ERROR]:"error"},Iw=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=Sw[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class L1{constructor(e){this.name=e,this._logLevel=Tw,this._logHandler=Iw,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ee))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?xw[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ee.DEBUG,...e),this._logHandler(this,ee.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ee.VERBOSE,...e),this._logHandler(this,ee.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ee.INFO,...e),this._logHandler(this,ee.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ee.WARN,...e),this._logHandler(this,ee.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ee.ERROR,...e),this._logHandler(this,ee.ERROR,...e)}}const Pw=(t,e)=>e.some(n=>t instanceof n);let dp,fp;function Aw(){return dp||(dp=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Rw(){return fp||(fp=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const j1=new WeakMap,cc=new WeakMap,M1=new WeakMap,su=new WeakMap,Sh=new WeakMap;function kw(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",l)},s=()=>{n(Dn(t.result)),i()},l=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",l)});return e.then(n=>{n instanceof IDBCursor&&j1.set(n,t)}).catch(()=>{}),Sh.set(e,t),e}function Nw(t){if(cc.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",l),t.removeEventListener("abort",l)},s=()=>{n(),i()},l=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",l),t.addEventListener("abort",l)});cc.set(t,e)}let hc={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return cc.get(t);if(e==="objectStoreNames")return t.objectStoreNames||M1.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Dn(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function Vw(t){hc=t(hc)}function Dw(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(ou(this),e,...n);return M1.set(r,e.sort?e.sort():[e]),Dn(r)}:Rw().includes(t)?function(...e){return t.apply(ou(this),e),Dn(j1.get(this))}:function(...e){return Dn(t.apply(ou(this),e))}}function Lw(t){return typeof t=="function"?Dw(t):(t instanceof IDBTransaction&&Nw(t),Pw(t,Aw())?new Proxy(t,hc):t)}function Dn(t){if(t instanceof IDBRequest)return kw(t);if(su.has(t))return su.get(t);const e=Lw(t);return e!==t&&(su.set(t,e),Sh.set(e,t)),e}const ou=t=>Sh.get(t);function jw(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const l=indexedDB.open(t,e),a=Dn(l);return r&&l.addEventListener("upgradeneeded",u=>{r(Dn(l.result),u.oldVersion,u.newVersion,Dn(l.transaction),u)}),n&&l.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),a.then(u=>{s&&u.addEventListener("close",()=>s()),i&&u.addEventListener("versionchange",h=>i(h.oldVersion,h.newVersion,h))}).catch(()=>{}),a}const Mw=["get","getKey","getAll","getAllKeys","count"],Ow=["put","add","delete","clear"],lu=new Map;function pp(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(lu.get(e))return lu.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=Ow.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||Mw.includes(n)))return;const s=async function(l,...a){const u=this.transaction(l,i?"readwrite":"readonly");let h=u.store;return r&&(h=h.index(a.shift())),(await Promise.all([h[n](...a),i&&u.done]))[0]};return lu.set(e,s),s}Vw(t=>({...t,get:(e,n,r)=>pp(e,n)||t.get(e,n,r),has:(e,n)=>!!pp(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fw{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(Uw(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function Uw(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const dc="@firebase/app",mp="0.10.11";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const an=new L1("@firebase/app"),Bw="@firebase/app-compat",bw="@firebase/analytics-compat",zw="@firebase/analytics",$w="@firebase/app-check-compat",Hw="@firebase/app-check",qw="@firebase/auth",Ww="@firebase/auth-compat",Qw="@firebase/database",Kw="@firebase/database-compat",Gw="@firebase/functions",Xw="@firebase/functions-compat",Yw="@firebase/installations",Zw="@firebase/installations-compat",Jw="@firebase/messaging",e3="@firebase/messaging-compat",t3="@firebase/performance",n3="@firebase/performance-compat",r3="@firebase/remote-config",i3="@firebase/remote-config-compat",s3="@firebase/storage",o3="@firebase/storage-compat",l3="@firebase/firestore",a3="@firebase/vertexai-preview",u3="@firebase/firestore-compat",c3="firebase",h3="10.13.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fc="[DEFAULT]",d3={[dc]:"fire-core",[Bw]:"fire-core-compat",[zw]:"fire-analytics",[bw]:"fire-analytics-compat",[Hw]:"fire-app-check",[$w]:"fire-app-check-compat",[qw]:"fire-auth",[Ww]:"fire-auth-compat",[Qw]:"fire-rtdb",[Kw]:"fire-rtdb-compat",[Gw]:"fire-fn",[Xw]:"fire-fn-compat",[Yw]:"fire-iid",[Zw]:"fire-iid-compat",[Jw]:"fire-fcm",[e3]:"fire-fcm-compat",[t3]:"fire-perf",[n3]:"fire-perf-compat",[r3]:"fire-rc",[i3]:"fire-rc-compat",[s3]:"fire-gcs",[o3]:"fire-gcs-compat",[l3]:"fire-fst",[u3]:"fire-fst-compat",[a3]:"fire-vertex","fire-js":"fire-js",[c3]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Il=new Map,f3=new Map,pc=new Map;function gp(t,e){try{t.container.addComponent(e)}catch(n){an.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Pl(t){const e=t.name;if(pc.has(e))return an.debug(`There were multiple attempts to register component ${e}.`),!1;pc.set(e,t);for(const n of Il.values())gp(n,t);for(const n of f3.values())gp(n,t);return!0}function p3(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m3={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ln=new D1("app","Firebase",m3);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g3{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Rs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ln.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y3=h3;function O1(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:fc,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Ln.create("bad-app-name",{appName:String(i)});if(n||(n=V1()),!n)throw Ln.create("no-options");const s=Il.get(i);if(s){if(uc(n,s.options)&&uc(r,s.config))return s;throw Ln.create("duplicate-app",{appName:i})}const l=new Cw(i);for(const u of pc.values())l.addComponent(u);const a=new g3(n,r,l);return Il.set(i,a),a}function v3(t=fc){const e=Il.get(t);if(!e&&t===fc&&V1())return O1();if(!e)throw Ln.create("no-app",{appName:t});return e}function Qr(t,e,n){var r;let i=(r=d3[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),l=e.match(/\s|\//);if(s||l){const a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&l&&a.push("and"),l&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),an.warn(a.join(" "));return}Pl(new Rs(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _3="firebase-heartbeat-database",w3=1,ks="firebase-heartbeat-store";let au=null;function F1(){return au||(au=jw(_3,w3,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(ks)}catch(n){console.warn(n)}}}}).catch(t=>{throw Ln.create("idb-open",{originalErrorMessage:t.message})})),au}async function E3(t){try{const n=(await F1()).transaction(ks),r=await n.objectStore(ks).get(U1(t));return await n.done,r}catch(e){if(e instanceof mi)an.warn(e.message);else{const n=Ln.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});an.warn(n.message)}}}async function yp(t,e){try{const r=(await F1()).transaction(ks,"readwrite");await r.objectStore(ks).put(e,U1(t)),await r.done}catch(n){if(n instanceof mi)an.warn(n.message);else{const r=Ln.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});an.warn(r.message)}}}function U1(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C3=1024,x3=30*24*60*60*1e3;class T3{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new I3(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=vp();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(l=>l.date===s)?void 0:(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(l=>{const a=new Date(l.date).valueOf();return Date.now()-a<=x3}),this._storage.overwrite(this._heartbeatsCache))}catch(r){an.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=vp(),{heartbeatsToSend:r,unsentEntries:i}=S3(this._heartbeatsCache.heartbeats),s=Sl(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return an.warn(n),""}}}function vp(){return new Date().toISOString().substring(0,10)}function S3(t,e=C3){const n=[];let r=t.slice();for(const i of t){const s=n.find(l=>l.agent===i.agent);if(s){if(s.dates.push(i.date),_p(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),_p(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class I3{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return fw()?pw().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await E3(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return yp(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return yp(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function _p(t){return Sl(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P3(t){Pl(new Rs("platform-logger",e=>new Fw(e),"PRIVATE")),Pl(new Rs("heartbeat",e=>new T3(e),"PRIVATE")),Qr(dc,mp,t),Qr(dc,mp,"esm2017"),Qr("fire-js","")}P3("");var wp=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var or,B1;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(E,y){function w(){}w.prototype=y.prototype,E.D=y.prototype,E.prototype=new w,E.prototype.constructor=E,E.C=function(C,I,R){for(var x=Array(arguments.length-2),vt=2;vt<arguments.length;vt++)x[vt-2]=arguments[vt];return y.prototype[I].apply(C,x)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(E,y,w){w||(w=0);var C=Array(16);if(typeof y=="string")for(var I=0;16>I;++I)C[I]=y.charCodeAt(w++)|y.charCodeAt(w++)<<8|y.charCodeAt(w++)<<16|y.charCodeAt(w++)<<24;else for(I=0;16>I;++I)C[I]=y[w++]|y[w++]<<8|y[w++]<<16|y[w++]<<24;y=E.g[0],w=E.g[1],I=E.g[2];var R=E.g[3],x=y+(R^w&(I^R))+C[0]+3614090360&4294967295;y=w+(x<<7&4294967295|x>>>25),x=R+(I^y&(w^I))+C[1]+3905402710&4294967295,R=y+(x<<12&4294967295|x>>>20),x=I+(w^R&(y^w))+C[2]+606105819&4294967295,I=R+(x<<17&4294967295|x>>>15),x=w+(y^I&(R^y))+C[3]+3250441966&4294967295,w=I+(x<<22&4294967295|x>>>10),x=y+(R^w&(I^R))+C[4]+4118548399&4294967295,y=w+(x<<7&4294967295|x>>>25),x=R+(I^y&(w^I))+C[5]+1200080426&4294967295,R=y+(x<<12&4294967295|x>>>20),x=I+(w^R&(y^w))+C[6]+2821735955&4294967295,I=R+(x<<17&4294967295|x>>>15),x=w+(y^I&(R^y))+C[7]+4249261313&4294967295,w=I+(x<<22&4294967295|x>>>10),x=y+(R^w&(I^R))+C[8]+1770035416&4294967295,y=w+(x<<7&4294967295|x>>>25),x=R+(I^y&(w^I))+C[9]+2336552879&4294967295,R=y+(x<<12&4294967295|x>>>20),x=I+(w^R&(y^w))+C[10]+4294925233&4294967295,I=R+(x<<17&4294967295|x>>>15),x=w+(y^I&(R^y))+C[11]+2304563134&4294967295,w=I+(x<<22&4294967295|x>>>10),x=y+(R^w&(I^R))+C[12]+1804603682&4294967295,y=w+(x<<7&4294967295|x>>>25),x=R+(I^y&(w^I))+C[13]+4254626195&4294967295,R=y+(x<<12&4294967295|x>>>20),x=I+(w^R&(y^w))+C[14]+2792965006&4294967295,I=R+(x<<17&4294967295|x>>>15),x=w+(y^I&(R^y))+C[15]+1236535329&4294967295,w=I+(x<<22&4294967295|x>>>10),x=y+(I^R&(w^I))+C[1]+4129170786&4294967295,y=w+(x<<5&4294967295|x>>>27),x=R+(w^I&(y^w))+C[6]+3225465664&4294967295,R=y+(x<<9&4294967295|x>>>23),x=I+(y^w&(R^y))+C[11]+643717713&4294967295,I=R+(x<<14&4294967295|x>>>18),x=w+(R^y&(I^R))+C[0]+3921069994&4294967295,w=I+(x<<20&4294967295|x>>>12),x=y+(I^R&(w^I))+C[5]+3593408605&4294967295,y=w+(x<<5&4294967295|x>>>27),x=R+(w^I&(y^w))+C[10]+38016083&4294967295,R=y+(x<<9&4294967295|x>>>23),x=I+(y^w&(R^y))+C[15]+3634488961&4294967295,I=R+(x<<14&4294967295|x>>>18),x=w+(R^y&(I^R))+C[4]+3889429448&4294967295,w=I+(x<<20&4294967295|x>>>12),x=y+(I^R&(w^I))+C[9]+568446438&4294967295,y=w+(x<<5&4294967295|x>>>27),x=R+(w^I&(y^w))+C[14]+3275163606&4294967295,R=y+(x<<9&4294967295|x>>>23),x=I+(y^w&(R^y))+C[3]+4107603335&4294967295,I=R+(x<<14&4294967295|x>>>18),x=w+(R^y&(I^R))+C[8]+1163531501&4294967295,w=I+(x<<20&4294967295|x>>>12),x=y+(I^R&(w^I))+C[13]+2850285829&4294967295,y=w+(x<<5&4294967295|x>>>27),x=R+(w^I&(y^w))+C[2]+4243563512&4294967295,R=y+(x<<9&4294967295|x>>>23),x=I+(y^w&(R^y))+C[7]+1735328473&4294967295,I=R+(x<<14&4294967295|x>>>18),x=w+(R^y&(I^R))+C[12]+2368359562&4294967295,w=I+(x<<20&4294967295|x>>>12),x=y+(w^I^R)+C[5]+4294588738&4294967295,y=w+(x<<4&4294967295|x>>>28),x=R+(y^w^I)+C[8]+2272392833&4294967295,R=y+(x<<11&4294967295|x>>>21),x=I+(R^y^w)+C[11]+1839030562&4294967295,I=R+(x<<16&4294967295|x>>>16),x=w+(I^R^y)+C[14]+4259657740&4294967295,w=I+(x<<23&4294967295|x>>>9),x=y+(w^I^R)+C[1]+2763975236&4294967295,y=w+(x<<4&4294967295|x>>>28),x=R+(y^w^I)+C[4]+1272893353&4294967295,R=y+(x<<11&4294967295|x>>>21),x=I+(R^y^w)+C[7]+4139469664&4294967295,I=R+(x<<16&4294967295|x>>>16),x=w+(I^R^y)+C[10]+3200236656&4294967295,w=I+(x<<23&4294967295|x>>>9),x=y+(w^I^R)+C[13]+681279174&4294967295,y=w+(x<<4&4294967295|x>>>28),x=R+(y^w^I)+C[0]+3936430074&4294967295,R=y+(x<<11&4294967295|x>>>21),x=I+(R^y^w)+C[3]+3572445317&4294967295,I=R+(x<<16&4294967295|x>>>16),x=w+(I^R^y)+C[6]+76029189&4294967295,w=I+(x<<23&4294967295|x>>>9),x=y+(w^I^R)+C[9]+3654602809&4294967295,y=w+(x<<4&4294967295|x>>>28),x=R+(y^w^I)+C[12]+3873151461&4294967295,R=y+(x<<11&4294967295|x>>>21),x=I+(R^y^w)+C[15]+530742520&4294967295,I=R+(x<<16&4294967295|x>>>16),x=w+(I^R^y)+C[2]+3299628645&4294967295,w=I+(x<<23&4294967295|x>>>9),x=y+(I^(w|~R))+C[0]+4096336452&4294967295,y=w+(x<<6&4294967295|x>>>26),x=R+(w^(y|~I))+C[7]+1126891415&4294967295,R=y+(x<<10&4294967295|x>>>22),x=I+(y^(R|~w))+C[14]+2878612391&4294967295,I=R+(x<<15&4294967295|x>>>17),x=w+(R^(I|~y))+C[5]+4237533241&4294967295,w=I+(x<<21&4294967295|x>>>11),x=y+(I^(w|~R))+C[12]+1700485571&4294967295,y=w+(x<<6&4294967295|x>>>26),x=R+(w^(y|~I))+C[3]+2399980690&4294967295,R=y+(x<<10&4294967295|x>>>22),x=I+(y^(R|~w))+C[10]+4293915773&4294967295,I=R+(x<<15&4294967295|x>>>17),x=w+(R^(I|~y))+C[1]+2240044497&4294967295,w=I+(x<<21&4294967295|x>>>11),x=y+(I^(w|~R))+C[8]+1873313359&4294967295,y=w+(x<<6&4294967295|x>>>26),x=R+(w^(y|~I))+C[15]+4264355552&4294967295,R=y+(x<<10&4294967295|x>>>22),x=I+(y^(R|~w))+C[6]+2734768916&4294967295,I=R+(x<<15&4294967295|x>>>17),x=w+(R^(I|~y))+C[13]+1309151649&4294967295,w=I+(x<<21&4294967295|x>>>11),x=y+(I^(w|~R))+C[4]+4149444226&4294967295,y=w+(x<<6&4294967295|x>>>26),x=R+(w^(y|~I))+C[11]+3174756917&4294967295,R=y+(x<<10&4294967295|x>>>22),x=I+(y^(R|~w))+C[2]+718787259&4294967295,I=R+(x<<15&4294967295|x>>>17),x=w+(R^(I|~y))+C[9]+3951481745&4294967295,E.g[0]=E.g[0]+y&4294967295,E.g[1]=E.g[1]+(I+(x<<21&4294967295|x>>>11))&4294967295,E.g[2]=E.g[2]+I&4294967295,E.g[3]=E.g[3]+R&4294967295}r.prototype.u=function(E,y){y===void 0&&(y=E.length);for(var w=y-this.blockSize,C=this.B,I=this.h,R=0;R<y;){if(I==0)for(;R<=w;)i(this,E,R),R+=this.blockSize;if(typeof E=="string"){for(;R<y;)if(C[I++]=E.charCodeAt(R++),I==this.blockSize){i(this,C),I=0;break}}else for(;R<y;)if(C[I++]=E[R++],I==this.blockSize){i(this,C),I=0;break}}this.h=I,this.o+=y},r.prototype.v=function(){var E=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);E[0]=128;for(var y=1;y<E.length-8;++y)E[y]=0;var w=8*this.o;for(y=E.length-8;y<E.length;++y)E[y]=w&255,w/=256;for(this.u(E),E=Array(16),y=w=0;4>y;++y)for(var C=0;32>C;C+=8)E[w++]=this.g[y]>>>C&255;return E};function s(E,y){var w=a;return Object.prototype.hasOwnProperty.call(w,E)?w[E]:w[E]=y(E)}function l(E,y){this.h=y;for(var w=[],C=!0,I=E.length-1;0<=I;I--){var R=E[I]|0;C&&R==y||(w[I]=R,C=!1)}this.g=w}var a={};function u(E){return-128<=E&&128>E?s(E,function(y){return new l([y|0],0>y?-1:0)}):new l([E|0],0>E?-1:0)}function h(E){if(isNaN(E)||!isFinite(E))return g;if(0>E)return L(h(-E));for(var y=[],w=1,C=0;E>=w;C++)y[C]=E/w|0,w*=4294967296;return new l(y,0)}function f(E,y){if(E.length==0)throw Error("number format error: empty string");if(y=y||10,2>y||36<y)throw Error("radix out of range: "+y);if(E.charAt(0)=="-")return L(f(E.substring(1),y));if(0<=E.indexOf("-"))throw Error('number format error: interior "-" character');for(var w=h(Math.pow(y,8)),C=g,I=0;I<E.length;I+=8){var R=Math.min(8,E.length-I),x=parseInt(E.substring(I,I+R),y);8>R?(R=h(Math.pow(y,R)),C=C.j(R).add(h(x))):(C=C.j(w),C=C.add(h(x)))}return C}var g=u(0),v=u(1),P=u(16777216);t=l.prototype,t.m=function(){if(N(this))return-L(this).m();for(var E=0,y=1,w=0;w<this.g.length;w++){var C=this.i(w);E+=(0<=C?C:4294967296+C)*y,y*=4294967296}return E},t.toString=function(E){if(E=E||10,2>E||36<E)throw Error("radix out of range: "+E);if(k(this))return"0";if(N(this))return"-"+L(this).toString(E);for(var y=h(Math.pow(E,6)),w=this,C="";;){var I=D(w,y).g;w=T(w,I.j(y));var R=((0<w.g.length?w.g[0]:w.h)>>>0).toString(E);if(w=I,k(w))return R+C;for(;6>R.length;)R="0"+R;C=R+C}},t.i=function(E){return 0>E?0:E<this.g.length?this.g[E]:this.h};function k(E){if(E.h!=0)return!1;for(var y=0;y<E.g.length;y++)if(E.g[y]!=0)return!1;return!0}function N(E){return E.h==-1}t.l=function(E){return E=T(this,E),N(E)?-1:k(E)?0:1};function L(E){for(var y=E.g.length,w=[],C=0;C<y;C++)w[C]=~E.g[C];return new l(w,~E.h).add(v)}t.abs=function(){return N(this)?L(this):this},t.add=function(E){for(var y=Math.max(this.g.length,E.g.length),w=[],C=0,I=0;I<=y;I++){var R=C+(this.i(I)&65535)+(E.i(I)&65535),x=(R>>>16)+(this.i(I)>>>16)+(E.i(I)>>>16);C=x>>>16,R&=65535,x&=65535,w[I]=x<<16|R}return new l(w,w[w.length-1]&-2147483648?-1:0)};function T(E,y){return E.add(L(y))}t.j=function(E){if(k(this)||k(E))return g;if(N(this))return N(E)?L(this).j(L(E)):L(L(this).j(E));if(N(E))return L(this.j(L(E)));if(0>this.l(P)&&0>E.l(P))return h(this.m()*E.m());for(var y=this.g.length+E.g.length,w=[],C=0;C<2*y;C++)w[C]=0;for(C=0;C<this.g.length;C++)for(var I=0;I<E.g.length;I++){var R=this.i(C)>>>16,x=this.i(C)&65535,vt=E.i(I)>>>16,Wn=E.i(I)&65535;w[2*C+2*I]+=x*Wn,_(w,2*C+2*I),w[2*C+2*I+1]+=R*Wn,_(w,2*C+2*I+1),w[2*C+2*I+1]+=x*vt,_(w,2*C+2*I+1),w[2*C+2*I+2]+=R*vt,_(w,2*C+2*I+2)}for(C=0;C<y;C++)w[C]=w[2*C+1]<<16|w[2*C];for(C=y;C<2*y;C++)w[C]=0;return new l(w,0)};function _(E,y){for(;(E[y]&65535)!=E[y];)E[y+1]+=E[y]>>>16,E[y]&=65535,y++}function S(E,y){this.g=E,this.h=y}function D(E,y){if(k(y))throw Error("division by zero");if(k(E))return new S(g,g);if(N(E))return y=D(L(E),y),new S(L(y.g),L(y.h));if(N(y))return y=D(E,L(y)),new S(L(y.g),y.h);if(30<E.g.length){if(N(E)||N(y))throw Error("slowDivide_ only works with positive integers.");for(var w=v,C=y;0>=C.l(E);)w=F(w),C=F(C);var I=B(w,1),R=B(C,1);for(C=B(C,2),w=B(w,2);!k(C);){var x=R.add(C);0>=x.l(E)&&(I=I.add(w),R=x),C=B(C,1),w=B(w,1)}return y=T(E,I.j(y)),new S(I,y)}for(I=g;0<=E.l(y);){for(w=Math.max(1,Math.floor(E.m()/y.m())),C=Math.ceil(Math.log(w)/Math.LN2),C=48>=C?1:Math.pow(2,C-48),R=h(w),x=R.j(y);N(x)||0<x.l(E);)w-=C,R=h(w),x=R.j(y);k(R)&&(R=v),I=I.add(R),E=T(E,x)}return new S(I,E)}t.A=function(E){return D(this,E).h},t.and=function(E){for(var y=Math.max(this.g.length,E.g.length),w=[],C=0;C<y;C++)w[C]=this.i(C)&E.i(C);return new l(w,this.h&E.h)},t.or=function(E){for(var y=Math.max(this.g.length,E.g.length),w=[],C=0;C<y;C++)w[C]=this.i(C)|E.i(C);return new l(w,this.h|E.h)},t.xor=function(E){for(var y=Math.max(this.g.length,E.g.length),w=[],C=0;C<y;C++)w[C]=this.i(C)^E.i(C);return new l(w,this.h^E.h)};function F(E){for(var y=E.g.length+1,w=[],C=0;C<y;C++)w[C]=E.i(C)<<1|E.i(C-1)>>>31;return new l(w,E.h)}function B(E,y){var w=y>>5;y%=32;for(var C=E.g.length-w,I=[],R=0;R<C;R++)I[R]=0<y?E.i(R+w)>>>y|E.i(R+w+1)<<32-y:E.i(R+w);return new l(I,E.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,B1=r,l.prototype.add=l.prototype.add,l.prototype.multiply=l.prototype.j,l.prototype.modulo=l.prototype.A,l.prototype.compare=l.prototype.l,l.prototype.toNumber=l.prototype.m,l.prototype.toString=l.prototype.toString,l.prototype.getBits=l.prototype.i,l.fromNumber=h,l.fromString=f,or=l}).apply(typeof wp<"u"?wp:typeof self<"u"?self:typeof window<"u"?window:{});var ko=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var b1,z1,Ki,$1,Qo,mc,H1,q1,W1;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(o,c,d){return o==Array.prototype||o==Object.prototype||(o[c]=d.value),o};function n(o){o=[typeof globalThis=="object"&&globalThis,o,typeof window=="object"&&window,typeof self=="object"&&self,typeof ko=="object"&&ko];for(var c=0;c<o.length;++c){var d=o[c];if(d&&d.Math==Math)return d}throw Error("Cannot find global object")}var r=n(this);function i(o,c){if(c)e:{var d=r;o=o.split(".");for(var m=0;m<o.length-1;m++){var A=o[m];if(!(A in d))break e;d=d[A]}o=o[o.length-1],m=d[o],c=c(m),c!=m&&c!=null&&e(d,o,{configurable:!0,writable:!0,value:c})}}function s(o,c){o instanceof String&&(o+="");var d=0,m=!1,A={next:function(){if(!m&&d<o.length){var V=d++;return{value:c(V,o[V]),done:!1}}return m=!0,{done:!0,value:void 0}}};return A[Symbol.iterator]=function(){return A},A}i("Array.prototype.values",function(o){return o||function(){return s(this,function(c,d){return d})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var l=l||{},a=this||self;function u(o){var c=typeof o;return c=c!="object"?c:o?Array.isArray(o)?"array":c:"null",c=="array"||c=="object"&&typeof o.length=="number"}function h(o){var c=typeof o;return c=="object"&&o!=null||c=="function"}function f(o,c,d){return o.call.apply(o.bind,arguments)}function g(o,c,d){if(!o)throw Error();if(2<arguments.length){var m=Array.prototype.slice.call(arguments,2);return function(){var A=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(A,m),o.apply(c,A)}}return function(){return o.apply(c,arguments)}}function v(o,c,d){return v=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?f:g,v.apply(null,arguments)}function P(o,c){var d=Array.prototype.slice.call(arguments,1);return function(){var m=d.slice();return m.push.apply(m,arguments),o.apply(this,m)}}function k(o,c){function d(){}d.prototype=c.prototype,o.aa=c.prototype,o.prototype=new d,o.prototype.constructor=o,o.Qb=function(m,A,V){for(var U=Array(arguments.length-2),le=2;le<arguments.length;le++)U[le-2]=arguments[le];return c.prototype[A].apply(m,U)}}function N(o){const c=o.length;if(0<c){const d=Array(c);for(let m=0;m<c;m++)d[m]=o[m];return d}return[]}function L(o,c){for(let d=1;d<arguments.length;d++){const m=arguments[d];if(u(m)){const A=o.length||0,V=m.length||0;o.length=A+V;for(let U=0;U<V;U++)o[A+U]=m[U]}else o.push(m)}}class T{constructor(c,d){this.i=c,this.j=d,this.h=0,this.g=null}get(){let c;return 0<this.h?(this.h--,c=this.g,this.g=c.next,c.next=null):c=this.i(),c}}function _(o){return/^[\s\xa0]*$/.test(o)}function S(){var o=a.navigator;return o&&(o=o.userAgent)?o:""}function D(o){return D[" "](o),o}D[" "]=function(){};var F=S().indexOf("Gecko")!=-1&&!(S().toLowerCase().indexOf("webkit")!=-1&&S().indexOf("Edge")==-1)&&!(S().indexOf("Trident")!=-1||S().indexOf("MSIE")!=-1)&&S().indexOf("Edge")==-1;function B(o,c,d){for(const m in o)c.call(d,o[m],m,o)}function E(o,c){for(const d in o)c.call(void 0,o[d],d,o)}function y(o){const c={};for(const d in o)c[d]=o[d];return c}const w="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function C(o,c){let d,m;for(let A=1;A<arguments.length;A++){m=arguments[A];for(d in m)o[d]=m[d];for(let V=0;V<w.length;V++)d=w[V],Object.prototype.hasOwnProperty.call(m,d)&&(o[d]=m[d])}}function I(o){var c=1;o=o.split(":");const d=[];for(;0<c&&o.length;)d.push(o.shift()),c--;return o.length&&d.push(o.join(":")),d}function R(o){a.setTimeout(()=>{throw o},0)}function x(){var o=Q;let c=null;return o.g&&(c=o.g,o.g=o.g.next,o.g||(o.h=null),c.next=null),c}class vt{constructor(){this.h=this.g=null}add(c,d){const m=Wn.get();m.set(c,d),this.h?this.h.next=m:this.g=m,this.h=m}}var Wn=new T(()=>new wi,o=>o.reset());class wi{constructor(){this.next=this.g=this.h=null}set(c,d){this.h=c,this.g=d,this.next=null}reset(){this.next=this.g=this.h=null}}let Ht,z=!1,Q=new vt,G=()=>{const o=a.Promise.resolve(void 0);Ht=()=>{o.then(fe)}};var fe=()=>{for(var o;o=x();){try{o.h.call(o.g)}catch(d){R(d)}var c=Wn;c.j(o),100>c.h&&(c.h++,o.next=c.g,c.g=o)}z=!1};function oe(){this.s=this.s,this.C=this.C}oe.prototype.s=!1,oe.prototype.ma=function(){this.s||(this.s=!0,this.N())},oe.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Ee(o,c){this.type=o,this.g=this.target=c,this.defaultPrevented=!1}Ee.prototype.h=function(){this.defaultPrevented=!0};var qt=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var o=!1,c=Object.defineProperty({},"passive",{get:function(){o=!0}});try{const d=()=>{};a.addEventListener("test",d,c),a.removeEventListener("test",d,c)}catch{}return o}();function Wt(o,c){if(Ee.call(this,o?o.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,o){var d=this.type=o.type,m=o.changedTouches&&o.changedTouches.length?o.changedTouches[0]:null;if(this.target=o.target||o.srcElement,this.g=c,c=o.relatedTarget){if(F){e:{try{D(c.nodeName);var A=!0;break e}catch{}A=!1}A||(c=null)}}else d=="mouseover"?c=o.fromElement:d=="mouseout"&&(c=o.toElement);this.relatedTarget=c,m?(this.clientX=m.clientX!==void 0?m.clientX:m.pageX,this.clientY=m.clientY!==void 0?m.clientY:m.pageY,this.screenX=m.screenX||0,this.screenY=m.screenY||0):(this.clientX=o.clientX!==void 0?o.clientX:o.pageX,this.clientY=o.clientY!==void 0?o.clientY:o.pageY,this.screenX=o.screenX||0,this.screenY=o.screenY||0),this.button=o.button,this.key=o.key||"",this.ctrlKey=o.ctrlKey,this.altKey=o.altKey,this.shiftKey=o.shiftKey,this.metaKey=o.metaKey,this.pointerId=o.pointerId||0,this.pointerType=typeof o.pointerType=="string"?o.pointerType:Qt[o.pointerType]||"",this.state=o.state,this.i=o,o.defaultPrevented&&Wt.aa.h.call(this)}}k(Wt,Ee);var Qt={2:"touch",3:"pen",4:"mouse"};Wt.prototype.h=function(){Wt.aa.h.call(this);var o=this.i;o.preventDefault?o.preventDefault():o.returnValue=!1};var Kt="closure_listenable_"+(1e6*Math.random()|0),$0=0;function H0(o,c,d,m,A){this.listener=o,this.proxy=null,this.src=c,this.type=d,this.capture=!!m,this.ha=A,this.key=++$0,this.da=this.fa=!1}function Gs(o){o.da=!0,o.listener=null,o.proxy=null,o.src=null,o.ha=null}function Xs(o){this.src=o,this.g={},this.h=0}Xs.prototype.add=function(o,c,d,m,A){var V=o.toString();o=this.g[V],o||(o=this.g[V]=[],this.h++);var U=ca(o,c,m,A);return-1<U?(c=o[U],d||(c.fa=!1)):(c=new H0(c,this.src,V,!!m,A),c.fa=d,o.push(c)),c};function ua(o,c){var d=c.type;if(d in o.g){var m=o.g[d],A=Array.prototype.indexOf.call(m,c,void 0),V;(V=0<=A)&&Array.prototype.splice.call(m,A,1),V&&(Gs(c),o.g[d].length==0&&(delete o.g[d],o.h--))}}function ca(o,c,d,m){for(var A=0;A<o.length;++A){var V=o[A];if(!V.da&&V.listener==c&&V.capture==!!d&&V.ha==m)return A}return-1}var ha="closure_lm_"+(1e6*Math.random()|0),da={};function Gh(o,c,d,m,A){if(Array.isArray(c)){for(var V=0;V<c.length;V++)Gh(o,c[V],d,m,A);return null}return d=Zh(d),o&&o[Kt]?o.K(c,d,h(m)?!!m.capture:!!m,A):q0(o,c,d,!1,m,A)}function q0(o,c,d,m,A,V){if(!c)throw Error("Invalid event type");var U=h(A)?!!A.capture:!!A,le=pa(o);if(le||(o[ha]=le=new Xs(o)),d=le.add(c,d,m,U,V),d.proxy)return d;if(m=W0(),d.proxy=m,m.src=o,m.listener=d,o.addEventListener)qt||(A=U),A===void 0&&(A=!1),o.addEventListener(c.toString(),m,A);else if(o.attachEvent)o.attachEvent(Yh(c.toString()),m);else if(o.addListener&&o.removeListener)o.addListener(m);else throw Error("addEventListener and attachEvent are unavailable.");return d}function W0(){function o(d){return c.call(o.src,o.listener,d)}const c=Q0;return o}function Xh(o,c,d,m,A){if(Array.isArray(c))for(var V=0;V<c.length;V++)Xh(o,c[V],d,m,A);else m=h(m)?!!m.capture:!!m,d=Zh(d),o&&o[Kt]?(o=o.i,c=String(c).toString(),c in o.g&&(V=o.g[c],d=ca(V,d,m,A),-1<d&&(Gs(V[d]),Array.prototype.splice.call(V,d,1),V.length==0&&(delete o.g[c],o.h--)))):o&&(o=pa(o))&&(c=o.g[c.toString()],o=-1,c&&(o=ca(c,d,m,A)),(d=-1<o?c[o]:null)&&fa(d))}function fa(o){if(typeof o!="number"&&o&&!o.da){var c=o.src;if(c&&c[Kt])ua(c.i,o);else{var d=o.type,m=o.proxy;c.removeEventListener?c.removeEventListener(d,m,o.capture):c.detachEvent?c.detachEvent(Yh(d),m):c.addListener&&c.removeListener&&c.removeListener(m),(d=pa(c))?(ua(d,o),d.h==0&&(d.src=null,c[ha]=null)):Gs(o)}}}function Yh(o){return o in da?da[o]:da[o]="on"+o}function Q0(o,c){if(o.da)o=!0;else{c=new Wt(c,this);var d=o.listener,m=o.ha||o.src;o.fa&&fa(o),o=d.call(m,c)}return o}function pa(o){return o=o[ha],o instanceof Xs?o:null}var ma="__closure_events_fn_"+(1e9*Math.random()>>>0);function Zh(o){return typeof o=="function"?o:(o[ma]||(o[ma]=function(c){return o.handleEvent(c)}),o[ma])}function be(){oe.call(this),this.i=new Xs(this),this.M=this,this.F=null}k(be,oe),be.prototype[Kt]=!0,be.prototype.removeEventListener=function(o,c,d,m){Xh(this,o,c,d,m)};function Ze(o,c){var d,m=o.F;if(m)for(d=[];m;m=m.F)d.push(m);if(o=o.M,m=c.type||c,typeof c=="string")c=new Ee(c,o);else if(c instanceof Ee)c.target=c.target||o;else{var A=c;c=new Ee(m,o),C(c,A)}if(A=!0,d)for(var V=d.length-1;0<=V;V--){var U=c.g=d[V];A=Ys(U,m,!0,c)&&A}if(U=c.g=o,A=Ys(U,m,!0,c)&&A,A=Ys(U,m,!1,c)&&A,d)for(V=0;V<d.length;V++)U=c.g=d[V],A=Ys(U,m,!1,c)&&A}be.prototype.N=function(){if(be.aa.N.call(this),this.i){var o=this.i,c;for(c in o.g){for(var d=o.g[c],m=0;m<d.length;m++)Gs(d[m]);delete o.g[c],o.h--}}this.F=null},be.prototype.K=function(o,c,d,m){return this.i.add(String(o),c,!1,d,m)},be.prototype.L=function(o,c,d,m){return this.i.add(String(o),c,!0,d,m)};function Ys(o,c,d,m){if(c=o.i.g[String(c)],!c)return!0;c=c.concat();for(var A=!0,V=0;V<c.length;++V){var U=c[V];if(U&&!U.da&&U.capture==d){var le=U.listener,Le=U.ha||U.src;U.fa&&ua(o.i,U),A=le.call(Le,m)!==!1&&A}}return A&&!m.defaultPrevented}function Jh(o,c,d){if(typeof o=="function")d&&(o=v(o,d));else if(o&&typeof o.handleEvent=="function")o=v(o.handleEvent,o);else throw Error("Invalid listener argument");return 2147483647<Number(c)?-1:a.setTimeout(o,c||0)}function ed(o){o.g=Jh(()=>{o.g=null,o.i&&(o.i=!1,ed(o))},o.l);const c=o.h;o.h=null,o.m.apply(null,c)}class K0 extends oe{constructor(c,d){super(),this.m=c,this.l=d,this.h=null,this.i=!1,this.g=null}j(c){this.h=arguments,this.g?this.i=!0:ed(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ei(o){oe.call(this),this.h=o,this.g={}}k(Ei,oe);var td=[];function nd(o){B(o.g,function(c,d){this.g.hasOwnProperty(d)&&fa(c)},o),o.g={}}Ei.prototype.N=function(){Ei.aa.N.call(this),nd(this)},Ei.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ga=a.JSON.stringify,G0=a.JSON.parse,X0=class{stringify(o){return a.JSON.stringify(o,void 0)}parse(o){return a.JSON.parse(o,void 0)}};function ya(){}ya.prototype.h=null;function rd(o){return o.h||(o.h=o.i())}function id(){}var Ci={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function va(){Ee.call(this,"d")}k(va,Ee);function _a(){Ee.call(this,"c")}k(_a,Ee);var Qn={},sd=null;function Zs(){return sd=sd||new be}Qn.La="serverreachability";function od(o){Ee.call(this,Qn.La,o)}k(od,Ee);function xi(o){const c=Zs();Ze(c,new od(c))}Qn.STAT_EVENT="statevent";function ld(o,c){Ee.call(this,Qn.STAT_EVENT,o),this.stat=c}k(ld,Ee);function Je(o){const c=Zs();Ze(c,new ld(c,o))}Qn.Ma="timingevent";function ad(o,c){Ee.call(this,Qn.Ma,o),this.size=c}k(ad,Ee);function Ti(o,c){if(typeof o!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){o()},c)}function Si(){this.g=!0}Si.prototype.xa=function(){this.g=!1};function Y0(o,c,d,m,A,V){o.info(function(){if(o.g)if(V)for(var U="",le=V.split("&"),Le=0;Le<le.length;Le++){var re=le[Le].split("=");if(1<re.length){var ze=re[0];re=re[1];var $e=ze.split("_");U=2<=$e.length&&$e[1]=="type"?U+(ze+"="+re+"&"):U+(ze+"=redacted&")}}else U=null;else U=V;return"XMLHTTP REQ ("+m+") [attempt "+A+"]: "+c+`
`+d+`
`+U})}function Z0(o,c,d,m,A,V,U){o.info(function(){return"XMLHTTP RESP ("+m+") [ attempt "+A+"]: "+c+`
`+d+`
`+V+" "+U})}function wr(o,c,d,m){o.info(function(){return"XMLHTTP TEXT ("+c+"): "+ey(o,d)+(m?" "+m:"")})}function J0(o,c){o.info(function(){return"TIMEOUT: "+c})}Si.prototype.info=function(){};function ey(o,c){if(!o.g)return c;if(!c)return null;try{var d=JSON.parse(c);if(d){for(o=0;o<d.length;o++)if(Array.isArray(d[o])){var m=d[o];if(!(2>m.length)){var A=m[1];if(Array.isArray(A)&&!(1>A.length)){var V=A[0];if(V!="noop"&&V!="stop"&&V!="close")for(var U=1;U<A.length;U++)A[U]=""}}}}return ga(d)}catch{return c}}var Js={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},ud={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},wa;function eo(){}k(eo,ya),eo.prototype.g=function(){return new XMLHttpRequest},eo.prototype.i=function(){return{}},wa=new eo;function hn(o,c,d,m){this.j=o,this.i=c,this.l=d,this.R=m||1,this.U=new Ei(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new cd}function cd(){this.i=null,this.g="",this.h=!1}var hd={},Ea={};function Ca(o,c,d){o.L=1,o.v=io(Gt(c)),o.m=d,o.P=!0,dd(o,null)}function dd(o,c){o.F=Date.now(),to(o),o.A=Gt(o.v);var d=o.A,m=o.R;Array.isArray(m)||(m=[String(m)]),Id(d.i,"t",m),o.C=0,d=o.j.J,o.h=new cd,o.g=Hd(o.j,d?c:null,!o.m),0<o.O&&(o.M=new K0(v(o.Y,o,o.g),o.O)),c=o.U,d=o.g,m=o.ca;var A="readystatechange";Array.isArray(A)||(A&&(td[0]=A.toString()),A=td);for(var V=0;V<A.length;V++){var U=Gh(d,A[V],m||c.handleEvent,!1,c.h||c);if(!U)break;c.g[U.key]=U}c=o.H?y(o.H):{},o.m?(o.u||(o.u="POST"),c["Content-Type"]="application/x-www-form-urlencoded",o.g.ea(o.A,o.u,o.m,c)):(o.u="GET",o.g.ea(o.A,o.u,null,c)),xi(),Y0(o.i,o.u,o.A,o.l,o.R,o.m)}hn.prototype.ca=function(o){o=o.target;const c=this.M;c&&Xt(o)==3?c.j():this.Y(o)},hn.prototype.Y=function(o){try{if(o==this.g)e:{const $e=Xt(this.g);var c=this.g.Ba();const xr=this.g.Z();if(!(3>$e)&&($e!=3||this.g&&(this.h.h||this.g.oa()||Dd(this.g)))){this.J||$e!=4||c==7||(c==8||0>=xr?xi(3):xi(2)),xa(this);var d=this.g.Z();this.X=d;t:if(fd(this)){var m=Dd(this.g);o="";var A=m.length,V=Xt(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Kn(this),Ii(this);var U="";break t}this.h.i=new a.TextDecoder}for(c=0;c<A;c++)this.h.h=!0,o+=this.h.i.decode(m[c],{stream:!(V&&c==A-1)});m.length=0,this.h.g+=o,this.C=0,U=this.h.g}else U=this.g.oa();if(this.o=d==200,Z0(this.i,this.u,this.A,this.l,this.R,$e,d),this.o){if(this.T&&!this.K){t:{if(this.g){var le,Le=this.g;if((le=Le.g?Le.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!_(le)){var re=le;break t}}re=null}if(d=re)wr(this.i,this.l,d,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Ta(this,d);else{this.o=!1,this.s=3,Je(12),Kn(this),Ii(this);break e}}if(this.P){d=!0;let St;for(;!this.J&&this.C<U.length;)if(St=ty(this,U),St==Ea){$e==4&&(this.s=4,Je(14),d=!1),wr(this.i,this.l,null,"[Incomplete Response]");break}else if(St==hd){this.s=4,Je(15),wr(this.i,this.l,U,"[Invalid Chunk]"),d=!1;break}else wr(this.i,this.l,St,null),Ta(this,St);if(fd(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),$e!=4||U.length!=0||this.h.h||(this.s=1,Je(16),d=!1),this.o=this.o&&d,!d)wr(this.i,this.l,U,"[Invalid Chunked Response]"),Kn(this),Ii(this);else if(0<U.length&&!this.W){this.W=!0;var ze=this.j;ze.g==this&&ze.ba&&!ze.M&&(ze.j.info("Great, no buffering proxy detected. Bytes received: "+U.length),ka(ze),ze.M=!0,Je(11))}}else wr(this.i,this.l,U,null),Ta(this,U);$e==4&&Kn(this),this.o&&!this.J&&($e==4?Bd(this.j,this):(this.o=!1,to(this)))}else vy(this.g),d==400&&0<U.indexOf("Unknown SID")?(this.s=3,Je(12)):(this.s=0,Je(13)),Kn(this),Ii(this)}}}catch{}finally{}};function fd(o){return o.g?o.u=="GET"&&o.L!=2&&o.j.Ca:!1}function ty(o,c){var d=o.C,m=c.indexOf(`
`,d);return m==-1?Ea:(d=Number(c.substring(d,m)),isNaN(d)?hd:(m+=1,m+d>c.length?Ea:(c=c.slice(m,m+d),o.C=m+d,c)))}hn.prototype.cancel=function(){this.J=!0,Kn(this)};function to(o){o.S=Date.now()+o.I,pd(o,o.I)}function pd(o,c){if(o.B!=null)throw Error("WatchDog timer not null");o.B=Ti(v(o.ba,o),c)}function xa(o){o.B&&(a.clearTimeout(o.B),o.B=null)}hn.prototype.ba=function(){this.B=null;const o=Date.now();0<=o-this.S?(J0(this.i,this.A),this.L!=2&&(xi(),Je(17)),Kn(this),this.s=2,Ii(this)):pd(this,this.S-o)};function Ii(o){o.j.G==0||o.J||Bd(o.j,o)}function Kn(o){xa(o);var c=o.M;c&&typeof c.ma=="function"&&c.ma(),o.M=null,nd(o.U),o.g&&(c=o.g,o.g=null,c.abort(),c.ma())}function Ta(o,c){try{var d=o.j;if(d.G!=0&&(d.g==o||Sa(d.h,o))){if(!o.K&&Sa(d.h,o)&&d.G==3){try{var m=d.Da.g.parse(c)}catch{m=null}if(Array.isArray(m)&&m.length==3){var A=m;if(A[0]==0){e:if(!d.u){if(d.g)if(d.g.F+3e3<o.F)uo(d),lo(d);else break e;Ra(d),Je(18)}}else d.za=A[1],0<d.za-d.T&&37500>A[2]&&d.F&&d.v==0&&!d.C&&(d.C=Ti(v(d.Za,d),6e3));if(1>=yd(d.h)&&d.ca){try{d.ca()}catch{}d.ca=void 0}}else Xn(d,11)}else if((o.K||d.g==o)&&uo(d),!_(c))for(A=d.Da.g.parse(c),c=0;c<A.length;c++){let re=A[c];if(d.T=re[0],re=re[1],d.G==2)if(re[0]=="c"){d.K=re[1],d.ia=re[2];const ze=re[3];ze!=null&&(d.la=ze,d.j.info("VER="+d.la));const $e=re[4];$e!=null&&(d.Aa=$e,d.j.info("SVER="+d.Aa));const xr=re[5];xr!=null&&typeof xr=="number"&&0<xr&&(m=1.5*xr,d.L=m,d.j.info("backChannelRequestTimeoutMs_="+m)),m=d;const St=o.g;if(St){const ho=St.g?St.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ho){var V=m.h;V.g||ho.indexOf("spdy")==-1&&ho.indexOf("quic")==-1&&ho.indexOf("h2")==-1||(V.j=V.l,V.g=new Set,V.h&&(Ia(V,V.h),V.h=null))}if(m.D){const Na=St.g?St.g.getResponseHeader("X-HTTP-Session-Id"):null;Na&&(m.ya=Na,ue(m.I,m.D,Na))}}d.G=3,d.l&&d.l.ua(),d.ba&&(d.R=Date.now()-o.F,d.j.info("Handshake RTT: "+d.R+"ms")),m=d;var U=o;if(m.qa=$d(m,m.J?m.ia:null,m.W),U.K){vd(m.h,U);var le=U,Le=m.L;Le&&(le.I=Le),le.B&&(xa(le),to(le)),m.g=U}else Fd(m);0<d.i.length&&ao(d)}else re[0]!="stop"&&re[0]!="close"||Xn(d,7);else d.G==3&&(re[0]=="stop"||re[0]=="close"?re[0]=="stop"?Xn(d,7):Aa(d):re[0]!="noop"&&d.l&&d.l.ta(re),d.v=0)}}xi(4)}catch{}}var ny=class{constructor(o,c){this.g=o,this.map=c}};function md(o){this.l=o||10,a.PerformanceNavigationTiming?(o=a.performance.getEntriesByType("navigation"),o=0<o.length&&(o[0].nextHopProtocol=="hq"||o[0].nextHopProtocol=="h2")):o=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=o?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function gd(o){return o.h?!0:o.g?o.g.size>=o.j:!1}function yd(o){return o.h?1:o.g?o.g.size:0}function Sa(o,c){return o.h?o.h==c:o.g?o.g.has(c):!1}function Ia(o,c){o.g?o.g.add(c):o.h=c}function vd(o,c){o.h&&o.h==c?o.h=null:o.g&&o.g.has(c)&&o.g.delete(c)}md.prototype.cancel=function(){if(this.i=_d(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const o of this.g.values())o.cancel();this.g.clear()}};function _d(o){if(o.h!=null)return o.i.concat(o.h.D);if(o.g!=null&&o.g.size!==0){let c=o.i;for(const d of o.g.values())c=c.concat(d.D);return c}return N(o.i)}function ry(o){if(o.V&&typeof o.V=="function")return o.V();if(typeof Map<"u"&&o instanceof Map||typeof Set<"u"&&o instanceof Set)return Array.from(o.values());if(typeof o=="string")return o.split("");if(u(o)){for(var c=[],d=o.length,m=0;m<d;m++)c.push(o[m]);return c}c=[],d=0;for(m in o)c[d++]=o[m];return c}function iy(o){if(o.na&&typeof o.na=="function")return o.na();if(!o.V||typeof o.V!="function"){if(typeof Map<"u"&&o instanceof Map)return Array.from(o.keys());if(!(typeof Set<"u"&&o instanceof Set)){if(u(o)||typeof o=="string"){var c=[];o=o.length;for(var d=0;d<o;d++)c.push(d);return c}c=[],d=0;for(const m in o)c[d++]=m;return c}}}function wd(o,c){if(o.forEach&&typeof o.forEach=="function")o.forEach(c,void 0);else if(u(o)||typeof o=="string")Array.prototype.forEach.call(o,c,void 0);else for(var d=iy(o),m=ry(o),A=m.length,V=0;V<A;V++)c.call(void 0,m[V],d&&d[V],o)}var Ed=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function sy(o,c){if(o){o=o.split("&");for(var d=0;d<o.length;d++){var m=o[d].indexOf("="),A=null;if(0<=m){var V=o[d].substring(0,m);A=o[d].substring(m+1)}else V=o[d];c(V,A?decodeURIComponent(A.replace(/\+/g," ")):"")}}}function Gn(o){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,o instanceof Gn){this.h=o.h,no(this,o.j),this.o=o.o,this.g=o.g,ro(this,o.s),this.l=o.l;var c=o.i,d=new Ri;d.i=c.i,c.g&&(d.g=new Map(c.g),d.h=c.h),Cd(this,d),this.m=o.m}else o&&(c=String(o).match(Ed))?(this.h=!1,no(this,c[1]||"",!0),this.o=Pi(c[2]||""),this.g=Pi(c[3]||"",!0),ro(this,c[4]),this.l=Pi(c[5]||"",!0),Cd(this,c[6]||"",!0),this.m=Pi(c[7]||"")):(this.h=!1,this.i=new Ri(null,this.h))}Gn.prototype.toString=function(){var o=[],c=this.j;c&&o.push(Ai(c,xd,!0),":");var d=this.g;return(d||c=="file")&&(o.push("//"),(c=this.o)&&o.push(Ai(c,xd,!0),"@"),o.push(encodeURIComponent(String(d)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),d=this.s,d!=null&&o.push(":",String(d))),(d=this.l)&&(this.g&&d.charAt(0)!="/"&&o.push("/"),o.push(Ai(d,d.charAt(0)=="/"?ay:ly,!0))),(d=this.i.toString())&&o.push("?",d),(d=this.m)&&o.push("#",Ai(d,cy)),o.join("")};function Gt(o){return new Gn(o)}function no(o,c,d){o.j=d?Pi(c,!0):c,o.j&&(o.j=o.j.replace(/:$/,""))}function ro(o,c){if(c){if(c=Number(c),isNaN(c)||0>c)throw Error("Bad port number "+c);o.s=c}else o.s=null}function Cd(o,c,d){c instanceof Ri?(o.i=c,hy(o.i,o.h)):(d||(c=Ai(c,uy)),o.i=new Ri(c,o.h))}function ue(o,c,d){o.i.set(c,d)}function io(o){return ue(o,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),o}function Pi(o,c){return o?c?decodeURI(o.replace(/%25/g,"%2525")):decodeURIComponent(o):""}function Ai(o,c,d){return typeof o=="string"?(o=encodeURI(o).replace(c,oy),d&&(o=o.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),o):null}function oy(o){return o=o.charCodeAt(0),"%"+(o>>4&15).toString(16)+(o&15).toString(16)}var xd=/[#\/\?@]/g,ly=/[#\?:]/g,ay=/[#\?]/g,uy=/[#\?@]/g,cy=/#/g;function Ri(o,c){this.h=this.g=null,this.i=o||null,this.j=!!c}function dn(o){o.g||(o.g=new Map,o.h=0,o.i&&sy(o.i,function(c,d){o.add(decodeURIComponent(c.replace(/\+/g," ")),d)}))}t=Ri.prototype,t.add=function(o,c){dn(this),this.i=null,o=Er(this,o);var d=this.g.get(o);return d||this.g.set(o,d=[]),d.push(c),this.h+=1,this};function Td(o,c){dn(o),c=Er(o,c),o.g.has(c)&&(o.i=null,o.h-=o.g.get(c).length,o.g.delete(c))}function Sd(o,c){return dn(o),c=Er(o,c),o.g.has(c)}t.forEach=function(o,c){dn(this),this.g.forEach(function(d,m){d.forEach(function(A){o.call(c,A,m,this)},this)},this)},t.na=function(){dn(this);const o=Array.from(this.g.values()),c=Array.from(this.g.keys()),d=[];for(let m=0;m<c.length;m++){const A=o[m];for(let V=0;V<A.length;V++)d.push(c[m])}return d},t.V=function(o){dn(this);let c=[];if(typeof o=="string")Sd(this,o)&&(c=c.concat(this.g.get(Er(this,o))));else{o=Array.from(this.g.values());for(let d=0;d<o.length;d++)c=c.concat(o[d])}return c},t.set=function(o,c){return dn(this),this.i=null,o=Er(this,o),Sd(this,o)&&(this.h-=this.g.get(o).length),this.g.set(o,[c]),this.h+=1,this},t.get=function(o,c){return o?(o=this.V(o),0<o.length?String(o[0]):c):c};function Id(o,c,d){Td(o,c),0<d.length&&(o.i=null,o.g.set(Er(o,c),N(d)),o.h+=d.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const o=[],c=Array.from(this.g.keys());for(var d=0;d<c.length;d++){var m=c[d];const V=encodeURIComponent(String(m)),U=this.V(m);for(m=0;m<U.length;m++){var A=V;U[m]!==""&&(A+="="+encodeURIComponent(String(U[m]))),o.push(A)}}return this.i=o.join("&")};function Er(o,c){return c=String(c),o.j&&(c=c.toLowerCase()),c}function hy(o,c){c&&!o.j&&(dn(o),o.i=null,o.g.forEach(function(d,m){var A=m.toLowerCase();m!=A&&(Td(this,m),Id(this,A,d))},o)),o.j=c}function dy(o,c){const d=new Si;if(a.Image){const m=new Image;m.onload=P(fn,d,"TestLoadImage: loaded",!0,c,m),m.onerror=P(fn,d,"TestLoadImage: error",!1,c,m),m.onabort=P(fn,d,"TestLoadImage: abort",!1,c,m),m.ontimeout=P(fn,d,"TestLoadImage: timeout",!1,c,m),a.setTimeout(function(){m.ontimeout&&m.ontimeout()},1e4),m.src=o}else c(!1)}function fy(o,c){const d=new Si,m=new AbortController,A=setTimeout(()=>{m.abort(),fn(d,"TestPingServer: timeout",!1,c)},1e4);fetch(o,{signal:m.signal}).then(V=>{clearTimeout(A),V.ok?fn(d,"TestPingServer: ok",!0,c):fn(d,"TestPingServer: server error",!1,c)}).catch(()=>{clearTimeout(A),fn(d,"TestPingServer: error",!1,c)})}function fn(o,c,d,m,A){try{A&&(A.onload=null,A.onerror=null,A.onabort=null,A.ontimeout=null),m(d)}catch{}}function py(){this.g=new X0}function my(o,c,d){const m=d||"";try{wd(o,function(A,V){let U=A;h(A)&&(U=ga(A)),c.push(m+V+"="+encodeURIComponent(U))})}catch(A){throw c.push(m+"type="+encodeURIComponent("_badmap")),A}}function ki(o){this.l=o.Ub||null,this.j=o.eb||!1}k(ki,ya),ki.prototype.g=function(){return new so(this.l,this.j)},ki.prototype.i=function(o){return function(){return o}}({});function so(o,c){be.call(this),this.D=o,this.o=c,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}k(so,be),t=so.prototype,t.open=function(o,c){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=o,this.A=c,this.readyState=1,Vi(this)},t.send=function(o){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const c={headers:this.u,method:this.B,credentials:this.m,cache:void 0};o&&(c.body=o),(this.D||a).fetch(new Request(this.A,c)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Ni(this)),this.readyState=0},t.Sa=function(o){if(this.g&&(this.l=o,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=o.headers,this.readyState=2,Vi(this)),this.g&&(this.readyState=3,Vi(this),this.g)))if(this.responseType==="arraybuffer")o.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in o){if(this.j=o.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Pd(this)}else o.text().then(this.Ra.bind(this),this.ga.bind(this))};function Pd(o){o.j.read().then(o.Pa.bind(o)).catch(o.ga.bind(o))}t.Pa=function(o){if(this.g){if(this.o&&o.value)this.response.push(o.value);else if(!this.o){var c=o.value?o.value:new Uint8Array(0);(c=this.v.decode(c,{stream:!o.done}))&&(this.response=this.responseText+=c)}o.done?Ni(this):Vi(this),this.readyState==3&&Pd(this)}},t.Ra=function(o){this.g&&(this.response=this.responseText=o,Ni(this))},t.Qa=function(o){this.g&&(this.response=o,Ni(this))},t.ga=function(){this.g&&Ni(this)};function Ni(o){o.readyState=4,o.l=null,o.j=null,o.v=null,Vi(o)}t.setRequestHeader=function(o,c){this.u.append(o,c)},t.getResponseHeader=function(o){return this.h&&this.h.get(o.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const o=[],c=this.h.entries();for(var d=c.next();!d.done;)d=d.value,o.push(d[0]+": "+d[1]),d=c.next();return o.join(`\r
`)};function Vi(o){o.onreadystatechange&&o.onreadystatechange.call(o)}Object.defineProperty(so.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(o){this.m=o?"include":"same-origin"}});function Ad(o){let c="";return B(o,function(d,m){c+=m,c+=":",c+=d,c+=`\r
`}),c}function Pa(o,c,d){e:{for(m in d){var m=!1;break e}m=!0}m||(d=Ad(d),typeof o=="string"?d!=null&&encodeURIComponent(String(d)):ue(o,c,d))}function ye(o){be.call(this),this.headers=new Map,this.o=o||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}k(ye,be);var gy=/^https?$/i,yy=["POST","PUT"];t=ye.prototype,t.Ha=function(o){this.J=o},t.ea=function(o,c,d,m){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+o);c=c?c.toUpperCase():"GET",this.D=o,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():wa.g(),this.v=this.o?rd(this.o):rd(wa),this.g.onreadystatechange=v(this.Ea,this);try{this.B=!0,this.g.open(c,String(o),!0),this.B=!1}catch(V){Rd(this,V);return}if(o=d||"",d=new Map(this.headers),m)if(Object.getPrototypeOf(m)===Object.prototype)for(var A in m)d.set(A,m[A]);else if(typeof m.keys=="function"&&typeof m.get=="function")for(const V of m.keys())d.set(V,m.get(V));else throw Error("Unknown input type for opt_headers: "+String(m));m=Array.from(d.keys()).find(V=>V.toLowerCase()=="content-type"),A=a.FormData&&o instanceof a.FormData,!(0<=Array.prototype.indexOf.call(yy,c,void 0))||m||A||d.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[V,U]of d)this.g.setRequestHeader(V,U);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Vd(this),this.u=!0,this.g.send(o),this.u=!1}catch(V){Rd(this,V)}};function Rd(o,c){o.h=!1,o.g&&(o.j=!0,o.g.abort(),o.j=!1),o.l=c,o.m=5,kd(o),oo(o)}function kd(o){o.A||(o.A=!0,Ze(o,"complete"),Ze(o,"error"))}t.abort=function(o){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=o||7,Ze(this,"complete"),Ze(this,"abort"),oo(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),oo(this,!0)),ye.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?Nd(this):this.bb())},t.bb=function(){Nd(this)};function Nd(o){if(o.h&&typeof l<"u"&&(!o.v[1]||Xt(o)!=4||o.Z()!=2)){if(o.u&&Xt(o)==4)Jh(o.Ea,0,o);else if(Ze(o,"readystatechange"),Xt(o)==4){o.h=!1;try{const U=o.Z();e:switch(U){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var c=!0;break e;default:c=!1}var d;if(!(d=c)){var m;if(m=U===0){var A=String(o.D).match(Ed)[1]||null;!A&&a.self&&a.self.location&&(A=a.self.location.protocol.slice(0,-1)),m=!gy.test(A?A.toLowerCase():"")}d=m}if(d)Ze(o,"complete"),Ze(o,"success");else{o.m=6;try{var V=2<Xt(o)?o.g.statusText:""}catch{V=""}o.l=V+" ["+o.Z()+"]",kd(o)}}finally{oo(o)}}}}function oo(o,c){if(o.g){Vd(o);const d=o.g,m=o.v[0]?()=>{}:null;o.g=null,o.v=null,c||Ze(o,"ready");try{d.onreadystatechange=m}catch{}}}function Vd(o){o.I&&(a.clearTimeout(o.I),o.I=null)}t.isActive=function(){return!!this.g};function Xt(o){return o.g?o.g.readyState:0}t.Z=function(){try{return 2<Xt(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(o){if(this.g){var c=this.g.responseText;return o&&c.indexOf(o)==0&&(c=c.substring(o.length)),G0(c)}};function Dd(o){try{if(!o.g)return null;if("response"in o.g)return o.g.response;switch(o.H){case"":case"text":return o.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in o.g)return o.g.mozResponseArrayBuffer}return null}catch{return null}}function vy(o){const c={};o=(o.g&&2<=Xt(o)&&o.g.getAllResponseHeaders()||"").split(`\r
`);for(let m=0;m<o.length;m++){if(_(o[m]))continue;var d=I(o[m]);const A=d[0];if(d=d[1],typeof d!="string")continue;d=d.trim();const V=c[A]||[];c[A]=V,V.push(d)}E(c,function(m){return m.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Di(o,c,d){return d&&d.internalChannelParams&&d.internalChannelParams[o]||c}function Ld(o){this.Aa=0,this.i=[],this.j=new Si,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Di("failFast",!1,o),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Di("baseRetryDelayMs",5e3,o),this.cb=Di("retryDelaySeedMs",1e4,o),this.Wa=Di("forwardChannelMaxRetries",2,o),this.wa=Di("forwardChannelRequestTimeoutMs",2e4,o),this.pa=o&&o.xmlHttpFactory||void 0,this.Xa=o&&o.Tb||void 0,this.Ca=o&&o.useFetchStreams||!1,this.L=void 0,this.J=o&&o.supportsCrossDomainXhr||!1,this.K="",this.h=new md(o&&o.concurrentRequestLimit),this.Da=new py,this.P=o&&o.fastHandshake||!1,this.O=o&&o.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=o&&o.Rb||!1,o&&o.xa&&this.j.xa(),o&&o.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&o&&o.detectBufferingProxy||!1,this.ja=void 0,o&&o.longPollingTimeout&&0<o.longPollingTimeout&&(this.ja=o.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=Ld.prototype,t.la=8,t.G=1,t.connect=function(o,c,d,m){Je(0),this.W=o,this.H=c||{},d&&m!==void 0&&(this.H.OSID=d,this.H.OAID=m),this.F=this.X,this.I=$d(this,null,this.W),ao(this)};function Aa(o){if(jd(o),o.G==3){var c=o.U++,d=Gt(o.I);if(ue(d,"SID",o.K),ue(d,"RID",c),ue(d,"TYPE","terminate"),Li(o,d),c=new hn(o,o.j,c),c.L=2,c.v=io(Gt(d)),d=!1,a.navigator&&a.navigator.sendBeacon)try{d=a.navigator.sendBeacon(c.v.toString(),"")}catch{}!d&&a.Image&&(new Image().src=c.v,d=!0),d||(c.g=Hd(c.j,null),c.g.ea(c.v)),c.F=Date.now(),to(c)}zd(o)}function lo(o){o.g&&(ka(o),o.g.cancel(),o.g=null)}function jd(o){lo(o),o.u&&(a.clearTimeout(o.u),o.u=null),uo(o),o.h.cancel(),o.s&&(typeof o.s=="number"&&a.clearTimeout(o.s),o.s=null)}function ao(o){if(!gd(o.h)&&!o.s){o.s=!0;var c=o.Ga;Ht||G(),z||(Ht(),z=!0),Q.add(c,o),o.B=0}}function _y(o,c){return yd(o.h)>=o.h.j-(o.s?1:0)?!1:o.s?(o.i=c.D.concat(o.i),!0):o.G==1||o.G==2||o.B>=(o.Va?0:o.Wa)?!1:(o.s=Ti(v(o.Ga,o,c),bd(o,o.B)),o.B++,!0)}t.Ga=function(o){if(this.s)if(this.s=null,this.G==1){if(!o){this.U=Math.floor(1e5*Math.random()),o=this.U++;const A=new hn(this,this.j,o);let V=this.o;if(this.S&&(V?(V=y(V),C(V,this.S)):V=this.S),this.m!==null||this.O||(A.H=V,V=null),this.P)e:{for(var c=0,d=0;d<this.i.length;d++){t:{var m=this.i[d];if("__data__"in m.map&&(m=m.map.__data__,typeof m=="string")){m=m.length;break t}m=void 0}if(m===void 0)break;if(c+=m,4096<c){c=d;break e}if(c===4096||d===this.i.length-1){c=d+1;break e}}c=1e3}else c=1e3;c=Od(this,A,c),d=Gt(this.I),ue(d,"RID",o),ue(d,"CVER",22),this.D&&ue(d,"X-HTTP-Session-Id",this.D),Li(this,d),V&&(this.O?c="headers="+encodeURIComponent(String(Ad(V)))+"&"+c:this.m&&Pa(d,this.m,V)),Ia(this.h,A),this.Ua&&ue(d,"TYPE","init"),this.P?(ue(d,"$req",c),ue(d,"SID","null"),A.T=!0,Ca(A,d,null)):Ca(A,d,c),this.G=2}}else this.G==3&&(o?Md(this,o):this.i.length==0||gd(this.h)||Md(this))};function Md(o,c){var d;c?d=c.l:d=o.U++;const m=Gt(o.I);ue(m,"SID",o.K),ue(m,"RID",d),ue(m,"AID",o.T),Li(o,m),o.m&&o.o&&Pa(m,o.m,o.o),d=new hn(o,o.j,d,o.B+1),o.m===null&&(d.H=o.o),c&&(o.i=c.D.concat(o.i)),c=Od(o,d,1e3),d.I=Math.round(.5*o.wa)+Math.round(.5*o.wa*Math.random()),Ia(o.h,d),Ca(d,m,c)}function Li(o,c){o.H&&B(o.H,function(d,m){ue(c,m,d)}),o.l&&wd({},function(d,m){ue(c,m,d)})}function Od(o,c,d){d=Math.min(o.i.length,d);var m=o.l?v(o.l.Na,o.l,o):null;e:{var A=o.i;let V=-1;for(;;){const U=["count="+d];V==-1?0<d?(V=A[0].g,U.push("ofs="+V)):V=0:U.push("ofs="+V);let le=!0;for(let Le=0;Le<d;Le++){let re=A[Le].g;const ze=A[Le].map;if(re-=V,0>re)V=Math.max(0,A[Le].g-100),le=!1;else try{my(ze,U,"req"+re+"_")}catch{m&&m(ze)}}if(le){m=U.join("&");break e}}}return o=o.i.splice(0,d),c.D=o,m}function Fd(o){if(!o.g&&!o.u){o.Y=1;var c=o.Fa;Ht||G(),z||(Ht(),z=!0),Q.add(c,o),o.v=0}}function Ra(o){return o.g||o.u||3<=o.v?!1:(o.Y++,o.u=Ti(v(o.Fa,o),bd(o,o.v)),o.v++,!0)}t.Fa=function(){if(this.u=null,Ud(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var o=2*this.R;this.j.info("BP detection timer enabled: "+o),this.A=Ti(v(this.ab,this),o)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Je(10),lo(this),Ud(this))};function ka(o){o.A!=null&&(a.clearTimeout(o.A),o.A=null)}function Ud(o){o.g=new hn(o,o.j,"rpc",o.Y),o.m===null&&(o.g.H=o.o),o.g.O=0;var c=Gt(o.qa);ue(c,"RID","rpc"),ue(c,"SID",o.K),ue(c,"AID",o.T),ue(c,"CI",o.F?"0":"1"),!o.F&&o.ja&&ue(c,"TO",o.ja),ue(c,"TYPE","xmlhttp"),Li(o,c),o.m&&o.o&&Pa(c,o.m,o.o),o.L&&(o.g.I=o.L);var d=o.g;o=o.ia,d.L=1,d.v=io(Gt(c)),d.m=null,d.P=!0,dd(d,o)}t.Za=function(){this.C!=null&&(this.C=null,lo(this),Ra(this),Je(19))};function uo(o){o.C!=null&&(a.clearTimeout(o.C),o.C=null)}function Bd(o,c){var d=null;if(o.g==c){uo(o),ka(o),o.g=null;var m=2}else if(Sa(o.h,c))d=c.D,vd(o.h,c),m=1;else return;if(o.G!=0){if(c.o)if(m==1){d=c.m?c.m.length:0,c=Date.now()-c.F;var A=o.B;m=Zs(),Ze(m,new ad(m,d)),ao(o)}else Fd(o);else if(A=c.s,A==3||A==0&&0<c.X||!(m==1&&_y(o,c)||m==2&&Ra(o)))switch(d&&0<d.length&&(c=o.h,c.i=c.i.concat(d)),A){case 1:Xn(o,5);break;case 4:Xn(o,10);break;case 3:Xn(o,6);break;default:Xn(o,2)}}}function bd(o,c){let d=o.Ta+Math.floor(Math.random()*o.cb);return o.isActive()||(d*=2),d*c}function Xn(o,c){if(o.j.info("Error code "+c),c==2){var d=v(o.fb,o),m=o.Xa;const A=!m;m=new Gn(m||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||no(m,"https"),io(m),A?dy(m.toString(),d):fy(m.toString(),d)}else Je(2);o.G=0,o.l&&o.l.sa(c),zd(o),jd(o)}t.fb=function(o){o?(this.j.info("Successfully pinged google.com"),Je(2)):(this.j.info("Failed to ping google.com"),Je(1))};function zd(o){if(o.G=0,o.ka=[],o.l){const c=_d(o.h);(c.length!=0||o.i.length!=0)&&(L(o.ka,c),L(o.ka,o.i),o.h.i.length=0,N(o.i),o.i.length=0),o.l.ra()}}function $d(o,c,d){var m=d instanceof Gn?Gt(d):new Gn(d);if(m.g!="")c&&(m.g=c+"."+m.g),ro(m,m.s);else{var A=a.location;m=A.protocol,c=c?c+"."+A.hostname:A.hostname,A=+A.port;var V=new Gn(null);m&&no(V,m),c&&(V.g=c),A&&ro(V,A),d&&(V.l=d),m=V}return d=o.D,c=o.ya,d&&c&&ue(m,d,c),ue(m,"VER",o.la),Li(o,m),m}function Hd(o,c,d){if(c&&!o.J)throw Error("Can't create secondary domain capable XhrIo object.");return c=o.Ca&&!o.pa?new ye(new ki({eb:d})):new ye(o.pa),c.Ha(o.J),c}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function qd(){}t=qd.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function co(){}co.prototype.g=function(o,c){return new ht(o,c)};function ht(o,c){be.call(this),this.g=new Ld(c),this.l=o,this.h=c&&c.messageUrlParams||null,o=c&&c.messageHeaders||null,c&&c.clientProtocolHeaderRequired&&(o?o["X-Client-Protocol"]="webchannel":o={"X-Client-Protocol":"webchannel"}),this.g.o=o,o=c&&c.initMessageHeaders||null,c&&c.messageContentType&&(o?o["X-WebChannel-Content-Type"]=c.messageContentType:o={"X-WebChannel-Content-Type":c.messageContentType}),c&&c.va&&(o?o["X-WebChannel-Client-Profile"]=c.va:o={"X-WebChannel-Client-Profile":c.va}),this.g.S=o,(o=c&&c.Sb)&&!_(o)&&(this.g.m=o),this.v=c&&c.supportsCrossDomainXhr||!1,this.u=c&&c.sendRawJson||!1,(c=c&&c.httpSessionIdParam)&&!_(c)&&(this.g.D=c,o=this.h,o!==null&&c in o&&(o=this.h,c in o&&delete o[c])),this.j=new Cr(this)}k(ht,be),ht.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},ht.prototype.close=function(){Aa(this.g)},ht.prototype.o=function(o){var c=this.g;if(typeof o=="string"){var d={};d.__data__=o,o=d}else this.u&&(d={},d.__data__=ga(o),o=d);c.i.push(new ny(c.Ya++,o)),c.G==3&&ao(c)},ht.prototype.N=function(){this.g.l=null,delete this.j,Aa(this.g),delete this.g,ht.aa.N.call(this)};function Wd(o){va.call(this),o.__headers__&&(this.headers=o.__headers__,this.statusCode=o.__status__,delete o.__headers__,delete o.__status__);var c=o.__sm__;if(c){e:{for(const d in c){o=d;break e}o=void 0}(this.i=o)&&(o=this.i,c=c!==null&&o in c?c[o]:void 0),this.data=c}else this.data=o}k(Wd,va);function Qd(){_a.call(this),this.status=1}k(Qd,_a);function Cr(o){this.g=o}k(Cr,qd),Cr.prototype.ua=function(){Ze(this.g,"a")},Cr.prototype.ta=function(o){Ze(this.g,new Wd(o))},Cr.prototype.sa=function(o){Ze(this.g,new Qd)},Cr.prototype.ra=function(){Ze(this.g,"b")},co.prototype.createWebChannel=co.prototype.g,ht.prototype.send=ht.prototype.o,ht.prototype.open=ht.prototype.m,ht.prototype.close=ht.prototype.close,W1=function(){return new co},q1=function(){return Zs()},H1=Qn,mc={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Js.NO_ERROR=0,Js.TIMEOUT=8,Js.HTTP_ERROR=6,Qo=Js,ud.COMPLETE="complete",$1=ud,id.EventType=Ci,Ci.OPEN="a",Ci.CLOSE="b",Ci.ERROR="c",Ci.MESSAGE="d",be.prototype.listen=be.prototype.K,Ki=id,z1=ki,ye.prototype.listenOnce=ye.prototype.L,ye.prototype.getLastError=ye.prototype.Ka,ye.prototype.getLastErrorCode=ye.prototype.Ba,ye.prototype.getStatus=ye.prototype.Z,ye.prototype.getResponseJson=ye.prototype.Oa,ye.prototype.getResponseText=ye.prototype.oa,ye.prototype.send=ye.prototype.ea,ye.prototype.setWithCredentials=ye.prototype.Ha,b1=ye}).apply(typeof ko<"u"?ko:typeof self<"u"?self:typeof window<"u"?window:{});const Ep="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qe{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Qe.UNAUTHENTICATED=new Qe(null),Qe.GOOGLE_CREDENTIALS=new Qe("google-credentials-uid"),Qe.FIRST_PARTY=new Qe("first-party-uid"),Qe.MOCK_USER=new Qe("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let gi="10.13.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pr=new L1("@firebase/firestore");function $i(){return pr.logLevel}function H(t,...e){if(pr.logLevel<=ee.DEBUG){const n=e.map(Ih);pr.debug(`Firestore (${gi}): ${t}`,...n)}}function un(t,...e){if(pr.logLevel<=ee.ERROR){const n=e.map(Ih);pr.error(`Firestore (${gi}): ${t}`,...n)}}function si(t,...e){if(pr.logLevel<=ee.WARN){const n=e.map(Ih);pr.warn(`Firestore (${gi}): ${t}`,...n)}}function Ih(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X(t="Unexpected state"){const e=`FIRESTORE (${gi}) INTERNAL ASSERTION FAILED: `+t;throw un(e),new Error(e)}function Pe(t,e){t||X()}function J(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class q extends mi{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lr{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q1{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class A3{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Qe.UNAUTHENTICATED))}shutdown(){}}class R3{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class k3{constructor(e){this.t=e,this.currentUser=Qe.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i;const i=u=>this.i!==r?(r=this.i,n(u)):Promise.resolve();let s=new lr;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new lr,e.enqueueRetryable(()=>i(this.currentUser))};const l=()=>{const u=s;e.enqueueRetryable(async()=>{await u.promise,await i(this.currentUser)})},a=u=>{H("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.auth.addAuthTokenListener(this.o),l()};this.t.onInit(u=>a(u)),setTimeout(()=>{if(!this.auth){const u=this.t.getImmediate({optional:!0});u?a(u):(H("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new lr)}},0),l()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(H("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Pe(typeof r.accessToken=="string"),new Q1(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Pe(e===null||typeof e=="string"),new Qe(e)}}class N3{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=Qe.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class V3{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new N3(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Qe.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class D3{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class L3{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){const r=s=>{s.error!=null&&H("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const l=s.token!==this.R;return this.R=s.token,H("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{H("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?i(s):H("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Pe(typeof n.token=="string"),this.R=n.token,new D3(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j3(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M3{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=j3(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}}function ie(t,e){return t<e?-1:t>e?1:0}function oi(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ct{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new q(b.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new q(b.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new q(b.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new q(b.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return ct.fromMillis(Date.now())}static fromDate(e){return ct.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new ct(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?ie(this.nanoseconds,e.nanoseconds):ie(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K{constructor(e){this.timestamp=e}static fromTimestamp(e){return new K(e)}static min(){return new K(new ct(0,0))}static max(){return new K(new ct(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ns{constructor(e,n,r){n===void 0?n=0:n>e.length&&X(),r===void 0?r=e.length-n:r>e.length-n&&X(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Ns.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Ns?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),l=n.get(i);if(s<l)return-1;if(s>l)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class _e extends Ns{construct(e,n,r){return new _e(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new q(b.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new _e(n)}static emptyPath(){return new _e([])}}const O3=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class tt extends Ns{construct(e,n,r){return new tt(e,n,r)}static isValidIdentifier(e){return O3.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),tt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new tt(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new q(b.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let l=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new q(b.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const u=e[i+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new q(b.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else a==="`"?(l=!l,i++):a!=="."||l?(r+=a,i++):(s(),i++)}if(s(),l)throw new q(b.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new tt(n)}static emptyPath(){return new tt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W{constructor(e){this.path=e}static fromPath(e){return new W(_e.fromString(e))}static fromName(e){return new W(_e.fromString(e).popFirst(5))}static empty(){return new W(_e.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&_e.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return _e.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new W(new _e(e.slice()))}}function F3(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=K.fromTimestamp(r===1e9?new ct(n+1,0):new ct(n,r));return new On(i,W.empty(),e)}function U3(t){return new On(t.readTime,t.key,-1)}class On{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new On(K.min(),W.empty(),-1)}static max(){return new On(K.max(),W.empty(),-1)}}function B3(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=W.comparator(t.documentKey,e.documentKey),n!==0?n:ie(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b3="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class z3{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ph(t){if(t.code!==b.FAILED_PRECONDITION||t.message!==b3)throw t;H("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&X(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new M((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof M?n:M.resolve(n)}catch(n){return M.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):M.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):M.reject(n)}static resolve(e){return new M((n,r)=>{n(e)})}static reject(e){return new M((n,r)=>{r(e)})}static waitFor(e){return new M((n,r)=>{let i=0,s=0,l=!1;e.forEach(a=>{++i,a.next(()=>{++s,l&&s===i&&n()},u=>r(u))}),l=!0,s===i&&n()})}static or(e){let n=M.resolve(!1);for(const r of e)n=n.next(i=>i?M.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new M((r,i)=>{const s=e.length,l=new Array(s);let a=0;for(let u=0;u<s;u++){const h=u;n(e[h]).next(f=>{l[h]=f,++a,a===s&&r(l)},f=>i(f))}})}static doWhile(e,n){return new M((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}function $3(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function zs(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ah{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}Ah.oe=-1;function Zl(t){return t==null}function gc(t){return t===0&&1/t==-1/0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cp(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Jl(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function H3(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Te{constructor(e,n){this.comparator=e,this.root=n||Me.EMPTY}insert(e,n){return new Te(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Me.BLACK,null,null))}remove(e){return new Te(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Me.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new No(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new No(this.root,e,this.comparator,!1)}getReverseIterator(){return new No(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new No(this.root,e,this.comparator,!0)}}class No{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Me{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??Me.RED,this.left=i??Me.EMPTY,this.right=s??Me.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new Me(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Me.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return Me.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Me.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Me.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw X();const e=this.left.check();if(e!==this.right.check())throw X();return e+(this.isRed()?0:1)}}Me.EMPTY=null,Me.RED=!0,Me.BLACK=!1;Me.EMPTY=new class{constructor(){this.size=0}get key(){throw X()}get value(){throw X()}get color(){throw X()}get left(){throw X()}get right(){throw X()}copy(e,n,r,i,s){return this}insert(e,n,r){return new Me(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fe{constructor(e){this.comparator=e,this.data=new Te(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new xp(this.data.getIterator())}getIteratorFrom(e){return new xp(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Fe)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Fe(this.comparator);return n.data=e,n}}class xp{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cn{constructor(e){this.fields=e,e.sort(tt.comparator)}static empty(){return new Cn([])}unionWith(e){let n=new Fe(tt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Cn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return oi(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K1 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Be{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new K1("Invalid base64 string: "+s):s}}(e);return new Be(n)}static fromUint8Array(e){const n=function(i){let s="";for(let l=0;l<i.length;++l)s+=String.fromCharCode(i[l]);return s}(e);return new Be(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ie(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Be.EMPTY_BYTE_STRING=new Be("");const q3=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Fn(t){if(Pe(!!t),typeof t=="string"){let e=0;const n=q3.exec(t);if(Pe(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Ce(t.seconds),nanos:Ce(t.nanos)}}function Ce(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function mr(t){return typeof t=="string"?Be.fromBase64String(t):Be.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rh(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function kh(t){const e=t.mapValue.fields.__previous_value__;return Rh(e)?kh(e):e}function Vs(t){const e=Fn(t.mapValue.fields.__local_write_time__.timestampValue);return new ct(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W3{constructor(e,n,r,i,s,l,a,u,h){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=l,this.autoDetectLongPolling=a,this.longPollingOptions=u,this.useFetchStreams=h}}class Ds{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Ds("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Ds&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vo={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function gr(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Rh(t)?4:K3(t)?9007199254740991:Q3(t)?10:11:X()}function Bt(t,e){if(t===e)return!0;const n=gr(t);if(n!==gr(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Vs(t).isEqual(Vs(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const l=Fn(i.timestampValue),a=Fn(s.timestampValue);return l.seconds===a.seconds&&l.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return mr(i.bytesValue).isEqual(mr(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return Ce(i.geoPointValue.latitude)===Ce(s.geoPointValue.latitude)&&Ce(i.geoPointValue.longitude)===Ce(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return Ce(i.integerValue)===Ce(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const l=Ce(i.doubleValue),a=Ce(s.doubleValue);return l===a?gc(l)===gc(a):isNaN(l)&&isNaN(a)}return!1}(t,e);case 9:return oi(t.arrayValue.values||[],e.arrayValue.values||[],Bt);case 10:case 11:return function(i,s){const l=i.mapValue.fields||{},a=s.mapValue.fields||{};if(Cp(l)!==Cp(a))return!1;for(const u in l)if(l.hasOwnProperty(u)&&(a[u]===void 0||!Bt(l[u],a[u])))return!1;return!0}(t,e);default:return X()}}function Ls(t,e){return(t.values||[]).find(n=>Bt(n,e))!==void 0}function li(t,e){if(t===e)return 0;const n=gr(t),r=gr(e);if(n!==r)return ie(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return ie(t.booleanValue,e.booleanValue);case 2:return function(s,l){const a=Ce(s.integerValue||s.doubleValue),u=Ce(l.integerValue||l.doubleValue);return a<u?-1:a>u?1:a===u?0:isNaN(a)?isNaN(u)?0:-1:1}(t,e);case 3:return Tp(t.timestampValue,e.timestampValue);case 4:return Tp(Vs(t),Vs(e));case 5:return ie(t.stringValue,e.stringValue);case 6:return function(s,l){const a=mr(s),u=mr(l);return a.compareTo(u)}(t.bytesValue,e.bytesValue);case 7:return function(s,l){const a=s.split("/"),u=l.split("/");for(let h=0;h<a.length&&h<u.length;h++){const f=ie(a[h],u[h]);if(f!==0)return f}return ie(a.length,u.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,l){const a=ie(Ce(s.latitude),Ce(l.latitude));return a!==0?a:ie(Ce(s.longitude),Ce(l.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return Sp(t.arrayValue,e.arrayValue);case 10:return function(s,l){var a,u,h,f;const g=s.fields||{},v=l.fields||{},P=(a=g.value)===null||a===void 0?void 0:a.arrayValue,k=(u=v.value)===null||u===void 0?void 0:u.arrayValue,N=ie(((h=P==null?void 0:P.values)===null||h===void 0?void 0:h.length)||0,((f=k==null?void 0:k.values)===null||f===void 0?void 0:f.length)||0);return N!==0?N:Sp(P,k)}(t.mapValue,e.mapValue);case 11:return function(s,l){if(s===Vo.mapValue&&l===Vo.mapValue)return 0;if(s===Vo.mapValue)return 1;if(l===Vo.mapValue)return-1;const a=s.fields||{},u=Object.keys(a),h=l.fields||{},f=Object.keys(h);u.sort(),f.sort();for(let g=0;g<u.length&&g<f.length;++g){const v=ie(u[g],f[g]);if(v!==0)return v;const P=li(a[u[g]],h[f[g]]);if(P!==0)return P}return ie(u.length,f.length)}(t.mapValue,e.mapValue);default:throw X()}}function Tp(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return ie(t,e);const n=Fn(t),r=Fn(e),i=ie(n.seconds,r.seconds);return i!==0?i:ie(n.nanos,r.nanos)}function Sp(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const s=li(n[i],r[i]);if(s)return s}return ie(n.length,r.length)}function ai(t){return yc(t)}function yc(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Fn(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return mr(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return W.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=yc(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const l of r)s?s=!1:i+=",",i+=`${l}:${yc(n.fields[l])}`;return i+"}"}(t.mapValue):X()}function vc(t){return!!t&&"integerValue"in t}function Nh(t){return!!t&&"arrayValue"in t}function Ip(t){return!!t&&"nullValue"in t}function Pp(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function uu(t){return!!t&&"mapValue"in t}function Q3(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function os(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Jl(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=os(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=os(t.arrayValue.values[n]);return e}return Object.assign({},t)}function K3(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mt{constructor(e){this.value=e}static empty(){return new Mt({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!uu(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=os(n)}setAll(e){let n=tt.emptyPath(),r={},i=[];e.forEach((l,a)=>{if(!n.isImmediateParentOf(a)){const u=this.getFieldsMap(n);this.applyChanges(u,r,i),r={},i=[],n=a.popLast()}l?r[a.lastSegment()]=os(l):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());uu(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Bt(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];uu(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Jl(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new Mt(os(this.value))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xe{constructor(e,n,r,i,s,l,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=l,this.documentState=a}static newInvalidDocument(e){return new Xe(e,0,K.min(),K.min(),K.min(),Mt.empty(),0)}static newFoundDocument(e,n,r,i){return new Xe(e,1,n,K.min(),r,i,0)}static newNoDocument(e,n){return new Xe(e,2,n,K.min(),K.min(),Mt.empty(),0)}static newUnknownDocument(e,n){return new Xe(e,3,n,K.min(),K.min(),Mt.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(K.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Mt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Mt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=K.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Xe&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Xe(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Al{constructor(e,n){this.position=e,this.inclusive=n}}function Ap(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],l=t.position[i];if(s.field.isKeyField()?r=W.comparator(W.fromName(l.referenceValue),n.key):r=li(l,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function Rp(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Bt(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rl{constructor(e,n="asc"){this.field=e,this.dir=n}}function G3(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G1{}class Re extends G1{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new Y3(e,n,r):n==="array-contains"?new eE(e,r):n==="in"?new tE(e,r):n==="not-in"?new nE(e,r):n==="array-contains-any"?new rE(e,r):new Re(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new Z3(e,r):new J3(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(li(n,this.value)):n!==null&&gr(this.value)===gr(n)&&this.matchesComparison(li(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return X()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class bt extends G1{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new bt(e,n)}matches(e){return X1(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function X1(t){return t.op==="and"}function Y1(t){return X3(t)&&X1(t)}function X3(t){for(const e of t.filters)if(e instanceof bt)return!1;return!0}function _c(t){if(t instanceof Re)return t.field.canonicalString()+t.op.toString()+ai(t.value);if(Y1(t))return t.filters.map(e=>_c(e)).join(",");{const e=t.filters.map(n=>_c(n)).join(",");return`${t.op}(${e})`}}function Z1(t,e){return t instanceof Re?function(r,i){return i instanceof Re&&r.op===i.op&&r.field.isEqual(i.field)&&Bt(r.value,i.value)}(t,e):t instanceof bt?function(r,i){return i instanceof bt&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,l,a)=>s&&Z1(l,i.filters[a]),!0):!1}(t,e):void X()}function J1(t){return t instanceof Re?function(n){return`${n.field.canonicalString()} ${n.op} ${ai(n.value)}`}(t):t instanceof bt?function(n){return n.op.toString()+" {"+n.getFilters().map(J1).join(" ,")+"}"}(t):"Filter"}class Y3 extends Re{constructor(e,n,r){super(e,n,r),this.key=W.fromName(r.referenceValue)}matches(e){const n=W.comparator(e.key,this.key);return this.matchesComparison(n)}}class Z3 extends Re{constructor(e,n){super(e,"in",n),this.keys=e0("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class J3 extends Re{constructor(e,n){super(e,"not-in",n),this.keys=e0("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function e0(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>W.fromName(r.referenceValue))}class eE extends Re{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Nh(n)&&Ls(n.arrayValue,this.value)}}class tE extends Re{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Ls(this.value.arrayValue,n)}}class nE extends Re{constructor(e,n){super(e,"not-in",n)}matches(e){if(Ls(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Ls(this.value.arrayValue,n)}}class rE extends Re{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Nh(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Ls(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iE{constructor(e,n=null,r=[],i=[],s=null,l=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=l,this.endAt=a,this.ue=null}}function kp(t,e=null,n=[],r=[],i=null,s=null,l=null){return new iE(t,e,n,r,i,s,l)}function Vh(t){const e=J(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>_c(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),Zl(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>ai(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>ai(r)).join(",")),e.ue=n}return e.ue}function Dh(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!G3(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!Z1(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Rp(t.startAt,e.startAt)&&Rp(t.endAt,e.endAt)}function wc(t){return W.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ea{constructor(e,n=null,r=[],i=[],s=null,l="F",a=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=l,this.startAt=a,this.endAt=u,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function sE(t,e,n,r,i,s,l,a){return new ea(t,e,n,r,i,s,l,a)}function t0(t){return new ea(t)}function Np(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function oE(t){return t.collectionGroup!==null}function ls(t){const e=J(t);if(e.ce===null){e.ce=[];const n=new Set;for(const s of e.explicitOrderBy)e.ce.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(l){let a=new Fe(tt.comparator);return l.filters.forEach(u=>{u.getFlattenedFilters().forEach(h=>{h.isInequality()&&(a=a.add(h.field))})}),a})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.ce.push(new Rl(s,r))}),n.has(tt.keyField().canonicalString())||e.ce.push(new Rl(tt.keyField(),r))}return e.ce}function Ut(t){const e=J(t);return e.le||(e.le=lE(e,ls(t))),e.le}function lE(t,e){if(t.limitType==="F")return kp(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new Rl(i.field,s)});const n=t.endAt?new Al(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Al(t.startAt.position,t.startAt.inclusive):null;return kp(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Ec(t,e,n){return new ea(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function ta(t,e){return Dh(Ut(t),Ut(e))&&t.limitType===e.limitType}function n0(t){return`${Vh(Ut(t))}|lt:${t.limitType}`}function Ir(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>J1(i)).join(", ")}]`),Zl(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(l){return`${l.field.canonicalString()} (${l.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>ai(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>ai(i)).join(",")),`Target(${r})`}(Ut(t))}; limitType=${t.limitType})`}function na(t,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):W.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(const s of ls(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(l,a,u){const h=Ap(l,a,u);return l.inclusive?h<=0:h<0}(r.startAt,ls(r),i)||r.endAt&&!function(l,a,u){const h=Ap(l,a,u);return l.inclusive?h>=0:h>0}(r.endAt,ls(r),i))}(t,e)}function aE(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function r0(t){return(e,n)=>{let r=!1;for(const i of ls(t)){const s=uE(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function uE(t,e,n){const r=t.field.isKeyField()?W.comparator(e.key,n.key):function(s,l,a){const u=l.data.field(s),h=a.data.field(s);return u!==null&&h!==null?li(u,h):X()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return X()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yi{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Jl(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return H3(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cE=new Te(W.comparator);function Un(){return cE}const i0=new Te(W.comparator);function Gi(...t){let e=i0;for(const n of t)e=e.insert(n.key,n);return e}function hE(t){let e=i0;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function rr(){return as()}function s0(){return as()}function as(){return new yi(t=>t.toString(),(t,e)=>t.isEqual(e))}const dE=new Fe(W.comparator);function te(...t){let e=dE;for(const n of t)e=e.add(n);return e}const fE=new Fe(ie);function pE(){return fE}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mE(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:gc(e)?"-0":e}}function gE(t){return{integerValue:""+t}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ra{constructor(){this._=void 0}}function yE(t,e,n){return t instanceof Cc?function(i,s){const l={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&Rh(s)&&(s=kh(s)),s&&(l.fields.__previous_value__=s),{mapValue:l}}(n,e):t instanceof kl?o0(t,e):t instanceof Nl?l0(t,e):function(i,s){const l=_E(i,s),a=Vp(l)+Vp(i.Pe);return vc(l)&&vc(i.Pe)?gE(a):mE(i.serializer,a)}(t,e)}function vE(t,e,n){return t instanceof kl?o0(t,e):t instanceof Nl?l0(t,e):n}function _E(t,e){return t instanceof xc?function(r){return vc(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}class Cc extends ra{}class kl extends ra{constructor(e){super(),this.elements=e}}function o0(t,e){const n=a0(e);for(const r of t.elements)n.some(i=>Bt(i,r))||n.push(r);return{arrayValue:{values:n}}}class Nl extends ra{constructor(e){super(),this.elements=e}}function l0(t,e){let n=a0(e);for(const r of t.elements)n=n.filter(i=>!Bt(i,r));return{arrayValue:{values:n}}}class xc extends ra{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function Vp(t){return Ce(t.integerValue||t.doubleValue)}function a0(t){return Nh(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function wE(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof kl&&i instanceof kl||r instanceof Nl&&i instanceof Nl?oi(r.elements,i.elements,Bt):r instanceof xc&&i instanceof xc?Bt(r.Pe,i.Pe):r instanceof Cc&&i instanceof Cc}(t.transform,e.transform)}class ar{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new ar}static exists(e){return new ar(void 0,e)}static updateTime(e){return new ar(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Ko(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Lh{}function u0(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new CE(t.key,ar.none()):new jh(t.key,t.data,ar.none());{const n=t.data,r=Mt.empty();let i=new Fe(tt.comparator);for(let s of e.fields)if(!i.has(s)){let l=n.field(s);l===null&&s.length>1&&(s=s.popLast(),l=n.field(s)),l===null?r.delete(s):r.set(s,l),i=i.add(s)}return new ia(t.key,r,new Cn(i.toArray()),ar.none())}}function EE(t,e,n){t instanceof jh?function(i,s,l){const a=i.value.clone(),u=Lp(i.fieldTransforms,s,l.transformResults);a.setAll(u),s.convertToFoundDocument(l.version,a).setHasCommittedMutations()}(t,e,n):t instanceof ia?function(i,s,l){if(!Ko(i.precondition,s))return void s.convertToUnknownDocument(l.version);const a=Lp(i.fieldTransforms,s,l.transformResults),u=s.data;u.setAll(c0(i)),u.setAll(a),s.convertToFoundDocument(l.version,u).setHasCommittedMutations()}(t,e,n):function(i,s,l){s.convertToNoDocument(l.version).setHasCommittedMutations()}(0,e,n)}function us(t,e,n,r){return t instanceof jh?function(s,l,a,u){if(!Ko(s.precondition,l))return a;const h=s.value.clone(),f=jp(s.fieldTransforms,u,l);return h.setAll(f),l.convertToFoundDocument(l.version,h).setHasLocalMutations(),null}(t,e,n,r):t instanceof ia?function(s,l,a,u){if(!Ko(s.precondition,l))return a;const h=jp(s.fieldTransforms,u,l),f=l.data;return f.setAll(c0(s)),f.setAll(h),l.convertToFoundDocument(l.version,f).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(g=>g.field))}(t,e,n,r):function(s,l,a){return Ko(s.precondition,l)?(l.convertToNoDocument(l.version).setHasLocalMutations(),null):a}(t,e,n)}function Dp(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&oi(r,i,(s,l)=>wE(s,l))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class jh extends Lh{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class ia extends Lh{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function c0(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function Lp(t,e,n){const r=new Map;Pe(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],l=s.transform,a=e.data.field(s.field);r.set(s.field,vE(l,a,n[i]))}return r}function jp(t,e,n){const r=new Map;for(const i of t){const s=i.transform,l=n.data.field(i.field);r.set(i.field,yE(s,l,e))}return r}class CE extends Lh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xE{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&EE(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=us(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=us(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=s0();return this.mutations.forEach(i=>{const s=e.get(i.key),l=s.overlayedDocument;let a=this.applyToLocalView(l,s.mutatedFields);a=n.has(i.key)?null:a;const u=u0(l,a);u!==null&&r.set(i.key,u),l.isValidDocument()||l.convertToNoDocument(K.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),te())}isEqual(e){return this.batchId===e.batchId&&oi(this.mutations,e.mutations,(n,r)=>Dp(n,r))&&oi(this.baseMutations,e.baseMutations,(n,r)=>Dp(n,r))}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TE{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SE{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Se,Z;function h0(t){if(t===void 0)return un("GRPC error has no .code"),b.UNKNOWN;switch(t){case Se.OK:return b.OK;case Se.CANCELLED:return b.CANCELLED;case Se.UNKNOWN:return b.UNKNOWN;case Se.DEADLINE_EXCEEDED:return b.DEADLINE_EXCEEDED;case Se.RESOURCE_EXHAUSTED:return b.RESOURCE_EXHAUSTED;case Se.INTERNAL:return b.INTERNAL;case Se.UNAVAILABLE:return b.UNAVAILABLE;case Se.UNAUTHENTICATED:return b.UNAUTHENTICATED;case Se.INVALID_ARGUMENT:return b.INVALID_ARGUMENT;case Se.NOT_FOUND:return b.NOT_FOUND;case Se.ALREADY_EXISTS:return b.ALREADY_EXISTS;case Se.PERMISSION_DENIED:return b.PERMISSION_DENIED;case Se.FAILED_PRECONDITION:return b.FAILED_PRECONDITION;case Se.ABORTED:return b.ABORTED;case Se.OUT_OF_RANGE:return b.OUT_OF_RANGE;case Se.UNIMPLEMENTED:return b.UNIMPLEMENTED;case Se.DATA_LOSS:return b.DATA_LOSS;default:return X()}}(Z=Se||(Se={}))[Z.OK=0]="OK",Z[Z.CANCELLED=1]="CANCELLED",Z[Z.UNKNOWN=2]="UNKNOWN",Z[Z.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Z[Z.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Z[Z.NOT_FOUND=5]="NOT_FOUND",Z[Z.ALREADY_EXISTS=6]="ALREADY_EXISTS",Z[Z.PERMISSION_DENIED=7]="PERMISSION_DENIED",Z[Z.UNAUTHENTICATED=16]="UNAUTHENTICATED",Z[Z.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Z[Z.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Z[Z.ABORTED=10]="ABORTED",Z[Z.OUT_OF_RANGE=11]="OUT_OF_RANGE",Z[Z.UNIMPLEMENTED=12]="UNIMPLEMENTED",Z[Z.INTERNAL=13]="INTERNAL",Z[Z.UNAVAILABLE=14]="UNAVAILABLE",Z[Z.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IE(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PE=new or([4294967295,4294967295],0);function Mp(t){const e=IE().encode(t),n=new B1;return n.update(e),new Uint8Array(n.digest())}function Op(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new or([n,r],0),new or([i,s],0)]}class Mh{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Xi(`Invalid padding: ${n}`);if(r<0)throw new Xi(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Xi(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Xi(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=or.fromNumber(this.Ie)}Ee(e,n,r){let i=e.add(n.multiply(or.fromNumber(r)));return i.compare(PE)===1&&(i=new or([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const n=Mp(e),[r,i]=Op(n);for(let s=0;s<this.hashCount;s++){const l=this.Ee(r,i,s);if(!this.de(l))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),l=new Mh(s,i,n);return r.forEach(a=>l.insert(a)),l}insert(e){if(this.Ie===0)return;const n=Mp(e),[r,i]=Op(n);for(let s=0;s<this.hashCount;s++){const l=this.Ee(r,i,s);this.Ae(l)}}Ae(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Xi extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sa{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,$s.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new sa(K.min(),i,new Te(ie),Un(),te())}}class $s{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new $s(r,n,te(),te(),te())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Go{constructor(e,n,r,i){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=i}}class d0{constructor(e,n){this.targetId=e,this.me=n}}class f0{constructor(e,n,r=Be.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class Fp{constructor(){this.fe=0,this.ge=Bp(),this.pe=Be.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=te(),n=te(),r=te();return this.ge.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:X()}}),new $s(this.pe,this.ye,e,n,r)}Ce(){this.we=!1,this.ge=Bp()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Pe(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class AE{constructor(e){this.Le=e,this.Be=new Map,this.ke=Un(),this.qe=Up(),this.Qe=new Te(ie)}Ke(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{const r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:X()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,i)=>{this.ze(i)&&n(i)})}He(e){const n=e.targetId,r=e.me.count,i=this.Je(n);if(i){const s=i.target;if(wc(s))if(r===0){const l=new W(s.path);this.Ue(n,l,Xe.newNoDocument(l,K.min()))}else Pe(r===1);else{const l=this.Ye(n);if(l!==r){const a=this.Ze(e),u=a?this.Xe(a,e,l):1;if(u!==0){this.je(n);const h=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,h)}}}}}Ze(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let l,a;try{l=mr(r).toUint8Array()}catch(u){if(u instanceof K1)return si("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{a=new Mh(l,i,s)}catch(u){return si(u instanceof Xi?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return a.Ie===0?null:a}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let i=0;return r.forEach(s=>{const l=this.Le.tt(),a=`projects/${l.projectId}/databases/${l.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.Ue(n,s,null),i++)}),i}rt(e){const n=new Map;this.Be.forEach((s,l)=>{const a=this.Je(l);if(a){if(s.current&&wc(a.target)){const u=new W(a.target.path);this.ke.get(u)!==null||this.it(l,u)||this.Ue(l,u,Xe.newNoDocument(u,e))}s.be&&(n.set(l,s.ve()),s.Ce())}});let r=te();this.qe.forEach((s,l)=>{let a=!0;l.forEachWhile(u=>{const h=this.Je(u);return!h||h.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(s))}),this.ke.forEach((s,l)=>l.setReadTime(e));const i=new sa(e,n,this.Qe,this.ke,r);return this.ke=Un(),this.qe=Up(),this.Qe=new Te(ie),i}$e(e,n){if(!this.ze(e))return;const r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;const i=this.Ge(e);this.it(e,n)?i.Fe(n,1):i.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){const n=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new Fp,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new Fe(ie),this.qe=this.qe.insert(e,n)),n}ze(e){const n=this.Je(e)!==null;return n||H("WatchChangeAggregator","Detected inactive target",e),n}Je(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new Fp),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function Up(){return new Te(W.comparator)}function Bp(){return new Te(W.comparator)}const RE={asc:"ASCENDING",desc:"DESCENDING"},kE={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},NE={and:"AND",or:"OR"};class VE{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Tc(t,e){return t.useProto3Json||Zl(e)?e:{value:e}}function DE(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function LE(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function Kr(t){return Pe(!!t),K.fromTimestamp(function(n){const r=Fn(n);return new ct(r.seconds,r.nanos)}(t))}function jE(t,e){return Sc(t,e).canonicalString()}function Sc(t,e){const n=function(i){return new _e(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function p0(t){const e=_e.fromString(t);return Pe(_0(e)),e}function cu(t,e){const n=p0(e);if(n.get(1)!==t.databaseId.projectId)throw new q(b.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new q(b.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new W(g0(n))}function m0(t,e){return jE(t.databaseId,e)}function ME(t){const e=p0(t);return e.length===4?_e.emptyPath():g0(e)}function bp(t){return new _e(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function g0(t){return Pe(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function OE(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(h){return h==="NO_CHANGE"?0:h==="ADD"?1:h==="REMOVE"?2:h==="CURRENT"?3:h==="RESET"?4:X()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(h,f){return h.useProto3Json?(Pe(f===void 0||typeof f=="string"),Be.fromBase64String(f||"")):(Pe(f===void 0||f instanceof Buffer||f instanceof Uint8Array),Be.fromUint8Array(f||new Uint8Array))}(t,e.targetChange.resumeToken),l=e.targetChange.cause,a=l&&function(h){const f=h.code===void 0?b.UNKNOWN:h0(h.code);return new q(f,h.message||"")}(l);n=new f0(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=cu(t,r.document.name),s=Kr(r.document.updateTime),l=r.document.createTime?Kr(r.document.createTime):K.min(),a=new Mt({mapValue:{fields:r.document.fields}}),u=Xe.newFoundDocument(i,s,l,a),h=r.targetIds||[],f=r.removedTargetIds||[];n=new Go(h,f,u.key,u)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=cu(t,r.document),s=r.readTime?Kr(r.readTime):K.min(),l=Xe.newNoDocument(i,s),a=r.removedTargetIds||[];n=new Go([],a,l.key,l)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=cu(t,r.document),s=r.removedTargetIds||[];n=new Go([],s,i,null)}else{if(!("filter"in e))return X();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,l=new SE(i,s),a=r.targetId;n=new d0(a,l)}}return n}function FE(t,e){return{documents:[m0(t,e.path)]}}function UE(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=m0(t,i);const s=function(h){if(h.length!==0)return v0(bt.create(h,"and"))}(e.filters);s&&(n.structuredQuery.where=s);const l=function(h){if(h.length!==0)return h.map(f=>function(v){return{field:Pr(v.field),direction:zE(v.dir)}}(f))}(e.orderBy);l&&(n.structuredQuery.orderBy=l);const a=Tc(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(h){return{before:h.inclusive,values:h.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(h){return{before:!h.inclusive,values:h.position}}(e.endAt)),{_t:n,parent:i}}function BE(t){let e=ME(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Pe(r===1);const f=n.from[0];f.allDescendants?i=f.collectionId:e=e.child(f.collectionId)}let s=[];n.where&&(s=function(g){const v=y0(g);return v instanceof bt&&Y1(v)?v.getFilters():[v]}(n.where));let l=[];n.orderBy&&(l=function(g){return g.map(v=>function(k){return new Rl(Ar(k.field),function(L){switch(L){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(k.direction))}(v))}(n.orderBy));let a=null;n.limit&&(a=function(g){let v;return v=typeof g=="object"?g.value:g,Zl(v)?null:v}(n.limit));let u=null;n.startAt&&(u=function(g){const v=!!g.before,P=g.values||[];return new Al(P,v)}(n.startAt));let h=null;return n.endAt&&(h=function(g){const v=!g.before,P=g.values||[];return new Al(P,v)}(n.endAt)),sE(e,i,l,s,a,"F",u,h)}function bE(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return X()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function y0(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Ar(n.unaryFilter.field);return Re.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Ar(n.unaryFilter.field);return Re.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=Ar(n.unaryFilter.field);return Re.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const l=Ar(n.unaryFilter.field);return Re.create(l,"!=",{nullValue:"NULL_VALUE"});default:return X()}}(t):t.fieldFilter!==void 0?function(n){return Re.create(Ar(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return X()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return bt.create(n.compositeFilter.filters.map(r=>y0(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return X()}}(n.compositeFilter.op))}(t):X()}function zE(t){return RE[t]}function $E(t){return kE[t]}function HE(t){return NE[t]}function Pr(t){return{fieldPath:t.canonicalString()}}function Ar(t){return tt.fromServerFormat(t.fieldPath)}function v0(t){return t instanceof Re?function(n){if(n.op==="=="){if(Pp(n.value))return{unaryFilter:{field:Pr(n.field),op:"IS_NAN"}};if(Ip(n.value))return{unaryFilter:{field:Pr(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Pp(n.value))return{unaryFilter:{field:Pr(n.field),op:"IS_NOT_NAN"}};if(Ip(n.value))return{unaryFilter:{field:Pr(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Pr(n.field),op:$E(n.op),value:n.value}}}(t):t instanceof bt?function(n){const r=n.getFilters().map(i=>v0(i));return r.length===1?r[0]:{compositeFilter:{op:HE(n.op),filters:r}}}(t):X()}function _0(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xn{constructor(e,n,r,i,s=K.min(),l=K.min(),a=Be.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=l,this.resumeToken=a,this.expectedCount=u}withSequenceNumber(e){return new xn(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new xn(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new xn(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new xn(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qE{constructor(e){this.ct=e}}function WE(t){const e=BE({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Ec(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QE{constructor(){this.un=new KE}addToCollectionParentIndex(e,n){return this.un.add(n),M.resolve()}getCollectionParents(e,n){return M.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return M.resolve()}deleteFieldIndex(e,n){return M.resolve()}deleteAllFieldIndexes(e){return M.resolve()}createTargetIndexes(e,n){return M.resolve()}getDocumentsMatchingTarget(e,n){return M.resolve(null)}getIndexType(e,n){return M.resolve(0)}getFieldIndexes(e,n){return M.resolve([])}getNextCollectionGroupToUpdate(e){return M.resolve(null)}getMinOffset(e,n){return M.resolve(On.min())}getMinOffsetFromCollectionGroup(e,n){return M.resolve(On.min())}updateCollectionGroup(e,n,r){return M.resolve()}updateIndexEntries(e,n){return M.resolve()}}class KE{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Fe(_e.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Fe(_e.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ui{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new ui(0)}static kn(){return new ui(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GE{constructor(){this.changes=new yi(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Xe.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?M.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XE{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YE{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&us(r.mutation,i,Cn.empty(),ct.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,te()).next(()=>r))}getLocalViewOfDocuments(e,n,r=te()){const i=rr();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let l=Gi();return s.forEach((a,u)=>{l=l.insert(a,u.overlayedDocument)}),l}))}getOverlayedDocuments(e,n){const r=rr();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,te()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((l,a)=>{n.set(l,a)})})}computeViews(e,n,r,i){let s=Un();const l=as(),a=function(){return as()}();return n.forEach((u,h)=>{const f=r.get(h.key);i.has(h.key)&&(f===void 0||f.mutation instanceof ia)?s=s.insert(h.key,h):f!==void 0?(l.set(h.key,f.mutation.getFieldMask()),us(f.mutation,h,f.mutation.getFieldMask(),ct.now())):l.set(h.key,Cn.empty())}),this.recalculateAndSaveOverlays(e,s).next(u=>(u.forEach((h,f)=>l.set(h,f)),n.forEach((h,f)=>{var g;return a.set(h,new XE(f,(g=l.get(h))!==null&&g!==void 0?g:null))}),a))}recalculateAndSaveOverlays(e,n){const r=as();let i=new Te((l,a)=>l-a),s=te();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(l=>{for(const a of l)a.keys().forEach(u=>{const h=n.get(u);if(h===null)return;let f=r.get(u)||Cn.empty();f=a.applyToLocalView(h,f),r.set(u,f);const g=(i.get(a.batchId)||te()).add(u);i=i.insert(a.batchId,g)})}).next(()=>{const l=[],a=i.getReverseIterator();for(;a.hasNext();){const u=a.getNext(),h=u.key,f=u.value,g=s0();f.forEach(v=>{if(!s.has(v)){const P=u0(n.get(v),r.get(v));P!==null&&g.set(v,P),s=s.add(v)}}),l.push(this.documentOverlayCache.saveOverlays(e,h,g))}return M.waitFor(l)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(l){return W.isDocumentKey(l.path)&&l.collectionGroup===null&&l.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):oE(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const l=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):M.resolve(rr());let a=-1,u=s;return l.next(h=>M.forEach(h,(f,g)=>(a<g.largestBatchId&&(a=g.largestBatchId),s.get(f)?M.resolve():this.remoteDocumentCache.getEntry(e,f).next(v=>{u=u.insert(f,v)}))).next(()=>this.populateOverlays(e,h,s)).next(()=>this.computeViews(e,u,h,te())).next(f=>({batchId:a,changes:hE(f)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new W(n)).next(r=>{let i=Gi();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let l=Gi();return this.indexManager.getCollectionParents(e,s).next(a=>M.forEach(a,u=>{const h=function(g,v){return new ea(v,null,g.explicitOrderBy.slice(),g.filters.slice(),g.limit,g.limitType,g.startAt,g.endAt)}(n,u.child(s));return this.getDocumentsMatchingCollectionQuery(e,h,r,i).next(f=>{f.forEach((g,v)=>{l=l.insert(g,v)})})}).next(()=>l))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(l=>(s=l,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(l=>{s.forEach((u,h)=>{const f=h.getKey();l.get(f)===null&&(l=l.insert(f,Xe.newInvalidDocument(f)))});let a=Gi();return l.forEach((u,h)=>{const f=s.get(u);f!==void 0&&us(f.mutation,h,Cn.empty(),ct.now()),na(n,h)&&(a=a.insert(u,h))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZE{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return M.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:Kr(i.createTime)}}(n)),M.resolve()}getNamedQuery(e,n){return M.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,function(i){return{name:i.name,query:WE(i.bundledQuery),readTime:Kr(i.readTime)}}(n)),M.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JE{constructor(){this.overlays=new Te(W.comparator),this.Ir=new Map}getOverlay(e,n){return M.resolve(this.overlays.get(n))}getOverlays(e,n){const r=rr();return M.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.ht(e,n,s)}),M.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.Ir.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.Ir.delete(r)),M.resolve()}getOverlaysForCollection(e,n,r){const i=rr(),s=n.length+1,l=new W(n.child("")),a=this.overlays.getIteratorFrom(l);for(;a.hasNext();){const u=a.getNext().value,h=u.getKey();if(!n.isPrefixOf(h.path))break;h.path.length===s&&u.largestBatchId>r&&i.set(u.getKey(),u)}return M.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new Te((h,f)=>h-f);const l=this.overlays.getIterator();for(;l.hasNext();){const h=l.getNext().value;if(h.getKey().getCollectionGroup()===n&&h.largestBatchId>r){let f=s.get(h.largestBatchId);f===null&&(f=rr(),s=s.insert(h.largestBatchId,f)),f.set(h.getKey(),h)}}const a=rr(),u=s.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((h,f)=>a.set(h,f)),!(a.size()>=i)););return M.resolve(a)}ht(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const l=this.Ir.get(i.largestBatchId).delete(r.key);this.Ir.set(i.largestBatchId,l)}this.overlays=this.overlays.insert(r.key,new TE(n,r));let s=this.Ir.get(n);s===void 0&&(s=te(),this.Ir.set(n,s)),this.Ir.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e4{constructor(){this.sessionToken=Be.EMPTY_BYTE_STRING}getSessionToken(e){return M.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,M.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oh{constructor(){this.Tr=new Fe(Ne.Er),this.dr=new Fe(Ne.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){const r=new Ne(e,n);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Vr(new Ne(e,n))}mr(e,n){e.forEach(r=>this.removeReference(r,n))}gr(e){const n=new W(new _e([])),r=new Ne(n,e),i=new Ne(n,e+1),s=[];return this.dr.forEachInRange([r,i],l=>{this.Vr(l),s.push(l.key)}),s}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const n=new W(new _e([])),r=new Ne(n,e),i=new Ne(n,e+1);let s=te();return this.dr.forEachInRange([r,i],l=>{s=s.add(l.key)}),s}containsKey(e){const n=new Ne(e,0),r=this.Tr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Ne{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return W.comparator(e.key,n.key)||ie(e.wr,n.wr)}static Ar(e,n){return ie(e.wr,n.wr)||W.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t4{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new Fe(Ne.Er)}checkEmpty(e){return M.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const l=new xE(s,n,r,i);this.mutationQueue.push(l);for(const a of i)this.br=this.br.add(new Ne(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return M.resolve(l)}lookupMutationBatch(e,n){return M.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.vr(r),s=i<0?0:i;return M.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return M.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return M.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Ne(n,0),i=new Ne(n,Number.POSITIVE_INFINITY),s=[];return this.br.forEachInRange([r,i],l=>{const a=this.Dr(l.wr);s.push(a)}),M.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Fe(ie);return n.forEach(i=>{const s=new Ne(i,0),l=new Ne(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([s,l],a=>{r=r.add(a.wr)})}),M.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;W.isDocumentKey(s)||(s=s.child(""));const l=new Ne(new W(s),0);let a=new Fe(ie);return this.br.forEachWhile(u=>{const h=u.key.path;return!!r.isPrefixOf(h)&&(h.length===i&&(a=a.add(u.wr)),!0)},l),M.resolve(this.Cr(a))}Cr(e){const n=[];return e.forEach(r=>{const i=this.Dr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){Pe(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return M.forEach(n.mutations,i=>{const s=new Ne(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,n){const r=new Ne(n,0),i=this.br.firstAfterOrEqual(r);return M.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,M.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n4{constructor(e){this.Mr=e,this.docs=function(){return new Te(W.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,l=this.Mr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:l}),this.size+=l-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return M.resolve(r?r.document.mutableCopy():Xe.newInvalidDocument(n))}getEntries(e,n){let r=Un();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():Xe.newInvalidDocument(i))}),M.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=Un();const l=n.path,a=new W(l.child("")),u=this.docs.getIteratorFrom(a);for(;u.hasNext();){const{key:h,value:{document:f}}=u.getNext();if(!l.isPrefixOf(h.path))break;h.path.length>l.length+1||B3(U3(f),r)<=0||(i.has(f.key)||na(n,f))&&(s=s.insert(f.key,f.mutableCopy()))}return M.resolve(s)}getAllFromCollectionGroup(e,n,r,i){X()}Or(e,n){return M.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new r4(this)}getSize(e){return M.resolve(this.size)}}class r4 extends GE{constructor(e){super(),this.cr=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.cr.addEntry(e,i)):this.cr.removeEntry(r)}),M.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i4{constructor(e){this.persistence=e,this.Nr=new yi(n=>Vh(n),Dh),this.lastRemoteSnapshotVersion=K.min(),this.highestTargetId=0,this.Lr=0,this.Br=new Oh,this.targetCount=0,this.kr=ui.Bn()}forEachTarget(e,n){return this.Nr.forEach((r,i)=>n(i)),M.resolve()}getLastRemoteSnapshotVersion(e){return M.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return M.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),M.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Lr&&(this.Lr=n),M.resolve()}Kn(e){this.Nr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.kr=new ui(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,M.resolve()}updateTargetData(e,n){return this.Kn(n),M.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,M.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.Nr.forEach((l,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Nr.delete(l),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),M.waitFor(s).next(()=>i)}getTargetCount(e){return M.resolve(this.targetCount)}getTargetData(e,n){const r=this.Nr.get(n)||null;return M.resolve(r)}addMatchingKeys(e,n,r){return this.Br.Rr(n,r),M.resolve()}removeMatchingKeys(e,n,r){this.Br.mr(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(l=>{s.push(i.markPotentiallyOrphaned(e,l))}),M.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),M.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Br.yr(n);return M.resolve(r)}containsKey(e,n){return M.resolve(this.Br.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s4{constructor(e,n){this.qr={},this.overlays={},this.Qr=new Ah(0),this.Kr=!1,this.Kr=!0,this.$r=new e4,this.referenceDelegate=e(this),this.Ur=new i4(this),this.indexManager=new QE,this.remoteDocumentCache=function(i){return new n4(i)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new qE(n),this.Gr=new ZE(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new JE,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.qr[e.toKey()];return r||(r=new t4(n,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,r){H("MemoryPersistence","Starting transaction:",e);const i=new o4(this.Qr.next());return this.referenceDelegate.zr(),r(i).next(s=>this.referenceDelegate.jr(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Hr(e,n){return M.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,n)))}}class o4 extends z3{constructor(e){super(),this.currentSequenceNumber=e}}class Fh{constructor(e){this.persistence=e,this.Jr=new Oh,this.Yr=null}static Zr(e){return new Fh(e)}get Xr(){if(this.Yr)return this.Yr;throw X()}addReference(e,n,r){return this.Jr.addReference(r,n),this.Xr.delete(r.toString()),M.resolve()}removeReference(e,n,r){return this.Jr.removeReference(r,n),this.Xr.add(r.toString()),M.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),M.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach(i=>this.Xr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Xr.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}zr(){this.Yr=new Set}jr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return M.forEach(this.Xr,r=>{const i=W.fromPath(r);return this.ei(e,i).next(s=>{s||n.removeEntry(i,K.min())})}).next(()=>(this.Yr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ei(e,n).next(r=>{r?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(e){return 0}ei(e,n){return M.or([()=>M.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uh{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.$i=r,this.Ui=i}static Wi(e,n){let r=te(),i=te();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new Uh(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l4{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a4{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return dw()?8:$3(cw())>0?6:4}()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.Yi(e,n).next(l=>{s.result=l}).next(()=>{if(!s.result)return this.Zi(e,n,i,r).next(l=>{s.result=l})}).next(()=>{if(s.result)return;const l=new l4;return this.Xi(e,n,l).next(a=>{if(s.result=a,this.zi)return this.es(e,n,l,a.size)})}).next(()=>s.result)}es(e,n,r,i){return r.documentReadCount<this.ji?($i()<=ee.DEBUG&&H("QueryEngine","SDK will not create cache indexes for query:",Ir(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),M.resolve()):($i()<=ee.DEBUG&&H("QueryEngine","Query:",Ir(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Hi*i?($i()<=ee.DEBUG&&H("QueryEngine","The SDK decides to create cache indexes for query:",Ir(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ut(n))):M.resolve())}Yi(e,n){if(Np(n))return M.resolve(null);let r=Ut(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=Ec(n,null,"F"),r=Ut(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const l=te(...s);return this.Ji.getDocuments(e,l).next(a=>this.indexManager.getMinOffset(e,r).next(u=>{const h=this.ts(n,a);return this.ns(n,h,l,u.readTime)?this.Yi(e,Ec(n,null,"F")):this.rs(e,h,n,u)}))})))}Zi(e,n,r,i){return Np(n)||i.isEqual(K.min())?M.resolve(null):this.Ji.getDocuments(e,r).next(s=>{const l=this.ts(n,s);return this.ns(n,l,r,i)?M.resolve(null):($i()<=ee.DEBUG&&H("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Ir(n)),this.rs(e,l,n,F3(i,-1)).next(a=>a))})}ts(e,n){let r=new Fe(r0(e));return n.forEach((i,s)=>{na(e,s)&&(r=r.add(s))}),r}ns(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Xi(e,n,r){return $i()<=ee.DEBUG&&H("QueryEngine","Using full collection scan to execute query:",Ir(n)),this.Ji.getDocumentsMatchingQuery(e,n,On.min(),r)}rs(e,n,r,i){return this.Ji.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(l=>{s=s.insert(l.key,l)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u4{constructor(e,n,r,i){this.persistence=e,this.ss=n,this.serializer=i,this.os=new Te(ie),this._s=new yi(s=>Vh(s),Dh),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new YE(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.os))}}function c4(t,e,n,r){return new u4(t,e,n,r)}async function w0(t,e){const n=J(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.ls(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const l=[],a=[];let u=te();for(const h of i){l.push(h.batchId);for(const f of h.mutations)u=u.add(f.key)}for(const h of s){a.push(h.batchId);for(const f of h.mutations)u=u.add(f.key)}return n.localDocuments.getDocuments(r,u).next(h=>({hs:h,removedBatchIds:l,addedBatchIds:a}))})})}function E0(t){const e=J(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ur.getLastRemoteSnapshotVersion(n))}function h4(t,e){const n=J(t),r=e.snapshotVersion;let i=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const l=n.cs.newChangeBuffer({trackRemovals:!0});i=n.os;const a=[];e.targetChanges.forEach((f,g)=>{const v=i.get(g);if(!v)return;a.push(n.Ur.removeMatchingKeys(s,f.removedDocuments,g).next(()=>n.Ur.addMatchingKeys(s,f.addedDocuments,g)));let P=v.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(g)!==null?P=P.withResumeToken(Be.EMPTY_BYTE_STRING,K.min()).withLastLimboFreeSnapshotVersion(K.min()):f.resumeToken.approximateByteSize()>0&&(P=P.withResumeToken(f.resumeToken,r)),i=i.insert(g,P),function(N,L,T){return N.resumeToken.approximateByteSize()===0||L.snapshotVersion.toMicroseconds()-N.snapshotVersion.toMicroseconds()>=3e8?!0:T.addedDocuments.size+T.modifiedDocuments.size+T.removedDocuments.size>0}(v,P,f)&&a.push(n.Ur.updateTargetData(s,P))});let u=Un(),h=te();if(e.documentUpdates.forEach(f=>{e.resolvedLimboDocuments.has(f)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,f))}),a.push(d4(s,l,e.documentUpdates).next(f=>{u=f.Ps,h=f.Is})),!r.isEqual(K.min())){const f=n.Ur.getLastRemoteSnapshotVersion(s).next(g=>n.Ur.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(f)}return M.waitFor(a).next(()=>l.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,u,h)).next(()=>u)}).then(s=>(n.os=i,s))}function d4(t,e,n){let r=te(),i=te();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let l=Un();return n.forEach((a,u)=>{const h=s.get(a);u.isFoundDocument()!==h.isFoundDocument()&&(i=i.add(a)),u.isNoDocument()&&u.version.isEqual(K.min())?(e.removeEntry(a,u.readTime),l=l.insert(a,u)):!h.isValidDocument()||u.version.compareTo(h.version)>0||u.version.compareTo(h.version)===0&&h.hasPendingWrites?(e.addEntry(u),l=l.insert(a,u)):H("LocalStore","Ignoring outdated watch update for ",a,". Current version:",h.version," Watch version:",u.version)}),{Ps:l,Is:i}})}function f4(t,e){const n=J(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Ur.getTargetData(r,e).next(s=>s?(i=s,M.resolve(i)):n.Ur.allocateTargetId(r).next(l=>(i=new xn(e,l,"TargetPurposeListen",r.currentSequenceNumber),n.Ur.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.os.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.os=n.os.insert(r.targetId,r),n._s.set(e,r.targetId)),r})}async function Ic(t,e,n){const r=J(t),i=r.os.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,l=>r.persistence.referenceDelegate.removeTarget(l,i))}catch(l){if(!zs(l))throw l;H("LocalStore",`Failed to update sequence numbers for target ${e}: ${l}`)}r.os=r.os.remove(e),r._s.delete(i.target)}function zp(t,e,n){const r=J(t);let i=K.min(),s=te();return r.persistence.runTransaction("Execute query","readwrite",l=>function(u,h,f){const g=J(u),v=g._s.get(f);return v!==void 0?M.resolve(g.os.get(v)):g.Ur.getTargetData(h,f)}(r,l,Ut(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(l,a.targetId).next(u=>{s=u})}).next(()=>r.ss.getDocumentsMatchingQuery(l,e,n?i:K.min(),n?s:te())).next(a=>(p4(r,aE(e),a),{documents:a,Ts:s})))}function p4(t,e,n){let r=t.us.get(e)||K.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.us.set(e,r)}class $p{constructor(){this.activeTargetIds=pE()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class m4{constructor(){this.so=new $p,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,r){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new $p,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g4{_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hp{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){H("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){H("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Do=null;function hu(){return Do===null?Do=function(){return 268435456+Math.round(2147483648*Math.random())}():Do++,"0x"+Do.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y4={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v4{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const We="WebChannelConnection";class _4 extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+n.host,this.vo=`projects/${i}/databases/${s}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get Fo(){return!1}Mo(n,r,i,s,l){const a=hu(),u=this.xo(n,r.toUriEncodedString());H("RestConnection",`Sending RPC '${n}' ${a}:`,u,i);const h={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(h,s,l),this.No(n,u,h,i).then(f=>(H("RestConnection",`Received RPC '${n}' ${a}: `,f),f),f=>{throw si("RestConnection",`RPC '${n}' ${a} failed with error: `,f,"url: ",u,"request:",i),f})}Lo(n,r,i,s,l,a){return this.Mo(n,r,i,s,l)}Oo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+gi}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,l)=>n[l]=s),i&&i.headers.forEach((s,l)=>n[l]=s)}xo(n,r){const i=y4[n];return`${this.Do}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,r,i){const s=hu();return new Promise((l,a)=>{const u=new b1;u.setWithCredentials(!0),u.listenOnce($1.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case Qo.NO_ERROR:const f=u.getResponseJson();H(We,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(f)),l(f);break;case Qo.TIMEOUT:H(We,`RPC '${e}' ${s} timed out`),a(new q(b.DEADLINE_EXCEEDED,"Request time out"));break;case Qo.HTTP_ERROR:const g=u.getStatus();if(H(We,`RPC '${e}' ${s} failed with status:`,g,"response text:",u.getResponseText()),g>0){let v=u.getResponseJson();Array.isArray(v)&&(v=v[0]);const P=v==null?void 0:v.error;if(P&&P.status&&P.message){const k=function(L){const T=L.toLowerCase().replace(/_/g,"-");return Object.values(b).indexOf(T)>=0?T:b.UNKNOWN}(P.status);a(new q(k,P.message))}else a(new q(b.UNKNOWN,"Server responded with status "+u.getStatus()))}else a(new q(b.UNAVAILABLE,"Connection failed."));break;default:X()}}finally{H(We,`RPC '${e}' ${s} completed.`)}});const h=JSON.stringify(i);H(We,`RPC '${e}' ${s} sending request:`,i),u.send(n,"POST",h,r,15)})}Bo(e,n,r){const i=hu(),s=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],l=W1(),a=q1(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},h=this.longPollingOptions.timeoutSeconds;h!==void 0&&(u.longPollingTimeout=Math.round(1e3*h)),this.useFetchStreams&&(u.xmlHttpFactory=new z1({})),this.Oo(u.initMessageHeaders,n,r),u.encodeInitMessageHeaders=!0;const f=s.join("");H(We,`Creating RPC '${e}' stream ${i}: ${f}`,u);const g=l.createWebChannel(f,u);let v=!1,P=!1;const k=new v4({Io:L=>{P?H(We,`Not sending because RPC '${e}' stream ${i} is closed:`,L):(v||(H(We,`Opening RPC '${e}' stream ${i} transport.`),g.open(),v=!0),H(We,`RPC '${e}' stream ${i} sending:`,L),g.send(L))},To:()=>g.close()}),N=(L,T,_)=>{L.listen(T,S=>{try{_(S)}catch(D){setTimeout(()=>{throw D},0)}})};return N(g,Ki.EventType.OPEN,()=>{P||(H(We,`RPC '${e}' stream ${i} transport opened.`),k.yo())}),N(g,Ki.EventType.CLOSE,()=>{P||(P=!0,H(We,`RPC '${e}' stream ${i} transport closed`),k.So())}),N(g,Ki.EventType.ERROR,L=>{P||(P=!0,si(We,`RPC '${e}' stream ${i} transport errored:`,L),k.So(new q(b.UNAVAILABLE,"The operation could not be completed")))}),N(g,Ki.EventType.MESSAGE,L=>{var T;if(!P){const _=L.data[0];Pe(!!_);const S=_,D=S.error||((T=S[0])===null||T===void 0?void 0:T.error);if(D){H(We,`RPC '${e}' stream ${i} received error:`,D);const F=D.status;let B=function(w){const C=Se[w];if(C!==void 0)return h0(C)}(F),E=D.message;B===void 0&&(B=b.INTERNAL,E="Unknown error status: "+F+" with message "+D.message),P=!0,k.So(new q(B,E)),g.close()}else H(We,`RPC '${e}' stream ${i} received:`,_),k.bo(_)}}),N(a,H1.STAT_EVENT,L=>{L.stat===mc.PROXY?H(We,`RPC '${e}' stream ${i} detected buffering proxy`):L.stat===mc.NOPROXY&&H(We,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{k.wo()},0),k}}function du(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C0(t){return new VE(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x0{constructor(e,n,r=1e3,i=1.5,s=6e4){this.ui=e,this.timerId=n,this.ko=r,this.qo=i,this.Qo=s,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const n=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),i=Math.max(0,n-r);i>0&&H("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w4{constructor(e,n,r,i,s,l,a,u){this.ui=e,this.Ho=r,this.Jo=i,this.connection=s,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=a,this.listener=u,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new x0(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,n){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===b.RESOURCE_EXHAUSTED?(un(n.toString()),un("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===b.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(n)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Yo===n&&this.P_(r,i)},r=>{e(()=>{const i=new q(b.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(i)})})}P_(e,n){const r=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(i=>{r(()=>this.I_(i))}),this.stream.onMessage(i=>{r(()=>++this.e_==1?this.E_(i):this.onNext(i))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(e){return H("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget(()=>this.Yo===e?n():(H("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class E4 extends w4{constructor(e,n,r,i,s,l){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,l),this.serializer=s}T_(e,n){return this.connection.Bo("Listen",e,n)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const n=OE(this.serializer,e),r=function(s){if(!("targetChange"in s))return K.min();const l=s.targetChange;return l.targetIds&&l.targetIds.length?K.min():l.readTime?Kr(l.readTime):K.min()}(e);return this.listener.d_(n,r)}A_(e){const n={};n.database=bp(this.serializer),n.addTarget=function(s,l){let a;const u=l.target;if(a=wc(u)?{documents:FE(s,u)}:{query:UE(s,u)._t},a.targetId=l.targetId,l.resumeToken.approximateByteSize()>0){a.resumeToken=LE(s,l.resumeToken);const h=Tc(s,l.expectedCount);h!==null&&(a.expectedCount=h)}else if(l.snapshotVersion.compareTo(K.min())>0){a.readTime=DE(s,l.snapshotVersion.toTimestamp());const h=Tc(s,l.expectedCount);h!==null&&(a.expectedCount=h)}return a}(this.serializer,e);const r=bE(this.serializer,e);r&&(n.labels=r),this.a_(n)}R_(e){const n={};n.database=bp(this.serializer),n.removeTarget=e,this.a_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C4 extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new q(b.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,r,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,l])=>this.connection.Mo(e,Sc(n,r),i,s,l)).catch(s=>{throw s.name==="FirebaseError"?(s.code===b.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new q(b.UNKNOWN,s.toString())})}Lo(e,n,r,i,s){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,a])=>this.connection.Lo(e,Sc(n,r),i,l,a,s)).catch(l=>{throw l.name==="FirebaseError"?(l.code===b.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new q(b.UNKNOWN,l.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class x4{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(un(n),this.D_=!1):H("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T4{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=s,this.k_._o(l=>{r.enqueueAndForget(async()=>{qs(this)&&(H("RemoteStore","Restarting streams for network reachability change."),await async function(u){const h=J(u);h.L_.add(4),await Hs(h),h.q_.set("Unknown"),h.L_.delete(4),await oa(h)}(this))})}),this.q_=new x4(r,i)}}async function oa(t){if(qs(t))for(const e of t.B_)await e(!0)}async function Hs(t){for(const e of t.B_)await e(!1)}function T0(t,e){const n=J(t);n.N_.has(e.targetId)||(n.N_.set(e.targetId,e),$h(n)?zh(n):vi(n).r_()&&bh(n,e))}function Bh(t,e){const n=J(t),r=vi(n);n.N_.delete(e),r.r_()&&S0(n,e),n.N_.size===0&&(r.r_()?r.o_():qs(n)&&n.q_.set("Unknown"))}function bh(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(K.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}vi(t).A_(e)}function S0(t,e){t.Q_.xe(e),vi(t).R_(e)}function zh(t){t.Q_=new AE({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),vi(t).start(),t.q_.v_()}function $h(t){return qs(t)&&!vi(t).n_()&&t.N_.size>0}function qs(t){return J(t).L_.size===0}function I0(t){t.Q_=void 0}async function S4(t){t.q_.set("Online")}async function I4(t){t.N_.forEach((e,n)=>{bh(t,e)})}async function P4(t,e){I0(t),$h(t)?(t.q_.M_(e),zh(t)):t.q_.set("Unknown")}async function A4(t,e,n){if(t.q_.set("Online"),e instanceof f0&&e.state===2&&e.cause)try{await async function(i,s){const l=s.cause;for(const a of s.targetIds)i.N_.has(a)&&(await i.remoteSyncer.rejectListen(a,l),i.N_.delete(a),i.Q_.removeTarget(a))}(t,e)}catch(r){H("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await qp(t,r)}else if(e instanceof Go?t.Q_.Ke(e):e instanceof d0?t.Q_.He(e):t.Q_.We(e),!n.isEqual(K.min()))try{const r=await E0(t.localStore);n.compareTo(r)>=0&&await function(s,l){const a=s.Q_.rt(l);return a.targetChanges.forEach((u,h)=>{if(u.resumeToken.approximateByteSize()>0){const f=s.N_.get(h);f&&s.N_.set(h,f.withResumeToken(u.resumeToken,l))}}),a.targetMismatches.forEach((u,h)=>{const f=s.N_.get(u);if(!f)return;s.N_.set(u,f.withResumeToken(Be.EMPTY_BYTE_STRING,f.snapshotVersion)),S0(s,u);const g=new xn(f.target,u,h,f.sequenceNumber);bh(s,g)}),s.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){H("RemoteStore","Failed to raise snapshot:",r),await qp(t,r)}}async function qp(t,e,n){if(!zs(e))throw e;t.L_.add(1),await Hs(t),t.q_.set("Offline"),n||(n=()=>E0(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{H("RemoteStore","Retrying IndexedDB access"),await n(),t.L_.delete(1),await oa(t)})}async function Wp(t,e){const n=J(t);n.asyncQueue.verifyOperationInProgress(),H("RemoteStore","RemoteStore received new credentials");const r=qs(n);n.L_.add(3),await Hs(n),r&&n.q_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),await oa(n)}async function R4(t,e){const n=J(t);e?(n.L_.delete(2),await oa(n)):e||(n.L_.add(2),await Hs(n),n.q_.set("Unknown"))}function vi(t){return t.K_||(t.K_=function(n,r,i){const s=J(n);return s.w_(),new E4(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Eo:S4.bind(null,t),Ro:I4.bind(null,t),mo:P4.bind(null,t),d_:A4.bind(null,t)}),t.B_.push(async e=>{e?(t.K_.s_(),$h(t)?zh(t):t.q_.set("Unknown")):(await t.K_.stop(),I0(t))})),t.K_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hh{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new lr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(l=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const l=Date.now()+r,a=new Hh(e,n,l,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new q(b.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function P0(t,e){if(un("AsyncQueue",`${e}: ${t}`),zs(t))return new q(b.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gr{constructor(e){this.comparator=e?(n,r)=>e(n,r)||W.comparator(n.key,r.key):(n,r)=>W.comparator(n.key,r.key),this.keyedMap=Gi(),this.sortedSet=new Te(this.comparator)}static emptySet(e){return new Gr(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Gr)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Gr;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qp{constructor(){this.W_=new Te(W.comparator)}track(e){const n=e.doc.key,r=this.W_.get(n);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(n,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(n):e.type===1&&r.type===2?this.W_=this.W_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):X():this.W_=this.W_.insert(n,e)}G_(){const e=[];return this.W_.inorderTraversal((n,r)=>{e.push(r)}),e}}class ci{constructor(e,n,r,i,s,l,a,u,h){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=l,this.syncStateChanged=a,this.excludesMetadataChanges=u,this.hasCachedResults=h}static fromInitialDocuments(e,n,r,i,s){const l=[];return n.forEach(a=>{l.push({type:0,doc:a})}),new ci(e,n,Gr.emptySet(n),l,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&ta(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k4{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class N4{constructor(){this.queries=Kp(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,r){const i=J(n),s=i.queries;i.queries=Kp(),s.forEach((l,a)=>{for(const u of a.j_)u.onError(r)})})(this,new q(b.ABORTED,"Firestore shutting down"))}}function Kp(){return new yi(t=>n0(t),ta)}async function V4(t,e){const n=J(t);let r=3;const i=e.query;let s=n.queries.get(i);s?!s.H_()&&e.J_()&&(r=2):(s=new k4,r=e.J_()?0:1);try{switch(r){case 0:s.z_=await n.onListen(i,!0);break;case 1:s.z_=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(l){const a=P0(l,`Initialization of query '${Ir(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,s),s.j_.push(e),e.Z_(n.onlineState),s.z_&&e.X_(s.z_)&&qh(n)}async function D4(t,e){const n=J(t),r=e.query;let i=3;const s=n.queries.get(r);if(s){const l=s.j_.indexOf(e);l>=0&&(s.j_.splice(l,1),s.j_.length===0?i=e.J_()?0:1:!s.H_()&&e.J_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function L4(t,e){const n=J(t);let r=!1;for(const i of e){const s=i.query,l=n.queries.get(s);if(l){for(const a of l.j_)a.X_(i)&&(r=!0);l.z_=i}}r&&qh(n)}function j4(t,e,n){const r=J(t),i=r.queries.get(e);if(i)for(const s of i.j_)s.onError(n);r.queries.delete(e)}function qh(t){t.Y_.forEach(e=>{e.next()})}var Pc,Gp;(Gp=Pc||(Pc={})).ea="default",Gp.Cache="cache";class M4{constructor(e,n,r){this.query=e,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new ci(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.na?this.ia(e)&&(this.ta.next(e),n=!0):this.sa(e,this.onlineState)&&(this.oa(e),n=!0),this.ra=e,n}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),n=!0),n}sa(e,n){if(!e.fromCache||!this.J_())return!0;const r=n!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const n=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(e){e=ci.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==Pc.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A0{constructor(e){this.key=e}}class R0{constructor(e){this.key=e}}class O4{constructor(e,n){this.query=e,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=te(),this.mutatedKeys=te(),this.Aa=r0(e),this.Ra=new Gr(this.Aa)}get Va(){return this.Ta}ma(e,n){const r=n?n.fa:new Qp,i=n?n.Ra:this.Ra;let s=n?n.mutatedKeys:this.mutatedKeys,l=i,a=!1;const u=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,h=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((f,g)=>{const v=i.get(f),P=na(this.query,g)?g:null,k=!!v&&this.mutatedKeys.has(v.key),N=!!P&&(P.hasLocalMutations||this.mutatedKeys.has(P.key)&&P.hasCommittedMutations);let L=!1;v&&P?v.data.isEqual(P.data)?k!==N&&(r.track({type:3,doc:P}),L=!0):this.ga(v,P)||(r.track({type:2,doc:P}),L=!0,(u&&this.Aa(P,u)>0||h&&this.Aa(P,h)<0)&&(a=!0)):!v&&P?(r.track({type:0,doc:P}),L=!0):v&&!P&&(r.track({type:1,doc:v}),L=!0,(u||h)&&(a=!0)),L&&(P?(l=l.add(P),s=N?s.add(f):s.delete(f)):(l=l.delete(f),s=s.delete(f)))}),this.query.limit!==null)for(;l.size>this.query.limit;){const f=this.query.limitType==="F"?l.last():l.first();l=l.delete(f.key),s=s.delete(f.key),r.track({type:1,doc:f})}return{Ra:l,fa:r,ns:a,mutatedKeys:s}}ga(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const s=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const l=e.fa.G_();l.sort((f,g)=>function(P,k){const N=L=>{switch(L){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return X()}};return N(P)-N(k)}(f.type,g.type)||this.Aa(f.doc,g.doc)),this.pa(r),i=i!=null&&i;const a=n&&!i?this.ya():[],u=this.da.size===0&&this.current&&!i?1:0,h=u!==this.Ea;return this.Ea=u,l.length!==0||h?{snapshot:new ci(this.query,e.Ra,s,l,e.mutatedKeys,u===0,h,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:a}:{wa:a}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new Qp,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(n=>this.Ta=this.Ta.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ta=this.Ta.delete(n)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=te(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});const n=[];return e.forEach(r=>{this.da.has(r)||n.push(new R0(r))}),this.da.forEach(r=>{e.has(r)||n.push(new A0(r))}),n}ba(e){this.Ta=e.Ts,this.da=te();const n=this.ma(e.documents);return this.applyChanges(n,!0)}Da(){return ci.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class F4{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class U4{constructor(e){this.key=e,this.va=!1}}class B4{constructor(e,n,r,i,s,l){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=l,this.Ca={},this.Fa=new yi(a=>n0(a),ta),this.Ma=new Map,this.xa=new Set,this.Oa=new Te(W.comparator),this.Na=new Map,this.La=new Oh,this.Ba={},this.ka=new Map,this.qa=ui.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function b4(t,e,n=!0){const r=L0(t);let i;const s=r.Fa.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.Da()):i=await k0(r,e,n,!0),i}async function z4(t,e){const n=L0(t);await k0(n,e,!0,!1)}async function k0(t,e,n,r){const i=await f4(t.localStore,Ut(e)),s=i.targetId,l=t.sharedClientState.addLocalQueryTarget(s,n);let a;return r&&(a=await $4(t,e,s,l==="current",i.resumeToken)),t.isPrimaryClient&&n&&T0(t.remoteStore,i),a}async function $4(t,e,n,r,i){t.Ka=(g,v,P)=>async function(N,L,T,_){let S=L.view.ma(T);S.ns&&(S=await zp(N.localStore,L.query,!1).then(({documents:E})=>L.view.ma(E,S)));const D=_&&_.targetChanges.get(L.targetId),F=_&&_.targetMismatches.get(L.targetId)!=null,B=L.view.applyChanges(S,N.isPrimaryClient,D,F);return Yp(N,L.targetId,B.wa),B.snapshot}(t,g,v,P);const s=await zp(t.localStore,e,!0),l=new O4(e,s.Ts),a=l.ma(s.documents),u=$s.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),h=l.applyChanges(a,t.isPrimaryClient,u);Yp(t,n,h.wa);const f=new F4(e,n,l);return t.Fa.set(e,f),t.Ma.has(n)?t.Ma.get(n).push(e):t.Ma.set(n,[e]),h.snapshot}async function H4(t,e,n){const r=J(t),i=r.Fa.get(e),s=r.Ma.get(i.targetId);if(s.length>1)return r.Ma.set(i.targetId,s.filter(l=>!ta(l,e))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await Ic(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&Bh(r.remoteStore,i.targetId),Ac(r,i.targetId)}).catch(Ph)):(Ac(r,i.targetId),await Ic(r.localStore,i.targetId,!0))}async function q4(t,e){const n=J(t),r=n.Fa.get(e),i=n.Ma.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Bh(n.remoteStore,r.targetId))}async function N0(t,e){const n=J(t);try{const r=await h4(n.localStore,e);e.targetChanges.forEach((i,s)=>{const l=n.Na.get(s);l&&(Pe(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?l.va=!0:i.modifiedDocuments.size>0?Pe(l.va):i.removedDocuments.size>0&&(Pe(l.va),l.va=!1))}),await D0(n,r,e)}catch(r){await Ph(r)}}function Xp(t,e,n){const r=J(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Fa.forEach((s,l)=>{const a=l.view.Z_(e);a.snapshot&&i.push(a.snapshot)}),function(l,a){const u=J(l);u.onlineState=a;let h=!1;u.queries.forEach((f,g)=>{for(const v of g.j_)v.Z_(a)&&(h=!0)}),h&&qh(u)}(r.eventManager,e),i.length&&r.Ca.d_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function W4(t,e,n){const r=J(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Na.get(e),s=i&&i.key;if(s){let l=new Te(W.comparator);l=l.insert(s,Xe.newNoDocument(s,K.min()));const a=te().add(s),u=new sa(K.min(),new Map,new Te(ie),l,a);await N0(r,u),r.Oa=r.Oa.remove(s),r.Na.delete(e),Wh(r)}else await Ic(r.localStore,e,!1).then(()=>Ac(r,e,n)).catch(Ph)}function Ac(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Ma.get(e))t.Fa.delete(r),n&&t.Ca.$a(r,n);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(r=>{t.La.containsKey(r)||V0(t,r)})}function V0(t,e){t.xa.delete(e.path.canonicalString());const n=t.Oa.get(e);n!==null&&(Bh(t.remoteStore,n),t.Oa=t.Oa.remove(e),t.Na.delete(n),Wh(t))}function Yp(t,e,n){for(const r of n)r instanceof A0?(t.La.addReference(r.key,e),Q4(t,r)):r instanceof R0?(H("SyncEngine","Document no longer in limbo: "+r.key),t.La.removeReference(r.key,e),t.La.containsKey(r.key)||V0(t,r.key)):X()}function Q4(t,e){const n=e.key,r=n.path.canonicalString();t.Oa.get(n)||t.xa.has(r)||(H("SyncEngine","New document in limbo: "+n),t.xa.add(r),Wh(t))}function Wh(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){const e=t.xa.values().next().value;t.xa.delete(e);const n=new W(_e.fromString(e)),r=t.qa.next();t.Na.set(r,new U4(n)),t.Oa=t.Oa.insert(n,r),T0(t.remoteStore,new xn(Ut(t0(n.path)),r,"TargetPurposeLimboResolution",Ah.oe))}}async function D0(t,e,n){const r=J(t),i=[],s=[],l=[];r.Fa.isEmpty()||(r.Fa.forEach((a,u)=>{l.push(r.Ka(u,e,n).then(h=>{var f;if((h||n)&&r.isPrimaryClient){const g=h?!h.fromCache:(f=n==null?void 0:n.targetChanges.get(u.targetId))===null||f===void 0?void 0:f.current;r.sharedClientState.updateQueryState(u.targetId,g?"current":"not-current")}if(h){i.push(h);const g=Uh.Wi(u.targetId,h);s.push(g)}}))}),await Promise.all(l),r.Ca.d_(i),await async function(u,h){const f=J(u);try{await f.persistence.runTransaction("notifyLocalViewChanges","readwrite",g=>M.forEach(h,v=>M.forEach(v.$i,P=>f.persistence.referenceDelegate.addReference(g,v.targetId,P)).next(()=>M.forEach(v.Ui,P=>f.persistence.referenceDelegate.removeReference(g,v.targetId,P)))))}catch(g){if(!zs(g))throw g;H("LocalStore","Failed to update sequence numbers: "+g)}for(const g of h){const v=g.targetId;if(!g.fromCache){const P=f.os.get(v),k=P.snapshotVersion,N=P.withLastLimboFreeSnapshotVersion(k);f.os=f.os.insert(v,N)}}}(r.localStore,s))}async function K4(t,e){const n=J(t);if(!n.currentUser.isEqual(e)){H("SyncEngine","User change. New user:",e.toKey());const r=await w0(n.localStore,e);n.currentUser=e,function(s,l){s.ka.forEach(a=>{a.forEach(u=>{u.reject(new q(b.CANCELLED,l))})}),s.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await D0(n,r.hs)}}function G4(t,e){const n=J(t),r=n.Na.get(e);if(r&&r.va)return te().add(r.key);{let i=te();const s=n.Ma.get(e);if(!s)return i;for(const l of s){const a=n.Fa.get(l);i=i.unionWith(a.view.Va)}return i}}function L0(t){const e=J(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=N0.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=G4.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=W4.bind(null,e),e.Ca.d_=L4.bind(null,e.eventManager),e.Ca.$a=j4.bind(null,e.eventManager),e}class Zp{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=C0(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return c4(this.persistence,new a4,e.initialUser,this.serializer)}createPersistence(e){return new s4(Fh.Zr,this.serializer)}createSharedClientState(e){return new m4}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class X4{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>Xp(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=K4.bind(null,this.syncEngine),await R4(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new N4}()}createDatastore(e){const n=C0(e.databaseInfo.databaseId),r=function(s){return new _4(s)}(e.databaseInfo);return function(s,l,a,u){return new C4(s,l,a,u)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,l,a){return new T4(r,i,s,l,a)}(this.localStore,this.datastore,e.asyncQueue,n=>Xp(this.syncEngine,n,0),function(){return Hp.D()?new Hp:new g4}())}createSyncEngine(e,n){return function(i,s,l,a,u,h,f){const g=new B4(i,s,l,a,u,h);return f&&(g.Qa=!0),g}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const s=J(i);H("RemoteStore","RemoteStore shutting down."),s.L_.add(5),await Hs(s),s.k_.shutdown(),s.q_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y4{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ga(this.observer.next,e)}error(e){this.observer.error?this.Ga(this.observer.error,e):un("Uncaught Error in snapshot listener:",e.toString())}za(){this.muted=!0}Ga(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z4{constructor(e,n,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Qe.UNAUTHENTICATED,this.clientId=M3.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async s=>{H("FirestoreClient","Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(H("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new q(b.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new lr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=P0(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function fu(t,e){t.asyncQueue.verifyOperationInProgress(),H("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await w0(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function Jp(t,e){t.asyncQueue.verifyOperationInProgress();const n=await e9(t);H("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>Wp(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>Wp(e.remoteStore,i)),t._onlineComponents=e}function J4(t){return t.name==="FirebaseError"?t.code===b.FAILED_PRECONDITION||t.code===b.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}async function e9(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){H("FirestoreClient","Using user provided OfflineComponentProvider");try{await fu(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!J4(n))throw n;si("Error using user provided cache. Falling back to memory cache: "+n),await fu(t,new Zp)}}else H("FirestoreClient","Using default OfflineComponentProvider"),await fu(t,new Zp);return t._offlineComponents}async function t9(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(H("FirestoreClient","Using user provided OnlineComponentProvider"),await Jp(t,t._uninitializedComponentsProvider._online)):(H("FirestoreClient","Using default OnlineComponentProvider"),await Jp(t,new X4))),t._onlineComponents}async function n9(t){const e=await t9(t),n=e.eventManager;return n.onListen=b4.bind(null,e.syncEngine),n.onUnlisten=H4.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=z4.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=q4.bind(null,e.syncEngine),n}function r9(t,e,n={}){const r=new lr;return t.asyncQueue.enqueueAndForget(async()=>function(s,l,a,u,h){const f=new Y4({next:v=>{l.enqueueAndForget(()=>D4(s,g)),v.fromCache&&u.source==="server"?h.reject(new q(b.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):h.resolve(v)},error:v=>h.reject(v)}),g=new M4(a,f,{includeMetadataChanges:!0,_a:!0});return V4(s,g)}(await n9(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j0(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const em=new Map;function i9(t,e,n,r){if(e===!0&&r===!0)throw new q(b.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function tm(t){if(W.isDocumentKey(t))throw new q(b.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function s9(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":X()}function Rc(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new q(b.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=s9(t);throw new q(b.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nm{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new q(b.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new q(b.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}i9("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=j0((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new q(b.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new q(b.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new q(b.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Qh{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new nm({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new q(b.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new q(b.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new nm(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new A3;switch(r.type){case"firstParty":return new V3(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new q(b.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=em.get(n);r&&(H("ComponentProvider","Removing Datastore"),em.delete(n),r.terminate())}(this),Promise.resolve()}}function o9(t,e,n,r={}){var i;const s=(t=Rc(t,Qh))._getSettings(),l=`${e}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==l&&si("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:l,ssl:!1})),r.mockUserToken){let a,u;if(typeof r.mockUserToken=="string")a=r.mockUserToken,u=Qe.MOCK_USER;else{a=uw(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const h=r.mockUserToken.sub||r.mockUserToken.user_id;if(!h)throw new q(b.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new Qe(h)}t._authCredentials=new R3(new Q1(a,u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class la{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new la(this.firestore,e,this._query)}}class _i{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Xr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new _i(this.firestore,e,this._key)}}class Xr extends la{constructor(e,n,r){super(e,n,t0(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new _i(this.firestore,null,new W(e))}withConverter(e){return new Xr(this.firestore,e,this._path)}}function l9(t,e,...n){if(t=vw(t),t instanceof Qh){const r=_e.fromString(e,...n);return tm(r),new Xr(t,null,r)}{if(!(t instanceof _i||t instanceof Xr))throw new q(b.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(_e.fromString(e,...n));return tm(r),new Xr(t.firestore,null,r)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a9{constructor(){this.au=Promise.resolve(),this.uu=[],this.cu=!1,this.lu=[],this.hu=null,this.Pu=!1,this.Iu=!1,this.Tu=[],this.t_=new x0(this,"async_queue_retry"),this.Eu=()=>{const n=du();n&&H("AsyncQueue","Visibility state changed to "+n.visibilityState),this.t_.jo()};const e=du();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.Eu)}get isShuttingDown(){return this.cu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.du(),this.Au(e)}enterRestrictedMode(e){if(!this.cu){this.cu=!0,this.Iu=e||!1;const n=du();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Eu)}}enqueue(e){if(this.du(),this.cu)return new Promise(()=>{});const n=new lr;return this.Au(()=>this.cu&&this.Iu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.uu.push(e),this.Ru()))}async Ru(){if(this.uu.length!==0){try{await this.uu[0](),this.uu.shift(),this.t_.reset()}catch(e){if(!zs(e))throw e;H("AsyncQueue","Operation failed with retryable error: "+e)}this.uu.length>0&&this.t_.Go(()=>this.Ru())}}Au(e){const n=this.au.then(()=>(this.Pu=!0,e().catch(r=>{this.hu=r,this.Pu=!1;const i=function(l){let a=l.message||"";return l.stack&&(a=l.stack.includes(l.message)?l.stack:l.message+`
`+l.stack),a}(r);throw un("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.Pu=!1,r))));return this.au=n,n}enqueueAfterDelay(e,n,r){this.du(),this.Tu.indexOf(e)>-1&&(n=0);const i=Hh.createAndSchedule(this,e,n,r,s=>this.Vu(s));return this.lu.push(i),i}du(){this.hu&&X()}verifyOperationInProgress(){}async mu(){let e;do e=this.au,await e;while(e!==this.au)}fu(e){for(const n of this.lu)if(n.timerId===e)return!0;return!1}gu(e){return this.mu().then(()=>{this.lu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.lu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.mu()})}pu(e){this.Tu.push(e)}Vu(e){const n=this.lu.indexOf(e);this.lu.splice(n,1)}}class M0 extends Qh{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=function(){return new a9}(),this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||O0(this),this._firestoreClient.terminate()}}function u9(t,e){const n=typeof t=="object"?t:v3(),r=typeof t=="string"?t:"(default)",i=p3(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=lw("firestore");s&&o9(i,...s)}return i}function c9(t){return t._firestoreClient||O0(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function O0(t){var e,n,r;const i=t._freezeSettings(),s=function(a,u,h,f){return new W3(a,u,h,f.host,f.ssl,f.experimentalForceLongPolling,f.experimentalAutoDetectLongPolling,j0(f.experimentalLongPollingOptions),f.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._firestoreClient=new Z4(t._authCredentials,t._appCheckCredentials,t._queue,s),!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vl{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Vl(Be.fromBase64String(e))}catch(n){throw new q(b.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Vl(Be.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F0{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new q(b.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new tt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h9{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new q(b.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new q(b.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ie(this._lat,e._lat)||ie(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d9{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0}(this._values,e._values)}}const f9=new RegExp("[~\\*/\\[\\]]");function p9(t,e,n){if(e.search(f9)>=0)throw rm(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t);try{return new F0(...e.split("."))._internalPath}catch{throw rm(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t)}}function rm(t,e,n,r,i){let s=`Function ${e}() called with invalid data`;s+=". ";let l="";return new q(b.INVALID_ARGUMENT,s+t+l)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U0{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new _i(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new m9(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(B0("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class m9 extends U0{data(){return super.data()}}function B0(t,e){return typeof e=="string"?p9(t,e):e instanceof F0?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g9(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new q(b.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class y9{convertValue(e,n="none"){switch(gr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ce(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(mr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw X()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Jl(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertVectorValue(e){var n,r,i;const s=(i=(r=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(l=>Ce(l.doubleValue));return new d9(s)}convertGeoPoint(e){return new h9(Ce(e.latitude),Ce(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=kh(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Vs(e));default:return null}}convertTimestamp(e){const n=Fn(e);return new ct(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=_e.fromString(e);Pe(_0(r));const i=new Ds(r.get(1),r.get(3)),s=new W(r.popFirst(5));return i.isEqual(n)||un(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lo{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class v9 extends U0{constructor(e,n,r,i,s,l){super(e,n,r,i,l),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Xo(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(B0("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class Xo extends v9{data(e={}){return super.data(e)}}class _9{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Lo(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Xo(this._firestore,this._userDataWriter,r.key,r,new Lo(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new q(b.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let l=0;return i._snapshot.docChanges.map(a=>{const u=new Xo(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Lo(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:u,oldIndex:-1,newIndex:l++}})}{let l=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>s||a.type!==3).map(a=>{const u=new Xo(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Lo(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let h=-1,f=-1;return a.type!==0&&(h=l.indexOf(a.doc.key),l=l.delete(a.doc.key)),a.type!==1&&(l=l.add(a.doc),f=l.indexOf(a.doc.key)),{type:w9(a.type),doc:u,oldIndex:h,newIndex:f}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function w9(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return X()}}class E9 extends y9{constructor(e){super(),this.firestore=e}convertBytes(e){return new Vl(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new _i(this.firestore,null,n)}}function C9(t){t=Rc(t,la);const e=Rc(t.firestore,M0),n=c9(e),r=new E9(e);return g9(t._query),r9(n,t._query).then(i=>new _9(e,r,t,i))}(function(e,n=!0){(function(i){gi=i})(y3),Pl(new Rs("firestore",(r,{instanceIdentifier:i,options:s})=>{const l=r.getProvider("app").getImmediate(),a=new M0(new k3(r.getProvider("auth-internal")),new L3(r.getProvider("app-check-internal")),function(h,f){if(!Object.prototype.hasOwnProperty.apply(h.options,["projectId"]))throw new q(b.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ds(h.options.projectId,f)}(l,i),l);return s=Object.assign({useFetchStreams:n},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),Qr(Ep,"4.7.2",e),Qr(Ep,"4.7.2","esm2017")})();var x9="firebase",T9="10.13.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Qr(x9,T9,"app");const S9={apiKey:"AIzaSyAADa3ahM22S1Puu9gUG4KlciEGYyyGF0o",authDomain:"ferreya-e293d.firebaseapp.com",projectId:"ferreya-e293d",storageBucket:"ferreya-e293d.appspot.com",messagingSenderId:"600427048185",appId:"1:600427048185:web:baf65163dda56b5d770628"},I9=O1(S9),P9=u9(I9),b0=j.createContext(),A9=({children:t})=>{const[e,n]=j.useState([]);return j.useEffect(()=>{const r=l9(P9,"productos");C9(r).then(i=>{i&&n(i==null?void 0:i.docs.map(s=>({id:s==null?void 0:s.id,...s==null?void 0:s.data()})))}).catch(i=>console.error("Error fetching firebase data: ",i))},[]),p.jsx(b0.Provider,{value:{data:e},children:t})},$t=j.createContext(),R9=({children:t})=>{const[e,n]=j.useState(!1),[r,i]=j.useState([]),[s,l]=j.useState(0);j.useEffect(()=>{l(r.length)},[r]);const a=u=>{const h=r.filter(f=>f.name!==u);i(h)};return p.jsx($t.Provider,{value:{productInShoppingCart:r,setProductInShoppingCart:i,showShoppingCart:e,setShowShoppingCart:n,quantityProducts:s,deleteProductCart:a},children:t})},k9=({quantity:t})=>{const e=j.useContext($t);return p.jsxs("section",{className:"relative p-[6px]",onClick:()=>e.setShowShoppingCart(!e.showShoppingCart),children:[p.jsx("span",{className:"absolute bottom-sm left-sm w-fit h-fit px-[6px] py-[2px] flex justify-center items-center text-blanco rounded-[100%] font-bold bg-primario-100",children:t}),p.jsx("svg",{className:"hover:cursor-pointer hover:opacity-80",width:"25",height:"26",viewBox:"0 0 25 26",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:p.jsx("path",{d:"M7.52307 25.5C6.83557 25.5 6.24724 25.2554 5.75807 24.7662C5.2689 24.2771 5.0239 23.6883 5.02307 23C5.02224 22.3116 5.26724 21.7233 5.75807 21.235C6.2489 20.7466 6.83724 20.5016 7.52307 20.5C8.2089 20.4983 8.79765 20.7433 9.28932 21.235C9.78099 21.7266 10.0256 22.315 10.0231 23C10.0206 23.685 9.77599 24.2737 9.28932 24.7662C8.80265 25.2587 8.2139 25.5033 7.52307 25.5ZM20.0231 25.5C19.3356 25.5 18.7472 25.2554 18.2581 24.7662C17.7689 24.2771 17.5239 23.6883 17.5231 23C17.5222 22.3116 17.7672 21.7233 18.2581 21.235C18.7489 20.7466 19.3372 20.5016 20.0231 20.5C20.7089 20.4983 21.2977 20.7433 21.7893 21.235C22.281 21.7266 22.5256 22.315 22.5231 23C22.5206 23.685 22.276 24.2737 21.7893 24.7662C21.3027 25.2587 20.7139 25.5033 20.0231 25.5ZM5.27307 2.99998H23.7106C24.1897 2.99998 24.5543 3.21373 24.8043 3.64123C25.0543 4.06873 25.0647 4.50082 24.8356 4.93748L20.3981 12.9375C20.1689 13.3541 19.8618 13.6771 19.4768 13.9062C19.0918 14.1354 18.6697 14.25 18.2106 14.25H8.89807L7.52307 16.75H22.5231V19.25H7.52307C6.58557 19.25 5.87724 18.8387 5.39807 18.0162C4.9189 17.1937 4.89807 16.3758 5.33557 15.5625L7.02307 12.5L2.52307 2.99998H0.0230713V0.499983H4.08557L5.27307 2.99998Z",fill:"#113096"})})]})},N9=()=>{const t=j.useContext($t);return p.jsxs("section",{className:"flex justify-between items-start",children:[p.jsx(Ke,{to:"/",children:p.jsx("h1",{children:p.jsxs("svg",{className:"hover:cursor-pointer",width:"140",height:"39",viewBox:"0 0 140 39",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[p.jsx("path",{d:"M3.2 31V15.8H0.6V11H3.2V3H14.6V7.8H8.8V11H13.4V15.8H8.8V31H3.2ZM26.4141 31.6C20.2141 31.6 15.4141 26.8 15.4141 20.8C15.4141 14.8 20.2141 10 26.4141 10C32.8141 10 37.2141 14.84 37.2141 20.8V22H21.2141C21.6141 24.6 23.8141 26.8 26.4141 26.8C30.0141 26.8 31.0141 24.4 31.0141 24.4H37.0141C37.0141 24.4 35.2141 31.6 26.4141 31.6ZM21.4141 18.6H31.2141C30.8141 16.6 29.0141 14.8 26.4141 14.8C23.8141 14.8 22.0141 16.6 21.4141 18.6ZM40.5984 31V10.6H46.1984V13.6H46.3984C46.3984 13.6 47.5984 10.2 51.5984 10.2H53.9984V15.6H50.9984C47.9984 15.6 46.1984 17.4 46.1984 20.2V31H40.5984ZM56.8094 31V10.6H62.4094V13.6H62.6094C62.6094 13.6 63.8094 10.2 67.8094 10.2H70.2094V15.6H67.2094C64.2094 15.6 62.4094 17.4 62.4094 20.2V31H56.8094ZM82.8203 31.6C76.6203 31.6 71.8203 26.8 71.8203 20.8C71.8203 14.8 76.6203 10 82.8203 10C89.2203 10 93.6203 14.84 93.6203 20.8V22H77.6203C78.0203 24.6 80.2203 26.8 82.8203 26.8C86.4203 26.8 87.4203 24.4 87.4203 24.4H93.4203C93.4203 24.4 91.6203 31.6 82.8203 31.6ZM77.8203 18.6H87.6203C87.2203 16.6 85.4203 14.8 82.8203 14.8C80.2203 14.8 78.4203 16.6 77.8203 18.6Z",fill:"#154CFF"}),p.jsx("path",{d:"M102.805 38.6L105.005 31H100.605L95.2047 10.6H101.005L105.005 26.2H106.605L111.005 10.6H116.805L108.605 38.6H102.805ZM127.397 31.6C122.197 31.6 117.997 27.4 117.997 20.8C117.997 14.2 122.197 10 127.397 10C131.797 10 133.797 13.2 133.797 13.2H133.997V10.6H139.597V31H133.997V28.4H133.797C133.797 28.4 131.797 31.6 127.397 31.6ZM128.797 26.8C131.797 26.8 133.997 24.6 133.997 20.8C133.997 17 131.797 14.8 128.797 14.8C125.997 14.8 123.797 17 123.797 20.8C123.797 24.6 125.997 26.8 128.797 26.8ZM127.397 6.4L130.397 0.399998H136.397V0.439998L131.597 6.4H127.397Z",fill:"#113096"})]})})}),p.jsxs("section",{className:"flex gap-lg",children:[p.jsx("section",{className:"flex gap-2xs items-center",children:p.jsxs("div",{className:"flex gap-2xs text-base",children:[p.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"22",viewBox:"0 0 18 22",fill:"none",children:[p.jsx("g",{"clip-path":"url(#clip0_226_1794)",children:p.jsx("path",{d:"M2.5999 22C1.9949 22 1.47717 21.7848 1.0467 21.3543C0.616235 20.9238 0.400636 20.4057 0.399902 19.8V6.6C0.399902 5.995 0.615502 5.47727 1.0467 5.0468C1.4779 4.61633 1.99564 4.40073 2.5999 4.4H4.7999C4.7999 3.19 5.23074 2.15417 6.0924 1.2925C6.95407 0.430833 7.9899 0 9.1999 0C10.4099 0 11.4457 0.430833 12.3074 1.2925C13.1691 2.15417 13.5999 3.19 13.5999 4.4H15.7999C16.4049 4.4 16.923 4.6156 17.3542 5.0468C17.7854 5.478 18.0006 5.99573 17.9999 6.6V19.8C17.9999 20.405 17.7847 20.9231 17.3542 21.3543C16.9237 21.7855 16.4056 22.0007 15.7999 22H2.5999ZM2.5999 19.8H15.7999V6.6H13.5999V8.8C13.5999 9.11167 13.4943 9.3731 13.2831 9.5843C13.0719 9.7955 12.8108 9.90073 12.4999 9.9C12.189 9.89927 11.9279 9.79367 11.7167 9.5832C11.5055 9.37273 11.3999 9.11167 11.3999 8.8V6.6H6.9999V8.8C6.9999 9.11167 6.8943 9.3731 6.6831 9.5843C6.4719 9.7955 6.21084 9.90073 5.8999 9.9C5.58897 9.89927 5.3279 9.79367 5.1167 9.5832C4.9055 9.37273 4.7999 9.11167 4.7999 8.8V6.6H2.5999V19.8ZM6.9999 4.4H11.3999C11.3999 3.795 11.1847 3.27727 10.7542 2.8468C10.3237 2.41633 9.80563 2.20073 9.1999 2.2C8.59417 2.19927 8.07644 2.41487 7.6467 2.8468C7.21697 3.27873 7.00137 3.79647 6.9999 4.4Z",fill:"#113096"})}),p.jsx("defs",{children:p.jsx("clipPath",{id:"clip0_226_1794",children:p.jsx("rect",{width:"17.6",height:"22",fill:"white",transform:"translate(0.399902)"})})})]}),p.jsx(Ke,{to:"/miorden",children:p.jsx("span",{className:"hover:underline hover:cursor-pointer font-bold text-ferre_blue300",children:"Mi orden"})})]})}),p.jsx(k9,{quantity:t.quantityProducts})]})]})},V9=()=>p.jsxs("section",{className:"absolute mt-xl bottom-0 w-screen h-[147px] px-[138px] flex flex-col py-md bg-primario-300",children:[p.jsxs("section",{className:"flex justify-between items-center",children:[p.jsx("div",{children:p.jsx(Ke,{to:"/",children:p.jsx("h2",{children:p.jsx("svg",{className:"hover:cursor-pointer",width:"112",height:"31",viewBox:"0 0 112 31",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:p.jsx("path",{d:"M2.56 24.5V12.34H0.48V8.5H2.56V2.1H11.68V5.94H7.04V8.5H10.72V12.34H7.04V24.5H2.56ZM21.1313 24.98C16.1713 24.98 12.3313 21.14 12.3313 16.34C12.3313 11.54 16.1713 7.7 21.1313 7.7C26.2513 7.7 29.7713 11.572 29.7713 16.34V17.3H16.9713C17.2913 19.38 19.0513 21.14 21.1313 21.14C24.0113 21.14 24.8113 19.22 24.8113 19.22H29.6112C29.6112 19.22 28.1713 24.98 21.1313 24.98ZM17.1313 14.58H24.9713C24.6513 12.98 23.2113 11.54 21.1313 11.54C19.0513 11.54 17.6113 12.98 17.1313 14.58ZM32.4788 24.5V8.18H36.9588V10.58H37.1188C37.1188 10.58 38.0788 7.86 41.2788 7.86H43.1988V12.18H40.7988C38.3988 12.18 36.9588 13.62 36.9588 15.86V24.5H32.4788ZM45.4475 24.5V8.18H49.9275V10.58H50.0875C50.0875 10.58 51.0475 7.86 54.2475 7.86H56.1675V12.18H53.7675C51.3675 12.18 49.9275 13.62 49.9275 15.86V24.5H45.4475ZM66.2563 24.98C61.2963 24.98 57.4563 21.14 57.4563 16.34C57.4563 11.54 61.2963 7.7 66.2563 7.7C71.3763 7.7 74.8963 11.572 74.8963 16.34V17.3H62.0963C62.4163 19.38 64.1763 21.14 66.2563 21.14C69.1363 21.14 69.9363 19.22 69.9363 19.22H74.7362C74.7362 19.22 73.2963 24.98 66.2563 24.98ZM62.2563 14.58H70.0963C69.7763 12.98 68.3363 11.54 66.2563 11.54C64.1763 11.54 62.7363 12.98 62.2563 14.58ZM82.2438 30.58L84.0038 24.5H80.4838L76.1638 8.18H80.8038L84.0038 20.66H85.2838L88.8038 8.18H93.4438L86.8838 30.58H82.2438ZM101.918 24.98C97.7575 24.98 94.3975 21.62 94.3975 16.34C94.3975 11.06 97.7575 7.7 101.918 7.7C105.438 7.7 107.038 10.26 107.038 10.26H107.198V8.18H111.678V24.5H107.198V22.42H107.038C107.038 22.42 105.438 24.98 101.918 24.98ZM103.038 21.14C105.438 21.14 107.198 19.38 107.198 16.34C107.198 13.3 105.438 11.54 103.038 11.54C100.798 11.54 99.0375 13.3 99.0375 16.34C99.0375 19.38 100.798 21.14 103.038 21.14ZM101.918 4.82L104.318 0.0199986H109.118V0.0519981L105.278 4.82H101.918Z",fill:"#5266A8"})})})})}),p.jsx("div",{children:p.jsxs("ul",{className:"flex gap-sm flex-wrap text-primario-20 text-base font-normal",children:[p.jsx(Ke,{to:"/",children:p.jsx("li",{className:"hover:underline hover:cursor-pointer",children:"Inicio"})}),p.jsx(Ke,{to:"/construccion",children:p.jsx("li",{className:"hover:underline hover:cursor-pointer",children:"Construcción"})}),p.jsx(Ke,{to:"/herramientas",children:p.jsx("li",{className:"hover:underline hover:cursor-pointer",children:"Herramientas"})}),p.jsxs(Ke,{to:"/herreria",children:[" ",p.jsx("li",{className:"hover:underline hover:cursor-pointer",children:"Herrería"})]}),p.jsxs(Ke,{to:"/plomeria",children:[" ",p.jsx("li",{className:"hover:underline hover:cursor-pointer",children:"Plomería"})]}),p.jsxs(Ke,{to:"/pintura",children:[" ",p.jsx("li",{className:"hover:underline hover:cursor-pointer",children:"Pintura"})]})]})}),p.jsxs("section",{className:"flex flex-col gap-xs",children:[p.jsxs("section",{className:"flex flex-col gap-3xs",children:[p.jsxs("div",{className:"flex gap-xs items-center",children:[p.jsx("svg",{width:"12",height:"13",viewBox:"0 0 12 13",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:p.jsx("path",{d:"M11.3 12.5C9.91111 12.5 8.53889 12.1973 7.18333 11.592C5.82778 10.9867 4.59444 10.1282 3.48333 9.01667C2.37222 7.90511 1.514 6.67178 0.908667 5.31667C0.303333 3.96156 0.000444444 2.58933 0 1.2C0 1 0.0666666 0.833333 0.2 0.7C0.333333 0.566667 0.5 0.5 0.7 0.5H3.4C3.55556 0.5 3.69444 0.552889 3.81667 0.658667C3.93889 0.764444 4.01111 0.889333 4.03333 1.03333L4.46667 3.36667C4.48889 3.54444 4.48333 3.69444 4.45 3.81667C4.41667 3.93889 4.35556 4.04444 4.26667 4.13333L2.65 5.76667C2.87222 6.17778 3.136 6.57489 3.44133 6.958C3.74667 7.34111 4.08289 7.71067 4.45 8.06667C4.79444 8.41111 5.15556 8.73067 5.53333 9.02533C5.91111 9.32 6.31111 9.58933 6.73333 9.83333L8.3 8.26667C8.4 8.16667 8.53067 8.09178 8.692 8.042C8.85333 7.99222 9.01156 7.97822 9.16667 8L11.4667 8.46667C11.6222 8.51111 11.75 8.59178 11.85 8.70867C11.95 8.82556 12 8.956 12 9.1V11.8C12 12 11.9333 12.1667 11.8 12.3C11.6667 12.4333 11.5 12.5 11.3 12.5Z",fill:"#CED7F4"})}),p.jsx("p",{className:"text-primario-20 text-sm",children:"809-555-5555"})]}),p.jsxs("div",{className:"flex gap-xs items-center",children:[p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"11",viewBox:"0 0 14 11",fill:"none",children:p.jsx("path",{d:"M1.66667 10.8333C1.3 10.8333 0.986225 10.7028 0.725336 10.442C0.464447 10.1811 0.33378 9.86707 0.333336 9.49996V1.49996C0.333336 1.13329 0.464003 0.819515 0.725336 0.558626C0.986669 0.297737 1.30045 0.16707 1.66667 0.166626H12.3333C12.7 0.166626 13.014 0.297293 13.2753 0.558626C13.5367 0.819959 13.6671 1.13374 13.6667 1.49996V9.49996C13.6667 9.86663 13.5362 10.1806 13.2753 10.442C13.0144 10.7033 12.7004 10.8337 12.3333 10.8333H1.66667ZM7 6.16663L1.66667 2.83329V9.49996H12.3333V2.83329L7 6.16663ZM7 4.83329L12.3333 1.49996H1.66667L7 4.83329ZM1.66667 2.83329V1.49996V9.49996V2.83329Z",fill:"#CED7F4"})}),p.jsx("p",{className:"text-primario-20 text-sm",children:"contacto@ferreya.com"})]})]}),p.jsxs("div",{className:"flex gap-xs",children:[p.jsx("svg",{className:"hover:opacity-70 hover:cursor-pointer",width:"20",height:"21",viewBox:"0 0 20 21",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:p.jsx("path",{d:"M5.8 0.5H14.2C17.4 0.5 20 3.1 20 6.3V14.7C20 16.2383 19.3889 17.7135 18.3012 18.8012C17.2135 19.8889 15.7383 20.5 14.2 20.5H5.8C2.6 20.5 0 17.9 0 14.7V6.3C0 4.76174 0.61107 3.28649 1.69878 2.19878C2.78649 1.11107 4.26174 0.5 5.8 0.5ZM5.6 2.5C4.64522 2.5 3.72955 2.87928 3.05442 3.55442C2.37928 4.22955 2 5.14522 2 6.1V14.9C2 16.89 3.61 18.5 5.6 18.5H14.4C15.3548 18.5 16.2705 18.1207 16.9456 17.4456C17.6207 16.7705 18 15.8548 18 14.9V6.1C18 4.11 16.39 2.5 14.4 2.5H5.6ZM15.25 4C15.5815 4 15.8995 4.1317 16.1339 4.36612C16.3683 4.60054 16.5 4.91848 16.5 5.25C16.5 5.58152 16.3683 5.89946 16.1339 6.13388C15.8995 6.3683 15.5815 6.5 15.25 6.5C14.9185 6.5 14.6005 6.3683 14.3661 6.13388C14.1317 5.89946 14 5.58152 14 5.25C14 4.91848 14.1317 4.60054 14.3661 4.36612C14.6005 4.1317 14.9185 4 15.25 4ZM10 5.5C11.3261 5.5 12.5979 6.02678 13.5355 6.96447C14.4732 7.90215 15 9.17392 15 10.5C15 11.8261 14.4732 13.0979 13.5355 14.0355C12.5979 14.9732 11.3261 15.5 10 15.5C8.67392 15.5 7.40215 14.9732 6.46447 14.0355C5.52678 13.0979 5 11.8261 5 10.5C5 9.17392 5.52678 7.90215 6.46447 6.96447C7.40215 6.02678 8.67392 5.5 10 5.5ZM10 7.5C9.20435 7.5 8.44129 7.81607 7.87868 8.37868C7.31607 8.94129 7 9.70435 7 10.5C7 11.2956 7.31607 12.0587 7.87868 12.6213C8.44129 13.1839 9.20435 13.5 10 13.5C10.7956 13.5 11.5587 13.1839 12.1213 12.6213C12.6839 12.0587 13 11.2956 13 10.5C13 9.70435 12.6839 8.94129 12.1213 8.37868C11.5587 7.81607 10.7956 7.5 10 7.5Z",fill:"#CED7F4"})}),p.jsx("svg",{className:"hover:opacity-70 hover:cursor-pointer",width:"20",height:"21",viewBox:"0 0 20 21",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:p.jsx("path",{d:"M2.5625 0.875C1.98375 0.879575 1.43001 1.11151 1.02076 1.52076C0.611513 1.93001 0.379575 2.48375 0.375 3.0625V17.9375C0.375 19.1336 1.36638 20.125 2.5625 20.125H17.4375C18.6336 20.125 19.625 19.1336 19.625 17.9375V3.0625C19.625 1.86638 18.6336 0.875 17.4375 0.875H2.5625ZM2.5625 2.625H17.4375C17.6869 2.625 17.875 2.81313 17.875 3.0625V17.9375C17.8762 17.9953 17.8657 18.0527 17.8441 18.1063C17.8226 18.1599 17.7904 18.2086 17.7495 18.2495C17.7086 18.2904 17.6599 18.3226 17.6063 18.3441C17.5527 18.3657 17.4953 18.3762 17.4375 18.375H2.5625C2.50472 18.3762 2.44729 18.3657 2.39368 18.3441C2.34006 18.3226 2.29135 18.2904 2.25049 18.2495C2.20962 18.2086 2.17744 18.1599 2.15587 18.1063C2.13431 18.0527 2.12381 17.9953 2.125 17.9375V3.0625C2.125 2.81313 2.31313 2.625 2.5625 2.625ZM5.13325 4.12912C4.93273 4.12429 4.73327 4.1596 4.5466 4.233C4.35993 4.30639 4.18983 4.41638 4.0463 4.55649C3.90277 4.6966 3.78871 4.864 3.71084 5.04884C3.63297 5.23368 3.59285 5.43223 3.59285 5.63281C3.59285 5.83339 3.63297 6.03194 3.71084 6.21679C3.78871 6.40163 3.90277 6.56903 4.0463 6.70914C4.18983 6.84925 4.35993 6.95923 4.5466 7.03263C4.73327 7.10602 4.93273 7.14134 5.13325 7.1365C5.52577 7.12703 5.89903 6.96445 6.1733 6.68349C6.44757 6.40252 6.6011 6.02545 6.6011 5.63281C6.6011 5.24018 6.44757 4.8631 6.1733 4.58214C5.89903 4.30118 5.52577 4.13859 5.13325 4.12912ZM13.0345 8.12088C11.7806 8.12088 10.9467 8.80775 10.602 9.4605H10.5469V8.3125H8.0855V16.625H10.6562V12.523C10.6562 11.4398 10.8715 10.3906 12.2146 10.3906C13.5376 10.3906 13.5551 11.6139 13.5551 12.5781V16.625H16.125V12.0584C16.125 9.82363 15.649 8.12088 13.0345 8.12088ZM3.875 8.3125V16.625H6.47287V8.3125H3.875Z",fill:"#CED7F4"})}),p.jsx("svg",{className:"hover:opacity-70 hover:cursor-pointer",width:"20",height:"21",viewBox:"0 0 20 21",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:p.jsx("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M2 10.5C2.00014 8.96045 2.44451 7.45364 3.27979 6.16038C4.11506 4.86712 5.30576 3.84234 6.70901 3.20901C8.11225 2.57568 9.66844 2.3607 11.1908 2.58987C12.7132 2.81904 14.1372 3.48262 15.2918 4.50099C16.4464 5.51936 17.2826 6.84926 17.7002 8.33111C18.1177 9.81296 18.0988 11.3838 17.6457 12.8552C17.1926 14.3265 16.3246 15.6359 15.1458 16.6262C13.967 17.6165 12.5275 18.2456 11 18.438V12.5H13C13.2652 12.5 13.5196 12.3946 13.7071 12.2071C13.8946 12.0196 14 11.7652 14 11.5C14 11.2348 13.8946 10.9804 13.7071 10.7929C13.5196 10.6054 13.2652 10.5 13 10.5H11V8.5C11 8.23478 11.1054 7.98043 11.2929 7.79289C11.4804 7.60536 11.7348 7.5 12 7.5H12.5C12.7652 7.5 13.0196 7.39464 13.2071 7.20711C13.3946 7.01957 13.5 6.76522 13.5 6.5C13.5 6.23478 13.3946 5.98043 13.2071 5.79289C13.0196 5.60536 12.7652 5.5 12.5 5.5H12C11.2044 5.5 10.4413 5.81607 9.87868 6.37868C9.31607 6.94129 9 7.70435 9 8.5V10.5H7C6.73478 10.5 6.48043 10.6054 6.29289 10.7929C6.10536 10.9804 6 11.2348 6 11.5C6 11.7652 6.10536 12.0196 6.29289 12.2071C6.48043 12.3946 6.73478 12.5 7 12.5H9V18.438C7.06661 18.1944 5.28861 17.2535 3.99975 15.792C2.7109 14.3304 1.99982 12.4487 2 10.5ZM10 20.5C15.523 20.5 20 16.023 20 10.5C20 4.977 15.523 0.5 10 0.5C4.477 0.5 0 4.977 0 10.5C0 16.023 4.477 20.5 10 20.5Z",fill:"#CED7F4"})})]})]})]}),p.jsx("section",{children:p.jsx("p",{className:"text-xs text-primario-20 font-light",children:"© 2024 AEX. Todos los derechos reservados."})})]}),Hn=({children:t})=>p.jsxs("div",{className:"w-screen h-screen flex flex-col",children:[p.jsx("header",{className:"mt-[8.9rem] mx-[13.8rem] flex flex-col gap-4xl",children:p.jsx(N9,{})}),p.jsx("main",{className:"flex-grow mt-3xl mx-[13.8rem] flex flex-col gap-4xl",children:t}),p.jsx("footer",{children:p.jsx(V9,{})})]}),im=({children:t,title:e})=>p.jsxs("section",{className:"mb-lg",children:[p.jsx("h2",{className:"mb-xs text-xl font-bold text-primario-300",children:e}),p.jsx("div",{className:"w-full h-full flex gap-3xs",children:t})]}),Sr=({children:t,active:e})=>p.jsx("button",{className:`${e?"px-xs text-base font-bold text-ferre_blue200 border-b-2":"px-xs text-base font-bold text-ferre_blue300 hover:text-ferre_blue400 hover:border-b-2 active:text-ferre_yellow"}`,children:t}),qn=({inicio:t,construccion:e,herramientas:n,herreria:r,plomeria:i,pintura:s})=>p.jsxs("ul",{className:"w-full h-lg flex gap-md justify-between",children:[p.jsx("li",{children:p.jsx(Ke,{to:"/",children:p.jsx(Sr,{active:t,children:"Inicio"})})}),p.jsx("li",{children:p.jsx(Ke,{to:"/construccion",children:p.jsx(Sr,{active:e,children:"Construcción"})})}),p.jsx("li",{children:p.jsx(Ke,{to:"/herramientas",children:p.jsx(Sr,{active:n,children:"Herramientas"})})}),p.jsx("li",{children:p.jsx(Ke,{to:"/herreria",children:p.jsx(Sr,{active:r,children:"Herrería"})})}),p.jsx("li",{children:p.jsx(Ke,{to:"/plomeria",children:p.jsx(Sr,{active:i,children:"Plomería"})})}),p.jsx("li",{children:p.jsx(Ke,{to:"/pintura",children:p.jsx(Sr,{active:s,children:"Pintura"})})})]}),Ws=j.createContext(),D9=({children:t})=>{const[e,n]=j.useState(!1),[r,i]=j.useState({}),s=()=>n(!0),l=()=>n(!1);return p.jsx(Ws.Provider,{value:{isProductDetailOpen:e,openProductDetail:s,closeProductDetail:l,productToShow:r,setProductToShow:i},children:t})},zt=t=>"DOP$ "+t.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2}),aa=({quantity:t,subtractQuantity:e,addQuantity:n})=>p.jsxs("div",{className:"w-fit h-auto flex gap-4xs justify-center items-center",children:[p.jsx("button",{onClick:e,className:"w-[2.2rem] h-[2.2rem] bg-ferre_blue300 rounded-full flex justify-center items-center hover:bg-ferre_blue400 active:bg-ferre_blue200",children:p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"4",viewBox:"0 0 12 4",fill:"none",children:p.jsx("path",{d:"M11.9349 3.89478H0.734863V1.89478H11.9349V3.89478Z",fill:"#F6F6F7"})})}),p.jsx("input",{type:"text",value:t,className:"w-[4rem] h-[3rem] px-[0.2rem] py-4xs border border-ferre_blue500 border-2 rounded-lg text-center font-bold text-ferre_blue400"}),p.jsx("button",{onClick:n,className:"w-[2.2rem] h-[2.2rem] bg-ferre_blue300 rounded-full flex justify-center items-center hover:bg-ferre_blue400 active:bg-ferre_blue200",children:p.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"13",viewBox:"0 0 12 13",fill:"none",children:[p.jsx("g",{"clip-path":"url(#clip0_149_161)",children:p.jsx("path",{d:"M11.5347 7.59507H6.73472V12.3951H5.13472V7.59507H0.334717V5.99507H5.13472V1.19507H6.73472V5.99507H11.5347V7.59507Z",fill:"#F6F6F7"})}),p.jsx("defs",{children:p.jsx("clipPath",{id:"clip0_149_161",children:p.jsx("rect",{width:"12",height:"12",fill:"white",transform:"translate(0 0.396729)"})})})]})})]}),Kh=({action:t})=>p.jsxs("button",{onClick:t,className:"w-[10rem] h-[16rem} p-[0.8rem] text-md flex justify-center text-white rounded-xl items-center gap-3xs bg-ferre_blue300 hover:bg-ferre_blue400 active:bg-ferre_blue200",children:[p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"13",height:"14",viewBox:"0 0 12 13",fill:"none",children:p.jsx("path",{d:"M3.77257 12.1712C3.45527 12.1712 3.18373 12.0582 2.95796 11.8323C2.73219 11.6063 2.61911 11.3343 2.61873 11.0163C2.61834 10.6983 2.73142 10.4265 2.95796 10.2009C3.1845 9.97534 3.45603 9.86216 3.77257 9.86139C4.08911 9.86062 4.36084 9.9738 4.58777 10.2009C4.81469 10.4281 4.92757 10.6999 4.92642 11.0163C4.92527 11.3328 4.81238 11.6047 4.58777 11.8323C4.36315 12.0598 4.09142 12.1728 3.77257 12.1712ZM9.5418 12.1712C9.2245 12.1712 8.95296 12.0582 8.72719 11.8323C8.50142 11.6063 8.38834 11.3343 8.38796 11.0163C8.38757 10.6983 8.50065 10.4265 8.72719 10.2009C8.95373 9.97534 9.22526 9.86216 9.5418 9.86139C9.85834 9.86062 10.1301 9.9738 10.357 10.2009C10.5839 10.4281 10.6968 10.6999 10.6956 11.0163C10.6945 11.3328 10.5816 11.6047 10.357 11.8323C10.1324 12.0598 9.86065 12.1728 9.5418 12.1712ZM2.73411 1.77699H11.2437C11.4649 1.77699 11.6331 1.87573 11.7485 2.07322C11.8639 2.27071 11.8687 2.47032 11.763 2.67204L9.71488 6.36777C9.60911 6.56026 9.46738 6.70943 9.28969 6.8153C9.112 6.92117 8.91719 6.9741 8.70527 6.9741H4.40719L3.77257 8.12902H10.6956V9.28393H3.77257C3.33988 9.28393 3.01296 9.09395 2.7918 8.71398C2.57065 8.33402 2.56103 7.95617 2.76296 7.58043L3.5418 6.16566L1.46488 1.77699H0.311035V0.62207H2.18603L2.73411 1.77699Z",fill:"#F6F6F7"})}),p.jsx("span",{children:"Agregar"})]}),L9=({imgsrc:t,name:e,regularPrice:n,salePrice:r,description:i})=>{const s=j.useContext(Ws),l=j.useContext($t),a=()=>{const P={imgsrc:t,name:e,regularPrice:n,description:i};s.openProductDetail(),s.setProductToShow(P)},u=()=>{const P=n*h,k={imgsrc:t,name:e,regularPrice:n,quantity:h,multiplication:P.toFixed(2)};l==null||l.setProductInShoppingCart([...l.productInShoppingCart,k])},[h,f]=j.useState(1),g=()=>{h<9999&&f(h+1)},v=()=>{h>1&&f(h-1)};return p.jsxs("article",{className:"w-[24.7rem] h-[36.5rem]] bg-white shadow-lg shadow-ferre_blue400/25 shadow-xs shadow-ferre_blue400/50 rounded-xl",children:[p.jsx("figure",{onClick:a,className:"w-full h-[12.6rem] mb-4xs cursor-pointer hover:opacity-50",children:p.jsx("img",{className:"w-full h-full object-contain rounded-t-lg",src:t,alt:e})}),p.jsxs("section",{className:"w-full h-full",children:[p.jsxs("div",{className:"w-full h-[11.6rem] mb-xs px-xs flex flex-col justify-between place-content-between items-start",children:[p.jsx("h4",{onClick:a,className:"w-full h-full mb-4xs pt-4xs text-md font-bold text-ferre_blue400 cursor-pointer hover:text-ferre_blue100",children:e}),p.jsxs("p",{className:"w-full h-full flex flex-col",children:[p.jsx("span",{className:"text-sm font-semibold text-ferre_blue50 line-through",children:zt(n)}),p.jsx("span",{className:"text-lg font-bold text-ferre_red",children:zt(r)})]})]}),p.jsxs("div",{className:"px-xs pb-xs flex gap-3xs justify-center items-center",children:[p.jsx(aa,{addQuantity:g,subtractQuantity:v,quantity:h}),p.jsx(Kh,{action:u})]})]})]})},j9=({data:t})=>{const[e,n]=j.useState([]);return j.useEffect(()=>{t&&n(t.filter(r=>r.onSale))},[t]),p.jsx("div",{className:" flex gap-md",children:e.map(r=>p.jsx(L9,{imgsrc:r.imgSrc,name:r.name,regularPrice:r.regularPrice,salePrice:r.salePrice,description:r.description},r.id))})},M9=({imgsrc:t,name:e,regularPrice:n,description:r})=>{const i=j.useContext(Ws),s=()=>{const l={imgsrc:t,name:e,regularPrice:n,description:r};i.openProductDetail(),i.setProductToShow(l)};return p.jsxs("article",{className:"w-[24.7rem] h-[20rem] bg-white shadow-lg shadow-ferre_blue400/25 shadow-xs shadow-ferre_blue400/50 rounded-xl",children:[p.jsx("figure",{onClick:s,className:"w-full h-[12.6rem] mb-4xs cursor-pointer hover:opacity-50",children:p.jsx("img",{className:"w-full h-full object-contain rounded-t-lg",src:t,alt:e})}),p.jsx("section",{className:"w-full h-full",children:p.jsx("div",{className:"w-full h-[11.6rem] mb-xs px-xs flex flex-col justify-between place-content-between items-start",children:p.jsx("h4",{onClick:s,className:"w-full h-full mb-4xs pt-4xs text-md font-bold text-ferre_blue400 cursor-pointer hover:text-ferre_blue100",children:e})})})]})},O9=({data:t})=>{const[e,n]=j.useState([]);return j.useEffect(()=>{t&&n(t.filter(r=>r.isNew))},[t]),p.jsx("div",{className:" flex gap-md",children:e.map(r=>p.jsx(M9,{imgsrc:r.imgSrc,name:r.name,regularPrice:r.regularPrice,description:r.description},r.id))})},F9=({data:t})=>{const[e,n]=j.useState(0),r=()=>{n(e===t.length-1?0:e+1)},i=()=>{n(e===0?t.length-1:e-1)};return p.jsxs("section",{className:"w-full h-[320px] relative",children:[p.jsx("button",{className:"absolute top-1/2 left-xs",onClick:i,children:p.jsx("div",{className:"w-xl h-xl flex items-center justify-center rounded-full bg-ferre_white/30 hover:bg-white/60 active:bg-ferre_blue200/30",children:p.jsx("svg",{className:"-rotate-90",xmlns:"http://www.w3.org/2000/svg",width:"20",height:"16",viewBox:"0 0 20 16",fill:"none",children:p.jsx("path",{d:"M19.5384 15.8793L15.7884 15.8793L10.1634 4.62927L9.78838 4.62927L4.16338 15.8793L0.413376 15.8793L7.91338 0.879272L12.0384 0.879272L19.5384 15.8793Z",fill:"#113096"})})})}),p.jsx("div",{className:"rounded-md flex ",children:t.map((s,l)=>p.jsx("img",{src:s.url,alt:s.alt,className:e===l?" w-full h-[320px] inline-block rounded-3xl object-cover":"hidden"},l))}),p.jsx("button",{className:"absolute top-1/2 right-xs",onClick:r,children:p.jsx("div",{className:"w-xl h-xl flex items-center justify-center rounded-full bg-ferre_white/30 hover:bg-white/60 active:bg-ferre_blue200/30",children:p.jsx("svg",{className:"rotate-90",xmlns:"http://www.w3.org/2000/svg",width:"20",height:"16",viewBox:"0 0 20 16",fill:"none",children:p.jsx("path",{d:"M19.5384 15.8793L15.7884 15.8793L10.1634 4.62927L9.78838 4.62927L4.16338 15.8793L0.413376 15.8793L7.91338 0.879272L12.0384 0.879272L19.5384 15.8793Z",fill:"#113096"})})})}),p.jsx("span",{className:"flex gap-2xs absolute bottom-xs left-1/2",children:t.map((s,l)=>p.jsx("button",{onClick:()=>{n(l)},className:e===l?"w-xs h-xs bg-ferre_blue500 rounded-3xl":"w-xs h-xs bg-white rounded-3xl"},l))})]})},U9=[{url:"src/assets/img/slide1.jpeg",alt:"texto alternativo de img1"},{url:"src/assets/img/slide2.jpeg",alt:"texto alternativo de img2"},{url:"src/assets/img/slide3.jpeg",alt:"texto alternativo de img3"}],B9=({data:t})=>p.jsxs(Hn,{children:[p.jsx(qn,{inicio:!0}),p.jsx(F9,{data:U9}),p.jsx(im,{title:"Ofertas",children:p.jsx(j9,{data:t})}),p.jsx(im,{title:"Novedades",children:p.jsx(O9,{data:t})})]}),Qs=({children:t})=>p.jsx("section",{className:"w-full h-full grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 2xl:grid-cols-5 gap-xl",children:t}),Ks=({imgsrc:t,name:e,regularPrice:n,description:r})=>{const i=j.useContext(Ws),s=j.useContext($t),l=()=>{const v={imgsrc:t,name:e,regularPrice:n,description:r};i.openProductDetail(),i.setProductToShow(v)},a=()=>{const v=n*u,P={imgsrc:t,name:e,regularPrice:n,quantity:u,multiplication:v.toFixed(2)};s==null||s.setProductInShoppingCart([...s.productInShoppingCart,P])},[u,h]=j.useState(1),f=()=>{u<9999&&h(u+1)},g=()=>{u>1&&h(u-1)};return p.jsxs("article",{className:"w-full h-[36.5rem] grid grid-rows-2 bg-white shadow-lg shadow-ferre_blue400/25 shadow-xs shadow-ferre_blue400/50 rounded-xl",children:[p.jsx("figure",{onClick:l,className:"w-full h-full mb-4xs cursor-pointer hover:opacity-50",children:p.jsx("img",{className:"w-full h-full object-contain rounded-t-lg",src:t,alt:e})}),p.jsxs("section",{className:"w-full h-full",children:[p.jsxs("div",{className:"w-full h-[11.6rem] mb-xs px-xs flex flex-col justify-between place-content-between items-start",children:[p.jsx("h4",{onClick:l,className:"w-full h-full mb-4xs pt-4xs text-lg font-bold text-ferre_blue400 cursor-pointer hover:text-ferre_blue100",children:e}),p.jsx("p",{className:"w-full h-full",children:p.jsx("span",{className:"text-lg font-bold text-ferre_blue200",children:zt(n)})})]}),p.jsxs("div",{className:"w-full flex px-xs justify-between items-center",children:[p.jsx(aa,{addQuantity:f,subtractQuantity:g,quantity:u}),p.jsx(Kh,{action:a})]})]})]})},b9=({data:t})=>{const[e,n]=j.useState([]);return j.useEffect(()=>{t&&n(t.filter(r=>r.id.startsWith("c")))},[t]),p.jsxs(Hn,{children:[p.jsx(qn,{construccion:!0}),p.jsx(Qs,{children:e.map(r=>p.jsx(Ks,{onClick:()=>setshowDetails(!0),imgsrc:r.imgSrc,name:r.name,regularPrice:r.regularPrice,description:r.description},r.id))})]})},z9=({data:t})=>{const[e,n]=j.useState([]);return j.useEffect(()=>{t&&n(t.filter(r=>r.id.startsWith("hrra")))},[t]),p.jsxs(Hn,{children:[p.jsx(qn,{herramientas:!0}),p.jsx(Qs,{children:e.map(r=>p.jsx(Ks,{imgsrc:r.imgSrc,name:r.name,regularPrice:r.regularPrice,description:r.description},r.id))})]})},$9=({data:t})=>{const[e,n]=j.useState([]);return j.useEffect(()=>{t&&n(t.filter(r=>r.id.startsWith("hrre")))},[t]),p.jsxs(Hn,{children:[p.jsx(qn,{herreria:!0}),p.jsx(Qs,{children:e.map(r=>p.jsx(Ks,{imgsrc:r.imgSrc,name:r.name,regularPrice:r.regularPrice,description:r.description},r.id))})]})},H9=({data:t})=>{const[e,n]=j.useState([]);return j.useEffect(()=>{t&&n(t.filter(r=>r.id.startsWith("plo")))},[t]),p.jsxs(Hn,{children:[p.jsx(qn,{plomeria:!0}),p.jsx(Qs,{children:e.map(r=>p.jsx(Ks,{imgsrc:r.imgSrc,name:r.name,regularPrice:r.regularPrice},r.id))})]})},q9=({data:t})=>{const[e,n]=j.useState([]);return j.useEffect(()=>{t&&n(t.filter(r=>r.id.startsWith("pin")))},[t]),p.jsxs(Hn,{children:[p.jsx(qn,{pintura:!0}),p.jsx(Qs,{children:e.map(r=>p.jsx(Ks,{imgsrc:r.imgSrc,name:r.name,regularPrice:r.regularPrice,description:r.description},r.id))})]})},W9=()=>p.jsxs(Hn,{children:[p.jsx(qn,{}),p.jsx("div",{className:"w-full h-full mt-3xl flex justify-center ",children:p.jsxs("p",{className:"flex flex-col text-ferre_blue200",children:[p.jsx("span",{className:"text-[112px] text-center",children:"404"}),p.jsx("span",{className:"text-[32px] text-center",children:"Página no encontrada"})]})})]}),z0=({text:t})=>p.jsxs("button",{className:"w-full py-4xs px-xs text-white text-base bg-ferre_blue200 flex gap-4xs justify-center items-center rounded-lg hover:bg-ferre_blue300 active:bg-ferre_blue200  ",children:[t,p.jsx("span",{children:p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"25",height:"24",viewBox:"0 0 25 24",fill:"none",children:p.jsx("path",{d:"M4.98633 12L20.9863 12M20.9863 12L14.9863 18M20.9863 12L14.9863 6",stroke:"white","stroke-width":"3","stroke-linecap":"round","stroke-linejoin":"round"})})})]}),Q9=({imgsrc:t,name:e,price:n,productQuantity:r})=>{const[i,s]=j.useState(r),l=()=>{i<9999&&s(i+1)},a=()=>{i>1&&s(i-1)},u=j.useContext($t),h=()=>{u.deleteProductCart(e)};return p.jsxs(p.Fragment,{children:[p.jsxs("div",{className:"w-full grid grid-cols-6 gap-3xl items-center",children:[p.jsx("div",{className:"w-fit col-span-1",children:p.jsx("svg",{className:"hover:opacity-60 hover:cursor-pointer",onClick:()=>h(),xmlns:"http://www.w3.org/2000/svg",width:"17",height:"16",viewBox:"0 0 17 16",fill:"none",children:p.jsx("path",{d:"M1.40528 1.95879L14.7386 15.2921M14.7386 1.89844L1.40527 15.2318",stroke:"#113096","stroke-width":"2"})})}),p.jsx("div",{className:"w-fit col-span-1",children:p.jsx("figure",{children:p.jsx("img",{className:"w-3xl h-auto",src:t,alt:e})})}),p.jsx("div",{children:p.jsxs("p",{className:"flex flex-col gap-xs text-base font-bold text-ferre_blue300",children:[e,p.jsx("span",{className:"text-base font-medium text-ferre_blue200",children:zt(n)})]})}),p.jsx("div",{className:"w-full col-span-1",children:p.jsx(aa,{addQuantity:l,subtractQuantity:a,quantity:i})}),p.jsx("div",{className:"w-full col-span-2",children:p.jsx("h3",{className:"text-xl text-right",children:zt(n*i)})})]}),p.jsx("hr",{className:"w-full border-ferre_blue20"})]})},K9=()=>{var r;const t=j.useContext($t),e=()=>t.productInShoppingCart.reduce((i,s)=>i+=s==null?void 0:s.quantity,0),n=()=>t.productInShoppingCart.reduce((i,s)=>i+=parseInt(s==null?void 0:s.multiplication),0);return p.jsxs(Hn,{children:[p.jsx(qn,{}),p.jsx("section",{className:"w-full px-[128px]",children:p.jsx("h1",{className:"text-2xl font-bold text-ferre_blue200",children:"Mi orden"})}),((r=t==null?void 0:t.productInShoppingCart)==null?void 0:r.length)>0?p.jsxs("section",{className:"w-full h-full flex flex-col items-end justify-center",children:[p.jsx("section",{className:"w-full h-full px-[224px] flex flex-col gap-xs",children:t.productInShoppingCart.map((i,s)=>p.jsx(Q9,{imgsrc:i.imgsrc,name:i.name,price:i.regularPrice,productQuantity:i.quantity},s))}),p.jsxs("section",{className:"mt-[64px] px-[224px] flex flex-col items-end",children:[p.jsxs("div",{className:"w-[460px] mb-xl text-lg flex flex-col gap-xs",children:[p.jsxs("div",{className:"flex justify-between",children:[p.jsx("h3",{className:"font-bold text-ferre_blue300",children:"Artículos:"}),p.jsx("p",{className:"text-ferre_blue300",children:e()})]}),p.jsxs("div",{className:"flex justify-between",children:[p.jsx("h3",{className:"font-bold text-ferre_blue300",children:"Subtotal:"}),p.jsx("p",{className:"text-ferre_blue300",children:zt(n())})]}),p.jsxs("div",{className:"flex justify-between",children:[p.jsx("h3",{className:"font-bold text-ferre_blue300",children:"Envío:"}),p.jsx("p",{className:"text-ferre_blue300",children:"DOP$ 120.00"})]}),p.jsx("hr",{}),p.jsxs("div",{className:"flex justify-between",children:[p.jsx("h3",{className:"font-bold text-ferre_blue300",children:"Total:"}),p.jsx("p",{className:"text-lg font-bold text-ferre_blue200",children:zt(n()+120)})]})]}),p.jsx(z0,{text:"Pagar"})]})]}):p.jsxs("section",{className:"w-full h-full mb-4xl flex flex-col gap-xs justify-center items-center",children:[p.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"56",height:"56",viewBox:"0 0 24 24",fill:"none",children:[p.jsx("path",{d:"M7.5 11L8.5 16",stroke:"#154CFF","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"}),p.jsx("path",{d:"M3.03978 4.294C3.02509 4.20434 3.03511 4.11237 3.06876 4.02798C3.10242 3.94358 3.15843 3.86995 3.23078 3.815C3.92678 3.32 6.31378 2 11.9998 2C17.6858 2 20.0728 3.32 20.7688 3.815C20.8413 3.86984 20.8975 3.94341 20.9314 4.02782C20.9652 4.11222 20.9754 4.20425 20.9608 4.294L19.2608 17.038C19.1794 17.648 18.9585 18.2309 18.615 18.7415C18.2716 19.2521 17.815 19.6766 17.2808 19.982L16.9608 20.165C15.4499 21.0283 13.7399 21.4823 11.9998 21.4823C10.2597 21.4823 8.54966 21.0283 7.03878 20.165L6.71878 19.982C6.18453 19.6766 5.72794 19.2521 5.38452 18.7415C5.0411 18.2309 4.82013 17.648 4.73878 17.038L3.03978 4.294Z",stroke:"#154CFF","stroke-width":"1.5"}),p.jsx("path",{d:"M3 5C5.571 7.667 18.429 7.667 21 5",stroke:"#154CFF","stroke-width":"1.5"})]}),p.jsx("p",{className:"text-xl text-ferre_blue200",children:"No hay productos en tu orden"})]})]})},G9=({name:t,img:e,price:n,quantity:r,multiplication:i})=>{const s=j.useContext($t),l=()=>{s.deleteProductCart(t)};return p.jsxs("article",{className:"w-full h-fit flex gap-xs",children:[p.jsxs("div",{className:"w-full flex gap-xs items-center justify-start",children:[p.jsx("div",{onClick:()=>l(),className:"w-[24px] h-[24px] flex justify-center items-center bg-ferre_blue20 rounded-full hover:bg-ferre_blue200 active:bg-ferre_blue400 hover:cursor-pointer",children:p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"13",height:"13",viewBox:"0 0 13 13",fill:"none",children:p.jsx("path",{d:"M1.48633 1.46324L11.4863 11.4632M11.4863 1.41797L1.48633 11.418",stroke:"white","stroke-width":"2"})})}),p.jsx("figure",{className:"w-[6rem] h-auto object-cover",children:p.jsx("img",{className:"w-full h-full",src:e,alt:t})}),p.jsx("h4",{className:"max-w-md text-base text-ferre_blue400",children:t})]}),p.jsxs("div",{className:"w-fit h-full text-base",children:[p.jsx("p",{className:"text-ferre_blue500 whitespace-nowrap",children:zt(n)}),p.jsxs("p",{className:"text-ferre_blue500 whitespace-nowrap",children:["x",r]}),p.jsx("p",{className:"font-bold text-ferre_blue300 whitespace-nowrap",children:zt(i)})]})]})},X9=()=>{var n;const t=j.useContext($t),e=()=>{var r;return(r=t==null?void 0:t.productInShoppingCart)==null?void 0:r.reduce((i,s)=>i+parseFloat(s.multiplication),0)};return p.jsx("section",{className:`${t!=null&&t.showShoppingCart?"fixed z-10 w-full h-full py-2xl bg-ferre_blue400/60 flex justify-end items-center":"hidden"}`,children:p.jsxs("div",{className:"w-1/3 h-full flex flex-col bg-ferre_white rounded-l-xl",children:[p.jsx("div",{className:"w-full mb-xs p-xs",children:p.jsx("svg",{className:"hover:opacity-60 hover:cursor-pointer",onClick:()=>t==null?void 0:t.setShowShoppingCart(!t.showShoppingCart),xmlns:"http://www.w3.org/2000/svg",width:"17",height:"16",viewBox:"0 0 17 16",fill:"none",children:p.jsx("path",{d:"M1.40528 1.95879L14.7386 15.2921M14.7386 1.89844L1.40527 15.2318",stroke:"#113096","stroke-width":"2"})})}),p.jsx("div",{className:"w-full mb-xs text-center",children:p.jsx("h1",{className:"text-xl",children:"Carrito de compras"})}),p.jsx("hr",{className:"border-ferre_blue400 "}),t.productInShoppingCart.length>0?p.jsxs(p.Fragment,{children:[p.jsx("div",{className:"w-full h-full p-md flex flex-col gap-md overflow-y-auto",children:(n=t==null?void 0:t.productInShoppingCart)==null?void 0:n.map((r,i)=>p.jsx(G9,{name:r.name,img:r.imgsrc,price:r.regularPrice,quantity:r.quantity,multiplication:r.multiplication},i))}),p.jsxs("div",{className:"w-full p-lg flex flex-col items-end gap-md",children:[p.jsxs("div",{className:"w-full flex gap-xs justify-between",children:[p.jsx("p",{className:"text-xl font-semibold text-ferre_blue300",children:"Total:"}),p.jsx("p",{className:"text-xl font-semibold text-ferre_blue300",children:p.jsx("span",{children:zt(e())})})]}),p.jsx(Ke,{onClick:()=>t==null?void 0:t.setShowShoppingCart(!t.showShoppingCart),className:"w-full",to:"/miorden",children:p.jsx(z0,{text:"Realizar pedido"})})]})]}):p.jsxs("section",{className:"w-full h-full mb-4xl flex flex-col gap-xs justify-center items-center",children:[p.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"56",height:"56",viewBox:"0 0 24 24",fill:"none",children:[p.jsx("path",{d:"M7.5 11L8.5 16",stroke:"#154CFF","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"}),p.jsx("path",{d:"M3.03978 4.294C3.02509 4.20434 3.03511 4.11237 3.06876 4.02798C3.10242 3.94358 3.15843 3.86995 3.23078 3.815C3.92678 3.32 6.31378 2 11.9998 2C17.6858 2 20.0728 3.32 20.7688 3.815C20.8413 3.86984 20.8975 3.94341 20.9314 4.02782C20.9652 4.11222 20.9754 4.20425 20.9608 4.294L19.2608 17.038C19.1794 17.648 18.9585 18.2309 18.615 18.7415C18.2716 19.2521 17.815 19.6766 17.2808 19.982L16.9608 20.165C15.4499 21.0283 13.7399 21.4823 11.9998 21.4823C10.2597 21.4823 8.54966 21.0283 7.03878 20.165L6.71878 19.982C6.18453 19.6766 5.72794 19.2521 5.38452 18.7415C5.0411 18.2309 4.82013 17.648 4.73878 17.038L3.03978 4.294Z",stroke:"#154CFF","stroke-width":"1.5"}),p.jsx("path",{d:"M3 5C5.571 7.667 18.429 7.667 21 5",stroke:"#154CFF","stroke-width":"1.5"})]}),p.jsx("p",{className:"text-lg text-ferre_blue200",children:"No hay productos en tu carrito"})]})]})})},Y9=()=>{const t=j.useContext(Ws),e=j.useContext($t),n=()=>{const u=t.productToShow.regularPrice*r,h={imgsrc:t==null?void 0:t.productToShow.imgsrc,name:t==null?void 0:t.productToShow.name,regularPrice:t==null?void 0:t.productToShow.regularPrice,quantity:r,multiplication:u.toFixed(2)};e==null||e.setProductInShoppingCart([...e.productInShoppingCart,h]),a()},[r,i]=j.useState(1),s=()=>{r<9999&&i(r+1)},l=()=>{r>1&&i(r-1)},a=()=>{t==null||t.closeProductDetail(),i(1)};return p.jsx("article",{className:`${t!=null&&t.isProductDetailOpen?"fixed z-10 w-screen h-screen bg-ferre_blue400/80":"hidden"}`,children:p.jsx("div",{className:"w-screen h-screen p-2xs flex justify-center items-center",children:p.jsxs("div",{className:"relative max-w-[80rem] h-fit bg-ferre_white grid grid-cols-2 rounded-xl",children:[p.jsx("button",{onClick:a,className:"absolute z-10 right-xs top-xs hover:opacity-60",children:p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",children:p.jsx("path",{d:"M0.918953 1.95928L14.2523 15.2926M14.2523 1.89893L0.918945 15.2323",stroke:"#081850",strokeWidth:"1.5"})})}),p.jsx("div",{className:"w-full h-full",children:p.jsx("figure",{className:"w-full h-full flex justify-center items-center p-md",children:p.jsx("img",{className:"w-full h-full object-contain rounded-xl",src:t==null?void 0:t.productToShow.imgsrc,alt:t==null?void 0:t.productToShow.name})})}),p.jsxs("div",{className:"w-full h-full flex flex-col p-lg place-content-between",children:[p.jsxs("div",{className:"mt-md mb-md flex flex-col place-content-between",children:[p.jsx("h4",{className:"mb-md font-bold text-xl text-ferre_blue300",children:t==null?void 0:t.productToShow.name}),p.jsx("p",{className:"mb-xl font-medium text-lg text-ferre_blue400",children:t==null?void 0:t.productToShow.description}),p.jsxs("p",{className:"text-xl font-bold text-ferre_blue200",children:["DOP$ ",t==null?void 0:t.productToShow.regularPrice]})]}),p.jsxs("div",{className:"mb-md flex items-center justify-between",children:[p.jsx(aa,{addQuantity:s,subtractQuantity:l,quantity:r}),p.jsx(Kh,{action:n})]})]})]})})})};function Z9(){const t=j.useContext(b0);return p.jsx(R9,{children:p.jsx(D9,{children:p.jsxs(q_,{children:[p.jsx(X9,{}),p.jsx(Y9,{}),p.jsxs(O_,{children:[p.jsx(Yt,{exact:!0,path:"/",element:p.jsx(B9,{data:t==null?void 0:t.data})}),p.jsx(Yt,{exact:!0,path:"/construccion",element:p.jsx(b9,{data:t==null?void 0:t.data})}),p.jsx(Yt,{exact:!0,path:"/herramientas",element:p.jsx(z9,{data:t==null?void 0:t.data})}),p.jsx(Yt,{exact:!0,path:"/herreria",element:p.jsx($9,{data:t==null?void 0:t.data})}),p.jsx(Yt,{exact:!0,path:"/plomeria",element:p.jsx(H9,{data:t==null?void 0:t.data})}),p.jsx(Yt,{exact:!0,path:"/pintura",element:p.jsx(q9,{data:t==null?void 0:t.data})}),p.jsx(Yt,{exact:!0,path:"/miorden",element:p.jsx(K9,{})}),p.jsx(Yt,{exact:!0,path:"/*",element:p.jsx(W9,{})})]})]})})})}y1(document.getElementById("root")).render(p.jsx(j.StrictMode,{children:p.jsx(A9,{children:p.jsx(Z9,{})})}));
